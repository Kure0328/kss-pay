/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={444:(e,t,n)=>{"use strict";n.d(t,{BH:()=>u,LL:()=>_,ZR:()=>I,tV:()=>o,r3:()=>T,Sg:()=>c,ne:()=>D,vZ:()=>k,ZB:()=>a,pd:()=>N,m9:()=>O,z$:()=>l,jU:()=>f,ru:()=>p,d:()=>g,xb:()=>S,w1:()=>v,hl:()=>w,uI:()=>h,UG:()=>d,b$:()=>m,G6:()=>b,Mn:()=>y,xO:()=>A,zd:()=>x});const i=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let t=0;t<e.length;t+=3){const r=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,u=a?e[t+2]:0,c=r>>2,l=(3&r)<<4|o>>4;let h=(15&o)<<2|u>>6,d=63&u;a||(d=64,s||(h=64)),i.push(n[c],n[l],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let t=0;t<e.length;){const r=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==r||null==s||null==o||null==a)throw Error();const u=r<<2|s>>4;if(i.push(u),64!==o){const e=s<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=i(e);return r.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return r.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function c(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function d(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function f(){return"object"==typeof self&&self.self===self}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return l().indexOf("Electron/")>=0}function v(){const e=l();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y(){return l().indexOf("MSAppHost/")>=0}function b(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w(){return"object"==typeof indexedDB}class I extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(E,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new I(i,o,n)}}const E=/\{\$([^}]+)}/g;function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function k(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(C(n)&&C(s)){if(!k(n,s))return!1}else if(n!==s)return!1}for(const e of i)if(!n.includes(e))return!1;return!0}function C(e){return null!==e&&"object"==typeof e}function A(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function x(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function N(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){const n=new R(e,t);return n.subscribe.bind(n)}class R{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=P),void 0===i.error&&(i.error=P),void 0===i.complete&&(i.complete=P);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function P(){}function O(e){return e&&e._delegate?e._delegate:e}},211:(e,t,n)=>{var i;!function(){var r=window.CustomEvent;function s(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function o(e){e&&e.blur&&e!==document.body&&e.blur()}function a(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function u(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var s="DOMNodeRemoved";n|=r.type.substr(0,s.length)===s,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!=typeof r||((r=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}o(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var l={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(e){}if(i)for(var r=0;r<i.length;++r){var s=i[r],o=null;try{o=document.querySelectorAll(s.selectorText)}catch(e){}if(o&&a(o,e)){var u=s.style.getPropertyValue("top"),c=s.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return!("absolute"!==window.getComputedStyle(e).position||"auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom||l.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||l.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=s(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),o(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},l.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t||(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),0))},l.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var f=d.get;d.get=function(){return u(this)?"dialog":f.call(this)};var p=d.set;d.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):p.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",(function(e){if(l.formSubmitter=null,l.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&u(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;l.useValue=e.offsetX+","+e.offsetY}s(t)&&(l.formSubmitter=t)}}}),!1);var m=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return m.call(this);var e=s(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(u(t)){e.preventDefault();var n=s(t);if(n){var i=l.formSubmitter;i&&i.form===t?n.close(l.useValue||i.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n.amdD?void 0===(i=function(){return l}.call(t,n,t,e))||(e.exports=i):"object"==typeof e.exports?e.exports=l:window.dialogPolyfill=l}()},902:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.Z});var i=n(180);i.Z.registerVersion("firebase","9.6.1","app-compat")},423:(e,t,n)=>{"use strict";n.r(t);var i=n(180),r=n(444),s=n(238);function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create,Object.create;var a=n(333),u=n(463);const c=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},l=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},h=new r.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new a.Yd("@firebase/auth");function f(e,...t){d.logLevel<=a.in.ERROR&&d.error(`Auth (${s.SDK_VERSION}): ${e}`,...t)}function p(e,...t){throw y(e,...t)}function m(e,...t){return y(e,...t)}function g(e,t,n){const i=Object.assign(Object.assign({},l()),{[t]:n});return new r.LL("auth","Firebase",i).create(t,{appName:e.name})}function v(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&p(e,"argument-error"),g(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return h.create(e,...t)}function b(e,t,...n){if(!e)throw y(t,...n)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function I(e,t){e||w(t)}const _=new Map;function E(e){I(e instanceof Function,"Expected a class definition");let t=_.get(e);return t?(I(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_.set(e,t),t)}function T(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,I(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(S()||(0,r.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function A(e,t){I(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},D=new C(3e4,6e4);function R(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function P(e,t,n,i,s={}){return O(e,s,(async()=>{let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),x.fetch()(M(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))}))}async function O(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},N),t);try{const t=new F(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw U(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw U(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw U(e,"email-already-in-use",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw g(e,a,o);p(e,a)}}catch(t){if(t instanceof r.ZR)throw t;p(e,"network-request-failed")}}async function L(e,t,n,i,r={}){const s=await P(e,t,n,i,r);return"mfaPendingCredential"in s&&p(e,"multi-factor-auth-required",{_serverResponse:s}),s}function M(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?A(e.config,r):`${e.config.apiScheme}://${r}`}class F{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(m(this.auth,"timeout"))),D.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function U(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=m(e,t,i);return r.customData._tokenResponse=n,r}function j(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function V(e){return 1e3*Number(e)}function B(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.tV)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(e){return f("Caught error parsing JWT payload as JSON",e),null}}async function q(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof r.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class H{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class K{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=j(this.lastLoginAt),this.creationTime=j(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function G(e){var t;const n=e.auth,i=await e.getIdToken(),r=await q(e,async function(e,t){return P(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));b(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=o(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=(c=e.providerData,l=a,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const h=e.isAnonymous,d=!(e.email&&s.passwordHash||(null==u?void 0:u.length)),f=!!h&&d,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new K(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,p)}class W{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(void 0!==e.idToken,"internal-error"),b(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=B(e);return b(t,"internal-error"),b(void 0!==t.exp,"internal-error"),b(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return b(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await async function(e,t){const n=await O(e,{},(async()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=M(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",x.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new W;return n&&(b("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(b("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(b("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new W,this.toJSON())}_performRefresh(){return w("not implemented")}}function z(e,t){b("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ${constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new H(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.metadata=new K(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await q(this,this.stsTokenManager.getToken(this.auth,e));return b(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,r.m9)(e),i=await n.getIdToken(t),s=B(i);b(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:j(V(s.auth_time)),issuedAtTime:j(V(s.iat)),expirationTime:j(V(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,r.m9)(e);await G(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new $(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await G(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await q(this,async function(e,t){return P(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:I,providerData:_,stsTokenManager:E}=t;b(y&&E,e,"internal-error");const T=W.fromJSON(this.name,E);b("string"==typeof y,e,"internal-error"),z(l,e.name),z(h,e.name),b("boolean"==typeof w,e,"internal-error"),b("boolean"==typeof I,e,"internal-error"),z(d,e.name),z(f,e.name),z(p,e.name),z(m,e.name),z(g,e.name),z(v,e.name);const S=new $({uid:y,auth:e,email:h,emailVerified:w,displayName:l,isAnonymous:I,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){const i=new W;i.updateFromServerResponse(t);const r=new $({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await G(r),r}}class Y{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Y.type="NONE";const J=Y;function Q(e,t,n){return`firebase:${e}:${t}:${n}`}class X{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Q(this.userKey,i.apiKey,r),this.fullPersistenceKey=Q("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new X(E(J),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||E(J);const s=Q(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const i=$._fromJSON(e,t);n!==r&&(o=i),r=n;break}}catch(e){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(e){}}))),new X(r,e,n)):new X(r,e,n)}}function Z(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ie(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ee(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(se(t))return"Blackberry";if(oe(t))return"Webos";if(te(t))return"Safari";if((t.includes("chrome/")||ne(t))&&!t.includes("edge/"))return"Chrome";if(re(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function ee(e=(0,r.z$)()){return/firefox\//i.test(e)}function te(e=(0,r.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ne(e=(0,r.z$)()){return/crios\//i.test(e)}function ie(e=(0,r.z$)()){return/iemobile/i.test(e)}function re(e=(0,r.z$)()){return/android/i.test(e)}function se(e=(0,r.z$)()){return/blackberry/i.test(e)}function oe(e=(0,r.z$)()){return/webos/i.test(e)}function ae(e=(0,r.z$)()){return/iphone|ipad|ipod/i.test(e)}function ue(e=(0,r.z$)()){return ae(e)||re(e)||oe(e)||se(e)||/windows phone/i.test(e)||ie(e)}function ce(e,t=[]){let n;switch(e){case"Browser":n=Z((0,r.z$)());break;case"Worker":n=`${Z((0,r.z$)())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${s.SDK_VERSION}/${i}`}class le{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new de(this),this.idTokenSubscription=new de(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=E(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await X.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);i&&i!==r||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(b(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await G(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.m9)(e):null;return t&&b(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&b(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(E(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&E(e)||this._popupRedirectResolver;b(t,this,"argument-error"),this.redirectPersistenceManager=await X.create(this,[E(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return b(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"==typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function he(e){return(0,r.m9)(e)}class de{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.ne)((e=>this.observer=e))}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class me{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}async function ge(e,t){return P(e,"POST","/v1/accounts:resetPassword",R(e,t))}async function ve(e,t){return P(e,"POST","/v1/accounts:update",t)}async function ye(e,t){return P(e,"POST","/v1/accounts:sendOobCode",R(e,t))}class be extends me{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new be(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new be(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",R(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",R(e,t))}(e,{email:this._email,oobCode:this._password});default:p(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ve(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",R(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:p(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function we(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",R(e,t))}class Ie extends me{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ie(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=o(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Ie(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return we(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,we(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,we(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,r.xO)(t)}return e}}const _e={USER_NOT_FOUND:"user-not-found"};class Ee extends me{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ee({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ee({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await L(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,t));if(n.temporaryProof)throw U(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),_e)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Ee({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Te{constructor(e){var t,n,i,s,o,a;const u=(0,r.zd)((0,r.pd)(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);b(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,r.zd)((0,r.pd)(e)).link,n=t?(0,r.zd)((0,r.pd)(t)).deep_link_id:null,i=(0,r.zd)((0,r.pd)(e)).deep_link_id;return(i?(0,r.zd)((0,r.pd)(i)).link:null)||i||n||t||e}(e);try{return new Te(t)}catch(e){return null}}}class Se{constructor(){this.providerId=Se.PROVIDER_ID}static credential(e,t){return be._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Te.parseLink(t);return b(n,"argument-error"),be._fromEmailAndCode(e,n.code,n.tenantId)}}Se.PROVIDER_ID="password",Se.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Se.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ke{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ce extends ke{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ae extends Ce{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return b("providerId"in t&&"signInMethod"in t,"argument-error"),Ie._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return b(e.idToken||e.accessToken,"argument-error"),Ie._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ae.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ae.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:s,providerId:o}=e;if(!(n||i||t||r))return null;if(!o)return null;try{return new Ae(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:r})}catch(e){return null}}}class xe extends Ce{constructor(){super("facebook.com")}static credential(e){return Ie._fromParams({providerId:xe.PROVIDER_ID,signInMethod:xe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xe.credentialFromTaggedObject(e)}static credentialFromError(e){return xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return xe.credential(e.oauthAccessToken)}catch(e){return null}}}xe.FACEBOOK_SIGN_IN_METHOD="facebook.com",xe.PROVIDER_ID="facebook.com";class Ne extends Ce{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ie._fromParams({providerId:Ne.PROVIDER_ID,signInMethod:Ne.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ne.credentialFromTaggedObject(e)}static credentialFromError(e){return Ne.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ne.credential(t,n)}catch(e){return null}}}Ne.GOOGLE_SIGN_IN_METHOD="google.com",Ne.PROVIDER_ID="google.com";class De extends Ce{constructor(){super("github.com")}static credential(e){return Ie._fromParams({providerId:De.PROVIDER_ID,signInMethod:De.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return De.credentialFromTaggedObject(e)}static credentialFromError(e){return De.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return De.credential(e.oauthAccessToken)}catch(e){return null}}}De.GITHUB_SIGN_IN_METHOD="github.com",De.PROVIDER_ID="github.com";class Re extends me{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return we(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,we(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,we(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new Re(n,r):null}static _create(e,t){return new Re(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pe extends ke{constructor(e){b(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Pe.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Pe.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Re.fromJSON(e);return b(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Re._create(n,t)}catch(e){return null}}}class Oe extends Ce{constructor(){super("twitter.com")}static credential(e,t){return Ie._fromParams({providerId:Oe.PROVIDER_ID,signInMethod:Oe.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oe.credentialFromTaggedObject(e)}static credentialFromError(e){return Oe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Oe.credential(t,n)}catch(e){return null}}}async function Le(e,t){return L(e,"POST","/v1/accounts:signUp",R(e,t))}Oe.TWITTER_SIGN_IN_METHOD="twitter.com",Oe.PROVIDER_ID="twitter.com";class Me{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await $._fromIdTokenResponse(e,n,i),s=Fe(n);return new Me({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Fe(n);return new Me({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Fe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ue extends r.ZR{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ue.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Ue(e,t,n,i)}}function je(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ue._fromErrorAndOperation(e,n,t,i);throw n}))}function Ve(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Be(e,t,n=!1){const i=await q(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Me._forOperation(e,"link",i)}async function qe(e,t,n){await G(t);const i=!1===e?"provider-already-linked":"no-such-provider";b(Ve(t.providerData).has(n)===e,t.auth,i)}async function He(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const s=await q(e,je(i,r,t,e),n);b(s.idToken,i,"internal-error");const o=B(s.idToken);b(o,i,"internal-error");const{sub:a}=o;return b(e.uid===a,i,"user-mismatch"),Me._forOperation(e,r,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&p(i,"user-mismatch"),e}}async function Ke(e,t,n=!1){const i="signIn",r=await je(e,i,t),s=await Me._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function Ge(e,t){return Ke(he(e),t)}async function We(e,t){const n=(0,r.m9)(e);return await qe(!1,n,t.providerId),Be(n,t)}async function ze(e,t){return He((0,r.m9)(e),t)}class $e{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ye._fromServerResponse(e,t):p(e,"internal-error")}}class Ye extends $e{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ye(t)}}function Je(e,t,n){var i;b((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),b(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(b(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(b(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Qe(e,t){const n=(0,r.m9)(e),i=await ge(n,{oobCode:t}),s=i.requestType;switch(b(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":b(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":b(i.mfaInfo,n,"internal-error");default:b(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=$e._fromServerResponse(he(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function Xe(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=await q(e,ve(i,r));await e._updateTokensIfNecessary(s,!0)}class Ze{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class et extends Ze{constructor(e,t,n,i){super(e,t,n),this.username=i}}class tt extends Ze{constructor(e,t){super(e,"facebook.com",t)}}class nt extends et{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class it extends Ze{constructor(e,t){super(e,"google.com",t)}}class rt extends et{constructor(e,t,n){super(e,"twitter.com",t,n)}}function st(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null==e?void 0:e.idToken)){const i=null===(n=null===(t=B(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new Ze(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new tt(s,r);case"github.com":return new nt(s,r);case"google.com":return new it(s,r);case"twitter.com":return new rt(s,r,e.screenName||null);case"custom":case"anonymous":return new Ze(s,null);default:return new Ze(s,i,r)}}(n)}class ot{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new ot("enroll",e)}static _fromMfaPendingCredential(e){return new ot("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ot._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ot._fromIdtoken(e.multiFactorSession.idToken)}return null}}class at{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=he(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>$e._fromServerResponse(n,e)));b(i.mfaPendingCredential,n,"internal-error");const s=ot._fromMfaPendingCredential(i.mfaPendingCredential);return new at(s,r,(async e=>{const r=await e._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const o=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await Me._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return b(t.user,n,"internal-error"),Me._forOperation(t.user,t.operationType,o);default:p(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ut{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>$e._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ut(e)}async getSession(){return ot._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,i=await this.getSession(),r=await q(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),i=await q(this.user,(r=this.user.auth,s={idToken:n,mfaEnrollmentId:t},P(r,"POST","/v2/accounts/mfaEnrollment:withdraw",R(r,s))));var r,s;this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const ct=new WeakMap,lt="__sak";class ht{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lt,"1"),this.storage.removeItem(lt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dt extends ht{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,r.z$)();return te(e)||ae(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ue(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,r.w1)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dt.type="LOCAL";const ft=dt;class pt extends ht{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pt.type="SESSION";const mt=pt;class gt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new gt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vt(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}gt.receivers=[];class yt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const u=vt("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function bt(){return window}function wt(){return void 0!==bt().WorkerGlobalScope&&"function"==typeof bt().importScripts}const It="firebaseLocalStorageDb",_t="firebaseLocalStorage",Et="fbase_key";class Tt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function St(e,t){return e.transaction([_t],t?"readwrite":"readonly").objectStore(_t)}function kt(){const e=indexedDB.open(It,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(_t,{keyPath:Et})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(_t)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(It);return new Tt(e).toPromise()}(),t(await kt()))}))}))}async function Ct(e,t,n){const i=St(e,!0).put({[Et]:t,value:n});return new Tt(i).toPromise()}function At(e,t){const n=St(e,!0).delete(t);return new Tt(n).toPromise()}class xt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await kt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gt._getInstance(wt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new yt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kt();return await Ct(e,lt,"1"),await At(e,lt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ct(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=St(e,!1).get(t),i=await new Tt(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>At(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=St(e,!1).getAll();return new Tt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xt.type="LOCAL";const Nt=xt;function Dt(e){return new Promise(((t,n)=>{const i=document.createElement("script");var r,s;i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=m("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",(null!==(s=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==s?s:document).appendChild(i)}))}function Rt(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Pt=1e12;class Ot{constructor(e){this.auth=e,this.counter=Pt,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Lt(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Pt;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Pt;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Pt;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Lt{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;b(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mt=Rt("rcb"),Ft=new C(3e4,6e4);class Ut{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!bt().grecaptcha}load(e,t=""){return b(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(bt().grecaptcha):new Promise(((n,i)=>{const s=bt().setTimeout((()=>{i(m(e,"network-request-failed"))}),Ft.get());bt()[Mt]=()=>{bt().clearTimeout(s),delete bt()[Mt];const r=bt().grecaptcha;if(!r)return void i(m(e,"internal-error"));const o=r.render;r.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(r)},Dt(`https://www.google.com/recaptcha/api.js??${(0,r.xO)({onload:Mt,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(s),i(m(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!bt().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jt{async load(e){return new Ot(e)}clearedOneInstance(){}}const Vt="recaptcha",Bt={theme:"light",type:"image"};class qt{constructor(e,t=Object.assign({},Bt),n){this.parameters=t,this.type=Vt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=he(n),this.isInvisible="invisible"===this.parameters.size,b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;b(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jt:new Ut,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){b(!this.parameters.sitekey,this.auth,"argument-error"),b(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=bt()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){b(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){b(S()&&!wt(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await P(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);b(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return b(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ht{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ee._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Kt(e,t,n){var i;const r=await n.verify();try{let s;if(b("string"==typeof r,e,"argument-error"),b(n.type===Vt,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){b("enroll"===t.type,e,"internal-error");const n=await function(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:start",R(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{b("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;b(n,e,"missing-multi-factor-info");const o=await function(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:start",R(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return P(e,"POST","/v1/accounts:sendVerificationCode",R(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class Gt{constructor(e){this.providerId=Gt.PROVIDER_ID,this.auth=he(e)}verifyPhoneNumber(e,t){return Kt(this.auth,e,(0,r.m9)(t))}static credential(e,t){return Ee._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gt.credentialFromTaggedObject(t)}static credentialFromError(e){return Gt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Ee._fromTokenResponse(t,n):null}}function Wt(e,t){return t?E(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gt.PROVIDER_ID="phone",Gt.PHONE_SIGN_IN_METHOD="phone";class zt extends me{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return we(e,this._buildIdpRequest())}_linkToIdToken(e,t){return we(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return we(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $t(e){return Ke(e.auth,new zt(e),e.bypassAuthState)}function Yt(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),He(n,new zt(e),e.bypassAuthState)}async function Jt(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),Be(n,new zt(e),e.bypassAuthState)}class Qt{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $t;case"linkViaPopup":case"linkViaRedirect":return Jt;case"reauthViaPopup":case"reauthViaRedirect":return Yt;default:p(this.auth,"internal-error")}}resolve(e){I(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){I(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xt=new C(2e3,1e4);class Zt extends Qt{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Zt.currentPopupAction&&Zt.currentPopupAction.cancel(),Zt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return b(e,this.auth,"internal-error"),e}async onExecution(){I(1===this.filter.length,"Popup operations only handle one event");const e=vt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(m(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Xt.get())};e()}}Zt.currentPopupAction=null;const en=new Map;class tn extends Qt{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=en.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=sn(t),i=rn(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}en.set(this.auth._key(),e)}return this.bypassAuthState||en.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function nn(e,t){return rn(e)._set(sn(t),"true")}function rn(e){return E(e._redirectPersistence)}function sn(e){return Q("pendingRedirect",e.config.apiKey,e.name)}async function on(e,t,n=!1){const i=he(e),r=Wt(i,t),s=new tn(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}async function an(e){const t=vt(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class un{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ln(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ln(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(m(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cn(e))}saveEventToCache(e){this.cachedEventUids.add(cn(e)),this.lastProcessedEventTime=Date.now()}}function cn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ln({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function hn(e,t={}){return P(e,"GET","/v1/projects",t)}const dn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fn=/^https?/;function pn(e){const t=T(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!fn.test(n))return!1;if(dn.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const mn=new C(3e4,6e4);function gn(){const e=bt().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let vn=null;function yn(e){return vn=vn||function(e){return new Promise(((t,n)=>{var i,r,s;function o(){gn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gn(),n(m(e,"network-request-failed"))},timeout:mn.get()})}if(null===(r=null===(i=bt().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=bt().gapi)||void 0===s?void 0:s.load)){const t=Rt("iframefcb");return bt()[t]=()=>{gapi.load?o():n(m(e,"network-request-failed"))},Dt(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw vn=null,e}))}(e),vn}const bn=new C(5e3,15e3),wn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},In=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _n(e){const t=e.config;b(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:s.SDK_VERSION},o=In.get(e.config.apiHost);o&&(i.eid=o);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${(0,r.xO)(i).slice(1)}`}const En={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Sn(e,t,n,i,o,a){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:s.SDK_VERSION,eventId:o};if(t instanceof ke){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,r.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))u[e]=t}if(t instanceof Ce){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(u.scopes=e.join(","))}e.tenantId&&(u.tid=e.tenantId);const c=u;for(const e of Object.keys(c))void 0===c[e]&&delete c[e];return`${function({config:e}){return e.emulator?A(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,r.xO)(c).slice(1)}`}const kn="webStorageSupport";class Cn extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Cn(e)}_finalizeEnroll(e,t,n){return function(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:finalize",R(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:finalize",R(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class An{constructor(){}static assertion(e){return Cn._fromCredential(e)}}An.FACTOR_ID="phone";var xn,Nn="@firebase/auth",Dn="0.19.4";class Rn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pn(){return window}xn="Browser",(0,s._registerComponent)(new u.wA("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:r}=n.options;return(e=>{b(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),b(!(null==r?void 0:r.includes(":")),"argument-error",{appName:e.name});const n={apiKey:i,authDomain:r,clientPlatform:xn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ce(xn)},s=new le(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(E);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,s._registerComponent)(new u.wA("auth-internal",(e=>{return t=he(e.getProvider("auth").getImmediate()),new Rn(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(Nn,Dn,void 0),(0,s.registerVersion)(Nn,Dn,"esm2017");class On extends un{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Ln(e){const t=await Fn()._get(Un(e));return t&&await Fn()._remove(Un(e)),t}function Mn(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Fn(){return E(ft)}function Un(e){return Q("authEvent",e.config.apiKey,e.name)}function jn(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,r.zd)(n.join("?"))}function Vn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:m("no-auth-event")}}function Bn(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function qn(e=(0,r.z$)()){return!("file:"!==Bn()&&"ionic:"!==Bn()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hn(){try{const e=self.localStorage,t=vt();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,r.z$)()){return(0,r.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,r.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,r.hl)()}catch(e){return Kn()&&(0,r.hl)()}return!1}function Kn(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Gn(){return("http:"===Bn()||"https:"===Bn()||(0,r.ru)()||qn())&&!((0,r.b$)()||(0,r.UG)())&&Hn()&&!Kn()}function Wn(){return qn()&&"undefined"!=typeof document}const zn={LOCAL:"local",NONE:"none",SESSION:"session"},$n=b,Yn="persistence";async function Jn(e){await e._initializationPromise;const t=Qn(),n=Q(Yn,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function Qn(){return"undefined"!=typeof window?window:null}const Xn=b;class Zn{constructor(){this.browserResolver=E(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mt,this._completeRedirectFn=on}async _openPopup(e,t,n,i){var s;return I(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()"),function(e,t,n,i=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},En),{width:i.toString(),height:s.toString(),top:o,left:a}),l=(0,r.z$)().toLowerCase();n&&(u=ne(l)?"_blank":n),ee(l)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=(0,r.z$)()){var t;return ae(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",u),new Tn(null);const d=window.open(t||"",u,h);b(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Tn(d)}(e,Sn(e,t,n,T(),i),vt())}async _openRedirect(e,t,n,i){var r;return await this._originValidation(e),r=Sn(e,t,n,T(),i),bt().location.href=r,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(I(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await yn(e),n=bt().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:_n(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wn,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=m(e,"network-request-failed"),s=bt().setTimeout((()=>{i(r)}),bn.get());function o(){bt().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{i(r)}))}))))}(e),n=new un(e);return t.register("authEvent",(t=>(b(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kn,{type:kn},(n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i.webStorageSupport;void 0!==r&&t(!!r),p(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await hn(e);for(const e of t)try{if(pn(e))return}catch(e){}p(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ue()||te()||ae()}}),this.cordovaResolver=E(class{constructor(){this._redirectPersistence=mt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=on}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new On(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){p(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){!function(e){var t,n,i,r,s,o,a,u,c,l;const h=Pn();b("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),b(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),b("function"==typeof(null===(s=null===(r=null===(i=null==h?void 0:h.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),b("function"==typeof(null===(u=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),b("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),en.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Mn(),postBody:null,tenantId:e.tenantId,error:m(e,"no-auth-event")}}(e,n,i);await function(e,t){return Fn()._set(Un(e),t)}(e,o);const a=await async function(e,t,n){var i;const{BuildInfo:r}=Pn();I(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(I(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return ae()?o.ibi=r.packageName:re()?o.apn=r.packageName:p(e,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,Sn(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,o)}(e,o,t);return async function(e,t,n){const{cordova:i}=Pn();let r=()=>{};try{await new Promise(((s,o)=>{let a=null;function u(){var e;s();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(m(e,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),re()&&document.addEventListener("visibilitychange",l,!1),r=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}))}finally{r()}}(e,s,await function(e){const{cordova:t}=Pn();return new Promise((n=>{t.plugins.browsertab.isAvailable((i=>{let s=null;i?t.plugins.browsertab.openUrl(e):s=t.InAppBrowser.open(e,function(e=(0,r.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(s)}))}))}(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Pn(),n={};ae()?n.iosBundleId=t.packageName:re()?n.androidPackageName=t.packageName:p(e,"operation-not-supported-in-this-environment"),await hn(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:r}=Pn(),s=setTimeout((async()=>{await Ln(e),t.onEvent(Vn())}),500),o=async n=>{clearTimeout(s);const i=await Ln(e);let r=null;i&&(null==n?void 0:n.url)&&(r=function(e,t){var n,i;const r=function(e){const t=jn(e),n=t.link?decodeURIComponent(t.link):void 0,i=jn(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return jn(r).link||r||i||n||e}(t);if(r.includes("/__/auth/callback")){const t=jn(r),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(i=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],a=o?m(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}(i,n.url)),t.onEvent(r||Vn())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=i,u=`${r.packageName.toLowerCase()}://`;Pn().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(u)&&o({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}}),this.underlyingResolver=null,this._redirectPersistence=mt,this._completeRedirectFn=on}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,i)}async _openRedirect(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Wn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xn(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Wn()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function ei(e){return e.unwrap()}function ti(e){const{_tokenResponse:t}=e instanceof r.ZR?e.customData:e;if(!t)return null;if(!(e instanceof r.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return Gt.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let i;switch(n){case"google.com":i=Ne;break;case"facebook.com":i=xe;break;case"github.com":i=De;break;case"twitter.com":i=Oe;break;default:const{oauthIdToken:e,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return r||s||e||o?o?n.startsWith("saml.")?Re._create(n,o):Ie._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:r}):new Ae(n).credential({idToken:e,accessToken:r,rawNonce:a}):null}return e instanceof r.ZR?i.credentialFromError(e):i.credentialFromResult(e)}function ni(e,t){return t.catch((t=>{throw t instanceof r.ZR&&function(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new ri(e,function(e,t){var n;const i=(0,r.m9)(e),s=t;return b(t.customData.operationType,i,"argument-error"),b(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),at._fromError(i,s)}(e,t));else if(i){const e=ti(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,ti(i)),additionalUserInfo:st(e),user:si.getOrCreate(n)};var i}))}async function ii(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ni(e,n.confirm(t))}}class ri{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ni(ei(this.auth),this.resolver.resolveSignIn(e))}}class si{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,r.m9)(e);return ct.has(t)||ct.set(t,ut._fromUser(t)),ct.get(t)}(e)}static getOrCreate(e){return si.USER_MAP.has(e)||si.USER_MAP.set(e,new si(e)),si.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ni(this.auth,We(this._delegate,e))}async linkWithPhoneNumber(e,t){return ii(this.auth,async function(e,t,n){const i=(0,r.m9)(e);await qe(!1,i,"phone");const s=await Kt(i.auth,t,(0,r.m9)(n));return new Ht(s,(e=>We(i,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ni(this.auth,async function(e,t,n){const i=(0,r.m9)(e);v(i.auth,t,ke);const s=Wt(i.auth,n);return new Zt(i.auth,"linkViaPopup",t,s,i).executeNotNull()}(this._delegate,e,Zn))}async linkWithRedirect(e){return await Jn(he(this.auth)),function(e,t,n){return async function(e,t,n){const i=(0,r.m9)(e);v(i.auth,t,ke);const s=Wt(i.auth,n);await qe(!1,i,t.providerId),await nn(s,i.auth);const o=await an(i);return s._openRedirect(i.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,Zn)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ni(this.auth,ze(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ii(this.auth,async function(e,t,n){const i=(0,r.m9)(e),s=await Kt(i.auth,t,(0,r.m9)(n));return new Ht(s,(e=>ze(i,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ni(this.auth,async function(e,t,n){const i=(0,r.m9)(e);v(i.auth,t,ke);const s=Wt(i.auth,n);return new Zt(i.auth,"reauthViaPopup",t,s,i).executeNotNull()}(this._delegate,e,Zn))}async reauthenticateWithRedirect(e){return await Jn(he(this.auth)),function(e,t,n){return async function(e,t,n){const i=(0,r.m9)(e);v(i.auth,t,ke);const s=Wt(i.auth,n);await nn(s,i.auth);const o=await an(i);return s._openRedirect(i.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,Zn)}sendEmailVerification(e){return async function(e,t){const n=(0,r.m9)(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Je(n.auth,i,t);const{email:s}=await async function(e,t){return ye(e,t)}(n.auth,i);s!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=(0,r.m9)(e);await qe(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return P(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),s=Ve(i||[]);return n.providerData=n.providerData.filter((e=>s.has(e.providerId))),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return Xe((0,r.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Xe((0,r.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Be((0,r.m9)(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=(0,r.m9)(e),s={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await q(i,async function(e,t){return P(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const i=(0,r.m9)(e),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Je(i.auth,s,n);const{email:o}=await async function(e,t){return ye(e,t)}(i.auth,s);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}si.USER_MAP=new WeakMap;const oi=b;class ai{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;oi(n,"invalid-api-key",{appName:e.name});let i=[J];if("undefined"!=typeof window){i=function(e,t){const n=Qn();if(!(null==n?void 0:n.sessionStorage))return[];const i=Q(Yn,e,t);switch(n.sessionStorage.getItem(i)){case zn.NONE:return[J];case zn.LOCAL:return[Nt,mt];case zn.SESSION:return[mt];default:return[]}}(n,e.name);for(const e of[Nt,ft,mt])i.includes(e)||i.push(e)}oi(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?Zn:void 0;this._delegate=t.initialize({options:{persistence:i,popupRedirectResolver:r}}),this._delegate._updateErrorMap(c),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?si.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const i=he(e);b(i._canInitEmulator,i,"emulator-config-failed"),b(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=fe(t),{host:o,port:a}=function(e){const t=fe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:pe(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:pe(t)}}}(t),u=null===a?"":`:${a}`;i.config.emulator={url:`${s}//${o}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return P(e,"POST","/v1/accounts:update",R(e,t))}((0,r.m9)(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return Qe(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await ge((0,r.m9)(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ni(this._delegate,async function(e,t,n){const i=he(e),r=await Le(i,{returnSecureToken:!0,email:t,password:n}),s=await Me._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:S()?T():"http://localhost"},{signinMethods:i}=await async function(e,t){return P(e,"POST","/v1/accounts:createAuthUri",R(e,t))}((0,r.m9)(e),n);return i||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Te.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){oi(Gn(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await he(e)._initializationPromise,on(e,t,!1)}(this._delegate,Zn);return e?ni(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){he(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:s}=ui(e,t,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:s}=ui(e,t,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const i=(0,r.m9)(e),s={requestType:"EMAIL_SIGNIN",email:t};b(n.handleCodeInApp,i,"argument-error"),n&&Je(i,s,n),await async function(e,t){return ye(e,t)}(i,s)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const i=(0,r.m9)(e),s={requestType:"PASSWORD_RESET",email:t};n&&Je(i,s,n),await async function(e,t){return ye(e,t)}(i,s)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){$n(Object.values(zn).includes(t),e,"invalid-persistence-type"),(0,r.b$)()?$n(t!==zn.SESSION,e,"unsupported-persistence-type"):(0,r.UG)()?$n(t===zn.NONE,e,"unsupported-persistence-type"):Kn()?$n(t===zn.NONE||t===zn.LOCAL&&(0,r.hl)(),e,"unsupported-persistence-type"):$n(t===zn.NONE||Hn(),e,"unsupported-persistence-type")}(this._delegate,e),e){case zn.SESSION:t=mt;break;case zn.LOCAL:t=await E(Nt)._isAvailable()?Nt:ft;break;case zn.NONE:t=J;break;default:return p("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ni(this._delegate,async function(e){var t;const n=he(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Me({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await Le(n,{returnSecureToken:!0}),r=await Me._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}(this._delegate))}signInWithCredential(e){return ni(this._delegate,Ge(this._delegate,e))}signInWithCustomToken(e){return ni(this._delegate,async function(e,t){const n=he(e),i=await async function(e,t){return L(e,"POST","/v1/accounts:signInWithCustomToken",R(e,t))}(n,{token:t,returnSecureToken:!0}),r=await Me._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}(this._delegate,e))}signInWithEmailAndPassword(e,t){return ni(this._delegate,function(e,t,n){return Ge((0,r.m9)(e),Se.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ni(this._delegate,async function(e,t,n){const i=(0,r.m9)(e),s=Se.credentialWithLink(t,n||T());return b(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Ge(i,s)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ii(this._delegate,async function(e,t,n){const i=he(e),s=await Kt(i,t,(0,r.m9)(n));return new Ht(s,(e=>Ge(i,e)))}(this._delegate,e,t))}async signInWithPopup(e){return oi(Gn(),this._delegate,"operation-not-supported-in-this-environment"),ni(this._delegate,async function(e,t,n){const i=he(e);v(e,t,ke);const r=Wt(i,n);return new Zt(i,"signInViaPopup",t,r).executeNotNull()}(this._delegate,e,Zn))}async signInWithRedirect(e){return oi(Gn(),this._delegate,"operation-not-supported-in-this-environment"),await Jn(this._delegate),function(e,t,n){return async function(e,t,n){const i=he(e);v(e,t,ke);const r=Wt(i,n);return await nn(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,Zn)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Qe((0,r.m9)(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ui(e,t,n){let i=e;"function"!=typeof e&&({next:i,error:t,complete:n}=e);const r=i;return{next:e=>r(e&&si.getOrCreate(e)),error:t,complete:n}}ai.Persistence=zn;class ci{constructor(){this.providerId="phone",this._delegate=new Gt(ei(i.Z.auth()))}static credential(e,t){return Gt.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ci.PHONE_SIGN_IN_METHOD=Gt.PHONE_SIGN_IN_METHOD,ci.PROVIDER_ID=Gt.PROVIDER_ID;const li=b;var hi;(hi=i.Z).INTERNAL.registerComponent(new u.wA("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ai(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Se,FacebookAuthProvider:xe,GithubAuthProvider:De,GoogleAuthProvider:Ne,OAuthProvider:Ae,SAMLAuthProvider:Pe,PhoneAuthProvider:ci,PhoneMultiFactorGenerator:An,RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;li(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new qt(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:Oe,Auth:ai,AuthCredential:me,Error:r.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),hi.registerVersion("@firebase/auth-compat","0.2.4")},507:(e,t,n)=>{"use strict";n.r(t);var i,r=n(180),s=n(238),o=n(463),a=n(333),u=n(444),c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},l={},h=h||{},d=c||self;function f(){}function p(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function I(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function E(){this.s=this.s,this.o=this.o}var T={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++v)}(this);delete T[e]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},k=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const i=e.length,r="string"==typeof e?e.split(""):e;for(let s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)};function C(e){return Array.prototype.concat.apply([],arguments)}function A(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function x(e){return/^[\s\xa0]*$/.test(e)}var N,D=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function R(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var O=d.navigator;if(O){var L=O.userAgent;if(L){N=L;break e}}N=""}function M(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function F(e){const t={};for(const n in e)t[n]=e[n];return t}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){let n,i;for(let t=1;t<arguments.length;t++){for(n in i=arguments[t],i)e[n]=i[n];for(let t=0;t<U.length;t++)n=U[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function V(e){return V[" "](e),e}V[" "]=f;var B,q,H=R(N,"Opera"),K=R(N,"Trident")||R(N,"MSIE"),G=R(N,"Edge"),W=G||K,z=R(N,"Gecko")&&!(R(N.toLowerCase(),"webkit")&&!R(N,"Edge"))&&!(R(N,"Trident")||R(N,"MSIE"))&&!R(N,"Edge"),$=R(N.toLowerCase(),"webkit")&&!R(N,"Edge");function Y(){var e=d.document;return e?e.documentMode:void 0}e:{var J="",Q=(q=N,z?/rv:([^\);]+)(\)|;)/.exec(q):G?/Edge\/([\d\.]+)/.exec(q):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):$?/WebKit\/(\S+)/.exec(q):H?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Q&&(J=Q?Q[1]:""),K){var X=Y();if(null!=X&&X>parseFloat(J)){B=String(X);break e}}B=J}var Z,ee={};function te(){return e=ee,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=D(String(B)).split("."),n=D("9").split("."),i=Math.max(t.length,n.length);for(let o=0;0==e&&o<i;o++){var r=t[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;e=P(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==r[2].length,0==s[2].length)||P(r[2],s[2]),r=r[3],s=s[3]}while(0==e)}return 0<=e}();var e}d.document&&K?Z=Y()||parseInt(B,10)||void 0:Z=void 0;var ne=Z,ie=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",f,t),d.removeEventListener("test",f,t)}catch(e){}return e}();function re(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function se(e,t){if(re.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(z){e:{try{V(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:oe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&se.Z.h.call(this)}}re.prototype.h=function(){this.defaultPrevented=!0},_(se,re);var oe={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ce(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=r,this.key=++ue,this.ca=this.fa=!1}function le(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function he(e){this.src=e,this.g={},this.h=0}function de(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=S(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(le(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fe(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return r}return-1}he.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=fe(e,t,i,r);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ce(t,this.src,s,!!i,r)).fa=n,e.push(t)),t};var pe="closure_lm_"+(1e6*Math.random()|0),me={};function ge(e,t,n,i,r){if(i&&i.once)return ye(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ge(e,t[s],n,i,r);return null}return n=Se(n),e&&e[ae]?e.N(t,n,m(i)?!!i.capture:!!i,r):ve(e,t,n,!1,i,r)}function ve(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=m(r)?!!r.capture:!!r,a=Ee(e);if(a||(e[pe]=a=new he(e)),(n=a.add(t,n,i,o,s)).proxy)return n;if(i=function(){var e=_e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)ie||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Ie(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function ye(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ye(e,t[s],n,i,r);return null}return n=Se(n),e&&e[ae]?e.O(t,n,m(i)?!!i.capture:!!i,r):ve(e,t,n,!0,i,r)}function be(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)be(e,t[s],n,i,r);else i=m(i)?!!i.capture:!!i,n=Se(n),e&&e[ae]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=fe(s=e.g[t],n,i,r))&&(le(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Ee(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fe(t,n,i,r)),(n=-1<e?t[e]:null)&&we(n))}function we(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ae])de(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Ie(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Ee(t))?(de(n,e),0==n.h&&(n.src=null,t[pe]=null)):le(e)}}}function Ie(e){return e in me?me[e]:me[e]="on"+e}function _e(e,t){if(e.ca)e=!0;else{t=new se(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&we(e),e=n.call(i,t)}return e}function Ee(e){return(e=e[pe])instanceof he?e:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(e){return"function"==typeof e?e:(e[Te]||(e[Te]=function(t){return e.handleEvent(t)}),e[Te])}function ke(){E.call(this),this.i=new he(this),this.P=this,this.I=null}function Ce(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,"string"==typeof t)t=new re(t,e);else if(t instanceof re)t.target=t.target||e;else{var r=t;j(t=new re(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Ae(o,i,!0,t)&&r}if(r=Ae(o=t.g=e,i,!0,t)&&r,r=Ae(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=Ae(o=t.g=n[s],i,!1,t)&&r}function Ae(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&de(e.i,o),r=!1!==a.call(u,i)&&r}}return r&&!i.defaultPrevented}_(ke,E),ke.prototype[ae]=!0,ke.prototype.removeEventListener=function(e,t,n,i){be(this,e,t,n,i)},ke.prototype.M=function(){if(ke.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)le(n[i]);delete t.g[e],t.h--}}this.I=null},ke.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},ke.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var xe=d.JSON.stringify;function Ne(){var e=Fe;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var De,Re=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Pe),(e=>e.reset()));class Pe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Oe(e){d.setTimeout((()=>{throw e}),0)}function Le(e,t){De||function(){var e=d.Promise.resolve(void 0);De=function(){e.then(Ue)}}(),Me||(De(),Me=!0),Fe.add(e,t)}var Me=!1,Fe=new class{constructor(){this.h=this.g=null}add(e,t){const n=Re.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Ue(){for(var e;e=Ne();){try{e.h.call(e.g)}catch(e){Oe(e)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Me=!1}function je(e,t){ke.call(this),this.h=e||1,this.g=t||d,this.j=w(this.kb,this),this.l=Date.now()}function Ve(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Be(e,t,n){if("function"==typeof e)n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function qe(e){e.g=Be((()=>{e.g=null,e.i&&(e.i=!1,qe(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}_(je,ke),(i=je.prototype).da=!1,i.S=null,i.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ce(this,"tick"),this.da&&(Ve(this),this.start()))}},i.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){je.Z.M.call(this),Ve(this),delete this.g};class He extends E{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qe(this)}M(){super.M(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(e){E.call(this),this.h=e,this.g={}}_(Ke,E);var Ge=[];function We(e,t,n,i){Array.isArray(n)||(n&&(Ge[0]=n.toString()),n=Ge);for(var r=0;r<n.length;r++){var s=ge(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ze(e){M(e.g,(function(e,t){this.g.hasOwnProperty(t)&&we(e)}),e),e.g={}}function $e(){this.g=!0}function Ye(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return xe(n)}catch(e){return t}}(e,n)+(i?" "+i:"")}))}Ke.prototype.M=function(){Ke.Z.M.call(this),ze(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Aa=function(){this.g=!1},$e.prototype.info=function(){};var Je={},Qe=null;function Xe(){return Qe=Qe||new ke}function Ze(e){re.call(this,Je.Ma,e)}function et(e){const t=Xe();Ce(t,new Ze(t,e))}function tt(e,t){re.call(this,Je.STAT_EVENT,e),this.stat=t}function nt(e){const t=Xe();Ce(t,new tt(t,e))}function it(e,t){re.call(this,Je.Na,e),this.size=t}function rt(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){e()}),t)}Je.Ma="serverreachability",_(Ze,re),Je.STAT_EVENT="statevent",_(tt,re),Je.Na="timingevent",_(it,re);var st={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ot={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function at(){}function ut(e){return e.h||(e.h=e.i())}function ct(){}at.prototype.h=null;var lt,ht={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dt(){re.call(this,"d")}function ft(){re.call(this,"c")}function pt(){}function mt(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Ke(this),this.P=vt,e=W?125:void 0,this.W=new je(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}_(dt,re),_(ft,re),_(pt,at),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},lt=new pt;var vt=45e3,yt={},bt={};function wt(e,t,n){e.K=1,e.v=Ht(Ft(t)),e.s=n,e.U=!0,It(e,null)}function It(e,t){e.F=Date.now(),St(e),e.A=Ft(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),nn(n.h,"t",i),e.C=0,n=e.l.H,e.h=new gt,e.g=ii(e.l,n?t:null,!e.s),0<e.O&&(e.L=new He(w(e.Ia,e,e.g),e.O)),We(e.V,e.g,"readystatechange",e.gb),t=e.H?F(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),et(1),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function _t(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Et(e,t,n){let i,r=!0;for(;!e.I&&e.C<n.length;){if(i=Tt(e,n),i==bt){4==t&&(e.o=4,nt(14),r=!1),Ye(e.j,e.m,null,"[Incomplete Response]");break}if(i==yt){e.o=4,nt(15),Ye(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}Ye(e.j,e.m,i,null),Nt(e,i)}_t(e)&&i!=bt&&i!=yt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,nt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yn(t),t.L=!0,nt(11))):(Ye(e.j,e.m,n,"[Invalid Chunked Response]"),xt(e),At(e))}function Tt(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?bt:(n=Number(t.substring(n,i)),isNaN(n)?yt:(i+=1)+n>t.length?bt:(t=t.substr(i,n),e.C=i+n,t))}function St(e){e.Y=Date.now()+e.P,kt(e,e.P)}function kt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=rt(w(e.eb,e),t)}function Ct(e){e.B&&(d.clearTimeout(e.B),e.B=null)}function At(e){0==e.l.G||e.I||Xn(e.l,e)}function xt(e){Ct(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ve(e.W),ze(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Nt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||cn(n.i,e)))if(n.I=e.N,!e.J&&cn(n.i,e)&&3==n.G){try{var i=n.Ca.g.parse(t)}catch(e){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qn(n),Vn(n)}$n(n),nt(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=rt(w(n.ab,n),6e3));if(1>=un(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else ei(n,11)}else if((e.J||n.g==e)&&Qn(n),!x(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const r=c[4];null!=r&&(n.za=r,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(i=1.5*l,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.i;!s.g&&(R(e,"spdy")||R(e,"quic")||R(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(ln(s,s.h),s.h=null))}if(i.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.sa=e,qt(i.F,i.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((i=n).oa=ni(i,i.H?i.la:null,i.W),o.J){hn(i.i,o);var a=o,u=i.K;u&&a.setTimeout(u),a.B&&(Ct(a),St(a)),i.g=o}else zn(i);0<n.l.length&&Hn(n)}else"stop"!=c[0]&&"close"!=c[0]||ei(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ei(n,7):jn(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}et(4)}catch(e){}}function Dt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)k(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(p(e)||"string"==typeof e){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;i=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}}function Rt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Rt)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Pt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Ot(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)Ot(r,i=e.g[t])||(e.g[n++]=i,r[i]=1),t++;e.g.length=n}}function Ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(i=mt.prototype).setTimeout=function(e){this.P=e},i.gb=function(e){e=e.target;const t=this.L;t&&3==On(e)?t.l():this.Ia(e)},i.Ia=function(e){try{if(e==this.g)e:{const l=On(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||W||this.g&&(this.h.h||this.g.ga()||Ln(this.g)))){this.I||4!=l||7==t||et(8==t||0>=h?3:2),Ct(this);var n=this.g.ba();this.N=n;t:if(_t(this)){var i=Ln(this.g);e="";var r=i.length,s=4==On(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xt(this),At(this);var o="";break t}this.h.i=new d.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,i,r,s,o){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,nt(12),xt(this),At(this);break e}Ye(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nt(this,n)}this.U?(Et(this,l,o),W&&this.i&&3==l&&(We(this.V,this.W,"tick",this.fb),this.W.start())):(Ye(this.j,this.m,o,null),Nt(this,o)),4==l&&xt(this),this.i&&!this.I&&(4==l?Xn(this.l,this):(this.i=!1,St(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,nt(12)):(this.o=0,nt(13)),xt(this),At(this)}}}catch(e){}},i.fb=function(){if(this.g){var e=On(this.g),t=this.g.ga();this.C<t.length&&(Ct(this),Et(this,e,t),this.i&&4!=e&&St(this))}},i.cancel=function(){this.I=!0,xt(this)},i.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(et(3),nt(17)),xt(this),this.o=2,At(this)):kt(this,this.Y-e)},(i=Rt.prototype).R=function(){Pt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},i.T=function(){return Pt(this),this.g.concat()},i.get=function(e,t){return Ot(this.h,e)?this.h[e]:t},i.set=function(e,t){Ot(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},i.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}};var Lt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Mt){this.g=void 0!==t?t:e.g,Ut(this,e.j),this.s=e.s,jt(this,e.i),Vt(this,e.m),this.l=e.l,t=e.h;var n=new Xt;n.i=t.i,t.g&&(n.g=new Rt(t.g),n.h=t.h),Bt(this,n),this.o=e.o}else e&&(n=String(e).match(Lt))?(this.g=!!t,Ut(this,n[1]||"",!0),this.s=Kt(n[2]||""),jt(this,n[3]||"",!0),Vt(this,n[4]),this.l=Kt(n[5]||"",!0),Bt(this,n[6]||"",!0),this.o=Kt(n[7]||"")):(this.g=!!t,this.h=new Xt(null,this.g))}function Ft(e){return new Mt(e)}function Ut(e,t,n){e.j=n?Kt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jt(e,t,n){e.i=n?Kt(t,!0):t}function Vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Bt(e,t,n){t instanceof Xt?(e.h=t,function(e,t){t&&!e.j&&(Zt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(en(this,t),nn(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Gt(t,Jt)),e.h=new Xt(t,e.g))}function qt(e,t,n){e.h.set(t,n)}function Ht(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Kt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gt(t,zt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gt(t,zt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gt(n,"/"==n.charAt(0)?Yt:$t,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gt(n,Qt)),e.join("")};var zt=/[#\/\?@]/g,$t=/[#\?:]/g,Yt=/[#\?]/g,Jt=/[#\?@]/g,Qt=/#/g;function Xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zt(e){e.g||(e.g=new Rt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function en(e,t){Zt(e),t=rn(e,t),Ot(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ot((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Pt(e)))}function tn(e,t){return Zt(e),t=rn(e,t),Ot(e.g.h,t)}function nn(e,t,n){en(e,t),0<n.length&&(e.i=null,e.g.set(rn(e,t),A(n)),e.h+=n.length)}function rn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function sn(e){this.l=e||on,e=d.PerformanceNavigationTiming?0<(e=d.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(d.g&&d.g.Ea&&d.g.Ea()&&d.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(i=Xt.prototype).add=function(e,t){Zt(this),this.i=null,e=rn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},i.forEach=function(e,t){Zt(this),this.g.forEach((function(n,i){k(n,(function(n){e.call(t,n,i,this)}),this)}),this)},i.T=function(){Zt(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n},i.R=function(e){Zt(this);var t=[];if("string"==typeof e)tn(this,e)&&(t=C(t,this.g.get(rn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=C(t,e[n])}return t},i.set=function(e,t){return Zt(this),this.i=null,tn(this,e=rn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},i.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),e.push(o)}}return this.i=e.join("&")};var on=10;function an(e){return!!e.h||!!e.g&&e.g.size>=e.j}function un(e){return e.h?1:e.g?e.g.size:0}function cn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ln(e,t){e.g?e.g.add(t):e.h=t}function hn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return A(e.i)}function fn(){}function pn(){this.g=new fn}function mn(e,t,n){const i=n||"";try{Dt(e,(function(e,n){let r=e;m(e)&&(r=xe(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(e){throw t.push(i+"type="+encodeURIComponent("_badmap")),e}}function gn(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(e){}}function vn(e){this.l=e.$b||null,this.j=e.ib||!1}function yn(e,t){ke.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=bn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},fn.prototype.stringify=function(e){return d.JSON.stringify(e,void 0)},fn.prototype.parse=function(e){return d.JSON.parse(e,void 0)},_(vn,at),vn.prototype.g=function(){return new yn(this.l,this.j)},vn.prototype.i=function(e){return function(){return e}}({}),_(yn,ke);var bn=0;function wn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function In(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_n(e)}function _n(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(i=yn.prototype).open=function(e,t){if(this.readyState!=bn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_n(this)},i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||d).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,In(this)),this.readyState=bn},i.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},i.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?In(this):_n(this),3==this.readyState&&wn(this)}},i.Ua=function(e){this.g&&(this.response=this.responseText=e,In(this))},i.Ta=function(e){this.g&&(this.response=e,In(this))},i.ha=function(){this.g&&In(this)},i.setRequestHeader=function(e,t){this.v.append(e,t)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=d.JSON.parse;function Tn(e){ke.call(this),this.headers=new Rt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sn,this.K=this.L=!1}_(Tn,ke);var Sn="",kn=/^https?$/i,Cn=["POST","PUT"];function An(e){return"content-type"==e.toLowerCase()}function xn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nn(e),Rn(e)}function Nn(e){e.D||(e.D=!0,Ce(e,"complete"),Ce(e,"error"))}function Dn(e){if(e.h&&void 0!==h&&(!e.C[1]||4!=On(e)||2!=e.ba()))if(e.v&&4==On(e))Be(e.Fa,0,e);else if(Ce(e,"readystatechange"),4==On(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===a){var r=String(e.H).match(Lt)[1]||null;if(!r&&d.self&&d.self.location){var s=d.self.location.protocol;r=s.substr(0,s.length-1)}i=!kn.test(r?r.toLowerCase():"")}n=i}if(n)Ce(e,"complete"),Ce(e,"success");else{e.m=6;try{var o=2<On(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.ba()+"]",Nn(e)}}finally{Rn(e)}}}function Rn(e,t){if(e.g){Pn(e);const n=e.g,i=e.C[0]?f:null;e.g=null,e.C=null,t||Ce(e,"ready");try{n.onreadystatechange=i}catch(e){}}}function Pn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(d.clearTimeout(e.A),e.A=null)}function On(e){return e.g?e.g.readyState:0}function Ln(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Sn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Mn(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=function(e){let t="";return M(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):qt(e,t,n))}function Fn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Un(e){this.za=0,this.l=[],this.h=new $e,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fn("baseRetryDelayMs",5e3,e),this.$a=Fn("retryDelaySeedMs",1e4,e),this.Ya=Fn("forwardChannelMaxRetries",2,e),this.ra=Fn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new sn(e&&e.concurrentRequestLimit),this.Ca=new pn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function jn(e){if(Bn(e),3==e.G){var t=e.V++,n=Ft(e.F);qt(n,"SID",e.J),qt(n,"RID",t),qt(n,"TYPE","terminate"),Gn(e,n),(t=new mt(e,e.h,t,void 0)).K=2,t.v=Ht(Ft(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(t.v.toString(),"")),!n&&d.Image&&((new Image).src=t.v,n=!0),n||(t.g=ii(t.l,null),t.g.ea(t.v)),t.F=Date.now(),St(t)}ti(e)}function Vn(e){e.g&&(Yn(e),e.g.cancel(),e.g=null)}function Bn(e){Vn(e),e.u&&(d.clearTimeout(e.u),e.u=null),Qn(e),e.i.cancel(),e.m&&("number"==typeof e.m&&d.clearTimeout(e.m),e.m=null)}function qn(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Hn(e)}function Hn(e){an(e.i)||e.m||(e.m=!0,Le(e.Ha,e),e.C=0)}function Kn(e,t){var n;n=t?t.m:e.V++;const i=Ft(e.F);qt(i,"SID",e.J),qt(i,"RID",n),qt(i,"AID",e.U),Gn(e,i),e.o&&e.s&&Mn(i,e.o,e.s),n=new mt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Wn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ln(e.i,n),wt(n,i,t)}function Gn(e,t){e.j&&Dt({},(function(e,n){qt(t,n,e)}))}function Wn(e,t,n){n=Math.min(e.l.length,n);var i=e.j?w(e.j.Oa,e.j,e):null;e:{var r=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=r[o].h;const a=r[o].g;if(n-=t,0>n)t=Math.max(0,r[o].h-100),s=!1;else try{mn(a,e,"req"+n+"_")}catch(e){i&&i(a)}}if(s){i=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,i}function zn(e){e.g||e.u||(e.Y=1,Le(e.Ga,e),e.A=0)}function $n(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=rt(w(e.Ga,e),Zn(e,e.A)),e.A++,0))}function Yn(e){null!=e.B&&(d.clearTimeout(e.B),e.B=null)}function Jn(e){e.g=new mt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ft(e.oa);qt(t,"RID","rpc"),qt(t,"SID",e.J),qt(t,"CI",e.N?"0":"1"),qt(t,"AID",e.U),Gn(e,t),qt(t,"TYPE","xmlhttp"),e.o&&e.s&&Mn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ht(Ft(t)),n.s=null,n.U=!0,It(n,e)}function Qn(e){null!=e.v&&(d.clearTimeout(e.v),e.v=null)}function Xn(e,t){var n=null;if(e.g==t){Qn(e),Yn(e),e.g=null;var i=2}else{if(!cn(e.i,t))return;n=t.D,hn(e.i,t),i=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;Ce(i=Xe(),new it(i,n,t,r)),Hn(e)}else zn(e);else if(3==(r=t.o)||0==r&&0<e.I||!(1==i&&function(e,t){return!(un(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=rt(w(e.Ha,e,t),Zn(e,e.C)),e.C++,0)))}(e,t)||2==i&&$n(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:ei(e,5);break;case 4:ei(e,10);break;case 3:ei(e,6);break;default:ei(e,2)}}function Zn(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ei(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var i=w(e.jb,e);n||(n=new Mt("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Ut(n,"https"),Ht(n)),function(e,t){const n=new $e;if(d.Image){const i=new Image;i.onload=I(gn,n,i,"TestLoadImage: loaded",!0,t),i.onerror=I(gn,n,i,"TestLoadImage: error",!1,t),i.onabort=I(gn,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=I(gn,n,i,"TestLoadImage: timeout",!1,t),d.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else nt(2);e.G=0,e.j&&e.j.va(t),ti(e),Bn(e)}function ti(e){e.G=0,e.I=-1,e.j&&(0==dn(e.i).length&&0==e.l.length||(e.i.i.length=0,A(e.l),e.l.length=0),e.j.ua())}function ni(e,t,n){let i=function(e){return e instanceof Mt?Ft(e):new Mt(e,void 0)}(n);if(""!=i.i)t&&jt(i,t+"."+i.i),Vt(i,i.m);else{const e=d.location;i=function(e,t,n,i){var r=new Mt(null,void 0);return e&&Ut(r,e),t&&jt(r,t),n&&Vt(r,n),i&&(r.l=i),r}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&M(e.aa,(function(e,t){qt(i,t,e)})),t=e.D,n=e.sa,t&&n&&qt(i,t,n),qt(i,"VER",e.ma),Gn(e,i),i}function ii(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Tn(new vn({ib:!0})):new Tn(e.qa)).L=e.H,t}function ri(){}function si(){if(K&&!(10<=Number(ne)))throw Error("Environmental error: no available transport.")}function oi(e,t){ke.call(this),this.g=new Un(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!x(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!x(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new ci(this)}function ai(e){dt.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ui(){ft.call(this),this.status=1}function ci(e){this.g=e}(i=Tn.prototype).ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lt.g(),this.C=this.u?ut(this.u):ut(lt),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void xn(this,e)}e=n||"";const r=new Rt(this.headers);i&&Dt(i,(function(e,t){r.set(t,e)})),i=function(e){e:{var t=An;const n=e.length,i="string"==typeof e?e.split(""):e;for(let r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(r.T()),n=d.FormData&&e instanceof d.FormData,!(0<=S(Cn,t))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pn(this),0<this.B&&((this.K=function(e){return K&&te()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=Be(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){xn(this,e)}},i.pa=function(){void 0!==h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ce(this,"timeout"),this.abort(8))},i.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ce(this,"complete"),Ce(this,"abort"),Rn(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rn(this,!0)),Tn.Z.M.call(this)},i.Fa=function(){this.s||(this.F||this.v||this.l?Dn(this):this.cb())},i.cb=function(){Dn(this)},i.ba=function(){try{return 2<On(this)?this.g.status:-1}catch(e){return-1}},i.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},i.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},i.Da=function(){return this.m},i.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(i=Un.prototype).ma=8,i.G=1,i.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},i.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new mt(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=F(s),j(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var i=this.l[n];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Wn(this,r,t),qt(n=Ft(this.F),"RID",e),qt(n,"CVER",22),this.D&&qt(n,"X-HTTP-Session-Id",this.D),Gn(this,n),this.o&&s&&Mn(n,this.o,s),ln(this.i,r),this.Ra&&qt(n,"TYPE","init"),this.ja?(qt(n,"$req",t),qt(n,"SID","null"),r.$=!0,wt(r,n,null)):wt(r,n,t),this.G=2}}else 3==this.G&&(e?Kn(this,e):0==this.l.length||an(this.i)||Kn(this))},i.Ga=function(){if(this.u=null,Jn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=rt(w(this.bb,this),e)}},i.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,nt(10),Vn(this),Jn(this))},i.ab=function(){null!=this.v&&(this.v=null,Vn(this),$n(this),nt(19))},i.jb=function(e){e?(this.h.info("Successfully pinged google.com"),nt(2)):(this.h.info("Failed to ping google.com"),nt(1))},(i=ri.prototype).xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Oa=function(){},si.prototype.g=function(e,t){return new oi(e,t)},_(oi,ke),oi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Le(w(e.hb,e,t))),nt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ni(e,null,e.W),Hn(e)},oi.prototype.close=function(){jn(this.g)},oi.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,qn(this.g,t)}else this.v?((t={}).__data__=xe(e),qn(this.g,t)):qn(this.g,e)},oi.prototype.M=function(){this.g.j=null,delete this.j,jn(this.g),delete this.g,oi.Z.M.call(this)},_(ai,dt),_(ui,ft),_(ci,ri),ci.prototype.xa=function(){Ce(this.g,"a")},ci.prototype.wa=function(e){Ce(this.g,new ai(e))},ci.prototype.va=function(e){Ce(this.g,new ui(e))},ci.prototype.ua=function(){Ce(this.g,"b")},si.prototype.createWebChannel=si.prototype.g,oi.prototype.send=oi.prototype.u,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,st.NO_ERROR=0,st.TIMEOUT=8,st.HTTP_ERROR=6,ot.COMPLETE="complete",ct.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",ke.prototype.listen=ke.prototype.N,Tn.prototype.listenOnce=Tn.prototype.O,Tn.prototype.getLastError=Tn.prototype.La,Tn.prototype.getLastErrorCode=Tn.prototype.Da,Tn.prototype.getStatus=Tn.prototype.ba,Tn.prototype.getResponseJson=Tn.prototype.Qa,Tn.prototype.getResponseText=Tn.prototype.ga,Tn.prototype.send=Tn.prototype.ea;var li=l.createWebChannelTransport=function(){return new si},hi=l.getStatEventTarget=function(){return Xe()},di=l.ErrorCode=st,fi=l.EventType=ot,pi=l.Event=Je,mi=l.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gi=l.FetchXmlHttpFactory=vn,vi=l.WebChannel=ct,yi=l.XhrIo=Tn;const bi="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let Ii="9.6.1";const _i=new a.Yd("@firebase/firestore");function Ei(){return _i.logLevel}function Ti(e,...t){if(_i.logLevel<=a.in.DEBUG){const n=t.map(Ci);_i.debug(`Firestore (${Ii}): ${e}`,...n)}}function Si(e,...t){if(_i.logLevel<=a.in.ERROR){const n=t.map(Ci);_i.error(`Firestore (${Ii}): ${e}`,...n)}}function ki(e,...t){if(_i.logLevel<=a.in.WARN){const n=t.map(Ci);_i.warn(`Firestore (${Ii}): ${e}`,...n)}}function Ci(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ai(e="Unexpected state"){const t=`FIRESTORE (${Ii}) INTERNAL ASSERTION FAILED: `+e;throw Si(t),new Error(t)}function xi(e,t){e||Ai()}function Ni(e,t){return e}const Di={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ri extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Oi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Li{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(wi.UNAUTHENTICATED)))}shutdown(){}}class Mi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Fi{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Pi,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},o=e=>{Ti("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ti("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Pi)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ti("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xi("string"==typeof t.accessToken),new Oi(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xi(null===e||"string"==typeof e),new wi(e)}}class Ui{constructor(e,t,n){this.type="FirstParty",this.user=wi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class ji{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Ui(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(wi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bi{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable((()=>(e=>(null!=e.error&&Ti("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token)))(n)))};const n=e=>{Ti("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):Ti("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(xi("string"==typeof e.token),new Vi(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class qi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Hi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}qi.I=-1;class Ki{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Hi(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%e.length))}return n}}function Gi(e,t){return e<t?-1:e>t?1:0}function Wi(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}function zi(e){return e+"\0"}class $i{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ri(Di.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ri(Di.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ri(Di.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ri(Di.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $i.fromMillis(Date.now())}static fromDate(e){return $i.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new $i(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gi(this.nanoseconds,e.nanoseconds):Gi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yi(e)}static min(){return new Yi(new $i(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ji(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Zi{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ai(),void 0===n?n=e.length-t:n>e.length-t&&Ai(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Zi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class er extends Zi{construct(e,t,n){return new er(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ri(Di.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new er(t)}static emptyPath(){return new er([])}}const tr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends Zi{construct(e,t,n){return new nr(e,t,n)}static isValidIdentifier(e){return tr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nr(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Ri(Di.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new Ri(Di.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ri(Di.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new Ri(Di.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(t)}static emptyPath(){return new nr([])}}class ir{constructor(e){this.fields=e,e.sort(nr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wi(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new rr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new rr(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const sr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(e){if(xi(!!e),"string"==typeof e){let t=0;const n=sr.exec(e);if(xi(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ar(e.seconds),nanos:ar(e.nanos)}}function ar(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ur(e){return"string"==typeof e?rr.fromBase64String(e):rr.fromUint8Array(e)}function cr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lr(e){const t=e.mapValue.fields.__previous_value__;return cr(t)?lr(t):t}function hr(e){const t=or(e.mapValue.fields.__local_write_time__.timestampValue);return new $i(t.seconds,t.nanos)}function dr(e){return null==e}function fr(e){return 0===e&&1/e==-1/0}function pr(e){return"number"==typeof e&&Number.isInteger(e)&&!fr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class mr{constructor(e){this.path=e}static fromPath(e){return new mr(er.fromString(e))}static fromName(e){return new mr(er.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===er.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return er.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mr(new er(e.slice()))}}function gr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cr(e)?4:10:Ai()}function vr(e,t){const n=gr(e);if(n!==gr(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hr(e).isEqual(hr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=or(e.timestampValue),i=or(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ur(e.bytesValue).isEqual(ur(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ar(e.geoPointValue.latitude)===ar(t.geoPointValue.latitude)&&ar(e.geoPointValue.longitude)===ar(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ar(e.integerValue)===ar(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ar(e.doubleValue),i=ar(t.doubleValue);return n===i?fr(n)===fr(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return Wi(e.arrayValue.values||[],t.arrayValue.values||[],vr);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(Ji(n)!==Ji(i))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===i[e]||!vr(n[e],i[e])))return!1;return!0}(e,t);default:return Ai()}}function yr(e,t){return void 0!==(e.values||[]).find((e=>vr(e,t)))}function br(e,t){const n=gr(e),i=gr(t);if(n!==i)return Gi(n,i);switch(n){case 0:return 0;case 1:return Gi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ar(e.integerValue||e.doubleValue),i=ar(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return wr(e.timestampValue,t.timestampValue);case 4:return wr(hr(e),hr(t));case 5:return Gi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ur(e),i=ur(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let e=0;e<n.length&&e<i.length;e++){const t=Gi(n[e],i[e]);if(0!==t)return t}return Gi(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Gi(ar(e.latitude),ar(t.latitude));return 0!==n?n:Gi(ar(e.longitude),ar(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let e=0;e<n.length&&e<i.length;++e){const t=br(n[e],i[e]);if(t)return t}return Gi(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let e=0;e<i.length&&e<s.length;++e){const t=Gi(i[e],s[e]);if(0!==t)return t;const o=br(n[i[e]],r[s[e]]);if(0!==o)return o}return Gi(i.length,s.length)}(e.mapValue,t.mapValue);default:throw Ai()}}function wr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gi(e,t);const n=or(e),i=or(t),r=Gi(n.seconds,i.seconds);return 0!==r?r:Gi(n.nanos,i.nanos)}function Ir(e){return _r(e)}function _r(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=or(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ur(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,mr.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=_r(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+=`${r}:${_r(e.fields[r])}`;return n+"}"}(e.mapValue):Ai();var t,n}function Er(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Tr(e){return!!e&&"integerValue"in e}function Sr(e){return!!e&&"arrayValue"in e}function kr(e){return!!e&&"nullValue"in e}function Cr(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ar(e){return!!e&&"mapValue"in e}function xr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qi(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=xr(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xr(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ar(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xr(t)}setAll(e){let t=nr.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=xr(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());Ar(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Ar(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Qi(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Nr(xr(this.value))}}function Dr(e){const t=[];return Qi(e.fields,((e,n)=>{const i=new nr([e]);if(Ar(n)){const e=Dr(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new ir(t)}class Rr{constructor(e,t,n,i,r){this.key=e,this.documentType=t,this.version=n,this.data=i,this.documentState=r}static newInvalidDocument(e){return new Rr(e,0,Yi.min(),Nr.empty(),0)}static newFoundDocument(e,t,n){return new Rr(e,1,t,n,0)}static newNoDocument(e,t){return new Rr(e,2,t,Nr.empty(),0)}static newUnknownDocument(e,t){return new Rr(e,3,t,Nr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Rr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pr{constructor(e,t=null,n=[],i=[],r=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.R=null}}function Or(e,t=null,n=[],i=[],r=null,s=null,o=null){return new Pr(e,t,n,i,r,s,o)}function Lr(e){const t=Ni(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Ir(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),dr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=$r(t.startAt)),t.endAt&&(e+="|ub:",e+=$r(t.endAt)),t.R=e}return t.R}function Mr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Jr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(n=e.filters[r],i=t.filters[r],n.op!==i.op||!n.field.isEqual(i.field)||!vr(n.value,i.value))return!1;var n,i;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xr(e.startAt,t.startAt)&&Xr(e.endAt,t.endAt)}function Fr(e){return mr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ur extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new jr(e,t,n):"array-contains"===t?new Hr(e,n):"in"===t?new Kr(e,n):"not-in"===t?new Gr(e,n):"array-contains-any"===t?new Wr(e,n):new Ur(e,t,n)}static P(e,t,n){return"in"===t?new Vr(e,n):new Br(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(br(t,this.value)):null!==t&&gr(this.value)===gr(t)&&this.v(br(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ai()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class jr extends Ur{constructor(e,t,n){super(e,t,n),this.key=mr.fromName(n.referenceValue)}matches(e){const t=mr.comparator(e.key,this.key);return this.v(t)}}class Vr extends Ur{constructor(e,t){super(e,"in",t),this.keys=qr(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Br extends Ur{constructor(e,t){super(e,"not-in",t),this.keys=qr(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>mr.fromName(e.referenceValue)))}class Hr extends Ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sr(t)&&yr(t.arrayValue,this.value)}}class Kr extends Ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yr(this.value.arrayValue,t)}}class Gr extends Ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(yr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yr(this.value.arrayValue,t)}}class Wr extends Ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sr(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>yr(this.value.arrayValue,e)))}}class zr{constructor(e,t){this.position=e,this.before=t}}function $r(e){return`${e.before?"b":"a"}:${e.position.map((e=>Ir(e))).join(",")}`}class Yr{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Qr(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(i=s.field.isKeyField()?mr.comparator(mr.fromName(o.referenceValue),n.key):br(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return e.before?i<=0:i<0}function Xr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vr(e.position[n],t.position[n]))return!1;return!0}class Zr{constructor(e,t=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function es(e,t,n,i,r,s,o,a){return new Zr(e,t,n,i,r,s,o,a)}function ts(e){return new Zr(e)}function ns(e){return!dr(e.limit)&&"F"===e.limitType}function is(e){return!dr(e.limit)&&"L"===e.limitType}function rs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ss(e){for(const t of e.filters)if(t.V())return t.field;return null}function os(e){return null!==e.collectionGroup}function as(e){const t=Ni(e);if(null===t.S){t.S=[];const e=ss(t),n=rs(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new Yr(e)),t.S.push(new Yr(nr.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Yr(nr.keyField(),e))}}}return t.S}function us(e){const t=Ni(e);if(!t.D)if("F"===t.limitType)t.D=Or(t.path,t.collectionGroup,as(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of as(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Yr(n.field,t))}const n=t.endAt?new zr(t.endAt.position,!t.endAt.before):null,i=t.startAt?new zr(t.startAt.position,!t.startAt.before):null;t.D=Or(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t.D}function cs(e,t,n){return new Zr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ls(e,t){return Mr(us(e),us(t))&&e.limitType===t.limitType}function hs(e){return`${Lr(us(e))}|lt:${e.limitType}`}function ds(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Ir(t.value)}`;var t})).join(", ")}]`),dr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+$r(e.startAt)),e.endAt&&(t+=", endAt: "+$r(e.endAt)),`Target(${t})`}(us(e))}; limitType=${e.limitType})`}function fs(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):mr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Qr(e.startAt,as(e),t)||e.endAt&&Qr(e.endAt,as(e),t))}(e,t)}function ps(e){return(t,n)=>{let i=!1;for(const r of as(e)){const e=ms(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function ms(e,t,n){const i=e.field.isKeyField()?mr.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?br(i,r):Ai()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ai()}}function gs(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fr(t)?"-0":t}}function vs(e){return{integerValue:""+e}}function ys(e,t){return pr(t)?vs(t):gs(e,t)}class bs{constructor(){this._=void 0}}function ws(e,t,n){return e instanceof Es?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ts?Ss(e,t):e instanceof ks?Cs(e,t):function(e,t){const n=_s(e,t),i=xs(n)+xs(e.N);return Tr(n)&&Tr(e.N)?vs(i):gs(e.k,i)}(e,t)}function Is(e,t,n){return e instanceof Ts?Ss(e,t):e instanceof ks?Cs(e,t):n}function _s(e,t){return e instanceof As?Tr(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Es extends bs{}class Ts extends bs{constructor(e){super(),this.elements=e}}function Ss(e,t){const n=Ns(t);for(const t of e.elements)n.some((e=>vr(e,t)))||n.push(t);return{arrayValue:{values:n}}}class ks extends bs{constructor(e){super(),this.elements=e}}function Cs(e,t){let n=Ns(t);for(const t of e.elements)n=n.filter((e=>!vr(e,t)));return{arrayValue:{values:n}}}class As extends bs{constructor(e,t){super(),this.k=e,this.N=t}}function xs(e){return ar(e.integerValue||e.doubleValue)}function Ns(e){return Sr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ds{constructor(e,t){this.field=e,this.transform=t}}class Rs{constructor(e,t){this.version=e,this.transformResults=t}}class Ps{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ps}static exists(e){return new Ps(void 0,e)}static updateTime(e){return new Ps(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Os(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ls{}function Ms(e,t,n){e instanceof Bs?function(e,t,n){const i=e.value.clone(),r=Ks(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof qs?function(e,t,n){if(!Os(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=Ks(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Hs(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fs(e,t,n){e instanceof Bs?function(e,t,n){if(!Os(e.precondition,t))return;const i=e.value.clone(),r=Gs(e.fieldTransforms,n,t);i.setAll(r),t.convertToFoundDocument(Vs(t),i).setHasLocalMutations()}(e,t,n):e instanceof qs?function(e,t,n){if(!Os(e.precondition,t))return;const i=Gs(e.fieldTransforms,n,t),r=t.data;r.setAll(Hs(e)),r.setAll(i),t.convertToFoundDocument(Vs(t),r).setHasLocalMutations()}(e,t,n):function(e,t){Os(e.precondition,t)&&t.convertToNoDocument(Yi.min())}(e,t)}function Us(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=_s(i.transform,e||null);null!=r&&(null==n&&(n=Nr.empty()),n.set(i.field,r))}return n||null}function js(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wi(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ts&&t instanceof Ts||e instanceof ks&&t instanceof ks?Wi(e.elements,t.elements,vr):e instanceof As&&t instanceof As?vr(e.N,t.N):e instanceof Es&&t instanceof Es}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Vs(e){return e.isFoundDocument()?e.version:Yi.min()}class Bs extends Ls{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}}class qs extends Ls{constructor(e,t,n,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}}function Hs(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Ks(e,t,n){const i=new Map;xi(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,Is(o,a,n[r]))}return i}function Gs(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,ws(e,s,t))}return i}class Ws extends Ls{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class zs extends Ls{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class $s{constructor(e){this.count=e}}var Ys,Js;function Qs(e){switch(e){default:return Ai();case Di.CANCELLED:case Di.UNKNOWN:case Di.DEADLINE_EXCEEDED:case Di.RESOURCE_EXHAUSTED:case Di.INTERNAL:case Di.UNAVAILABLE:case Di.UNAUTHENTICATED:return!1;case Di.INVALID_ARGUMENT:case Di.NOT_FOUND:case Di.ALREADY_EXISTS:case Di.PERMISSION_DENIED:case Di.FAILED_PRECONDITION:case Di.ABORTED:case Di.OUT_OF_RANGE:case Di.UNIMPLEMENTED:case Di.DATA_LOSS:return!0}}function Xs(e){if(void 0===e)return Si("GRPC error has no .code"),Di.UNKNOWN;switch(e){case Ys.OK:return Di.OK;case Ys.CANCELLED:return Di.CANCELLED;case Ys.UNKNOWN:return Di.UNKNOWN;case Ys.DEADLINE_EXCEEDED:return Di.DEADLINE_EXCEEDED;case Ys.RESOURCE_EXHAUSTED:return Di.RESOURCE_EXHAUSTED;case Ys.INTERNAL:return Di.INTERNAL;case Ys.UNAVAILABLE:return Di.UNAVAILABLE;case Ys.UNAUTHENTICATED:return Di.UNAUTHENTICATED;case Ys.INVALID_ARGUMENT:return Di.INVALID_ARGUMENT;case Ys.NOT_FOUND:return Di.NOT_FOUND;case Ys.ALREADY_EXISTS:return Di.ALREADY_EXISTS;case Ys.PERMISSION_DENIED:return Di.PERMISSION_DENIED;case Ys.FAILED_PRECONDITION:return Di.FAILED_PRECONDITION;case Ys.ABORTED:return Di.ABORTED;case Ys.OUT_OF_RANGE:return Di.OUT_OF_RANGE;case Ys.UNIMPLEMENTED:return Di.UNIMPLEMENTED;case Ys.DATA_LOSS:return Di.DATA_LOSS;default:return Ai()}}(Js=Ys||(Ys={}))[Js.OK=0]="OK",Js[Js.CANCELLED=1]="CANCELLED",Js[Js.UNKNOWN=2]="UNKNOWN",Js[Js.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Js[Js.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Js[Js.NOT_FOUND=5]="NOT_FOUND",Js[Js.ALREADY_EXISTS=6]="ALREADY_EXISTS",Js[Js.PERMISSION_DENIED=7]="PERMISSION_DENIED",Js[Js.UNAUTHENTICATED=16]="UNAUTHENTICATED",Js[Js.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Js[Js.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Js[Js.ABORTED=10]="ABORTED",Js[Js.OUT_OF_RANGE=11]="OUT_OF_RANGE",Js[Js.UNIMPLEMENTED=12]="UNIMPLEMENTED",Js[Js.INTERNAL=13]="INTERNAL",Js[Js.UNAVAILABLE=14]="UNAVAILABLE",Js[Js.DATA_LOSS=15]="DATA_LOSS";class Zs{constructor(e,t){this.comparator=e,this.root=t||to.EMPTY}insert(e,t){return new Zs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,to.BLACK,null,null))}remove(e){return new Zs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,to.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eo(this.root,e,this.comparator,!1)}getReverseIterator(){return new eo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eo(this.root,e,this.comparator,!0)}}class eo{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class to{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:to.RED,this.left=null!=i?i:to.EMPTY,this.right=null!=r?r:to.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new to(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return to.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return to.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,to.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,to.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ai();if(this.right.isRed())throw Ai();const e=this.left.check();if(e!==this.right.check())throw Ai();return e+(this.isRed()?0:1)}}to.EMPTY=null,to.RED=!0,to.BLACK=!1,to.EMPTY=new class{constructor(){this.size=0}get key(){throw Ai()}get value(){throw Ai()}get color(){throw Ai()}get left(){throw Ai()}get right(){throw Ai()}copy(e,t,n,i,r){return this}insert(e,t,n){return new to(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class no{constructor(e){this.comparator=e,this.data=new Zs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new io(this.data.getIterator())}getIteratorFrom(e){return new io(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof no))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new no(this.comparator);return t.data=e,t}}class io{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ro=new Zs(mr.comparator);function so(){return ro}const oo=new Zs(mr.comparator);function ao(){return oo}const uo=new Zs(mr.comparator);function co(){return uo}const lo=new no(mr.comparator);function ho(...e){let t=lo;for(const n of e)t=t.add(n);return t}const fo=new no(Gi);function po(){return fo}class mo{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,go.createSynthesizedTargetChangeForCurrentChange(e,t)),new mo(Yi.min(),n,po(),so(),ho())}}class go{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t){return new go(rr.EMPTY_BYTE_STRING,t,ho(),ho(),ho())}}class vo{constructor(e,t,n,i){this.$=e,this.removedTargetIds=t,this.key=n,this.F=i}}class yo{constructor(e,t){this.targetId=e,this.O=t}}class bo{constructor(e,t,n=rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class wo{constructor(){this.M=0,this.L=Eo(),this.B=rr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=ho(),t=ho(),n=ho();return this.L.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ai()}})),new go(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=Eo()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class Io{constructor(e){this.et=e,this.nt=new Map,this.st=so(),this.it=_o(),this.rt=new no(Gi)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,(t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:Ai()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(((e,n)=>{this.lt(n)&&t(n)}))}dt(e){const t=e.targetId,n=e.O.count,i=this.wt(t);if(i){const e=i.target;if(Fr(e))if(0===n){const n=new mr(e.path);this.ct(t,n,Rr.newNoDocument(n,Yi.min()))}else xi(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach(((n,i)=>{const r=this.wt(i);if(r){if(n.current&&Fr(r.target)){const t=new mr(r.target.path);null!==this.st.get(t)||this.yt(i,t)||this.ct(i,t,Rr.newNoDocument(t,e))}n.j&&(t.set(i,n.G()),n.H())}}));let n=ho();this.it.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))}));const i=new mo(e,t,this.rt,this.st,n);return this.st=so(),this.it=_o(),this.rt=new no(Gi),i}at(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new wo,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new no(Gi),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ti("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new wo),this.et.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function _o(){return new Zs(mr.comparator)}function Eo(){return new Zs(mr.comparator)}const To={asc:"ASCENDING",desc:"DESCENDING"},So={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ko{constructor(e,t){this.databaseId=e,this.C=t}}function Co(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ao(e,t){return e.C?t.toBase64():t.toUint8Array()}function xo(e,t){return Co(e,t.toTimestamp())}function No(e){return xi(!!e),Yi.fromTimestamp(function(e){const t=or(e);return new $i(t.seconds,t.nanos)}(e))}function Do(e,t){return function(e){return new er(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ro(e){const t=er.fromString(e);return xi(na(t)),t}function Po(e,t){return Do(e.databaseId,t.path)}function Oo(e,t){const n=Ro(t);if(n.get(1)!==e.databaseId.projectId)throw new Ri(Di.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ri(Di.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new mr(Uo(n))}function Lo(e,t){return Do(e.databaseId,t)}function Mo(e){const t=Ro(e);return 4===t.length?er.emptyPath():Uo(t)}function Fo(e){return new er(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uo(e){return xi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jo(e,t,n){return{name:Po(e,t),fields:n.value.mapValue.fields}}function Vo(e,t,n){const i=Oo(e,t.name),r=No(t.updateTime),s=new Nr({mapValue:{fields:t.fields}}),o=Rr.newFoundDocument(i,r,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Bo(e,t){let n;if(t instanceof Bs)n={update:jo(e,t.key,t.value)};else if(t instanceof Ws)n={delete:Po(e,t.key)};else if(t instanceof qs)n={update:jo(e,t.key,t.data),updateMask:ta(t.fieldMask)};else{if(!(t instanceof zs))return Ai();n={verify:Po(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Es)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ts)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ks)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof As)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Ai()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ai()}(e,t.precondition)),n}function qo(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ps.updateTime(No(e.updateTime)):void 0!==e.exists?Ps.exists(e.exists):Ps.none()}(t.currentDocument):Ps.none(),i=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)xi("REQUEST_TIME"===t.setToServerValue),n=new Es;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ts(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new ks(e)}else"increment"in t?n=new As(e,t.increment):Ai();const i=nr.fromServerFormat(t.fieldPath);return new Ds(i,n)}(e,t))):[];if(t.update){t.update.name;const r=Oo(e,t.update.name),s=new Nr({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new ir(t.map((e=>nr.fromServerFormat(e))))}(t.updateMask);return new qs(r,s,e,n,i)}return new Bs(r,s,n,i)}if(t.delete){const i=Oo(e,t.delete);return new Ws(i,n)}if(t.verify){const i=Oo(e,t.verify);return new zs(i,n)}return Ai()}function Ho(e,t){return{documents:[Lo(e,t.path)]}}function Ko(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=Lo(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Lo(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Cr(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NAN"}};if(kr(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Cr(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NOT_NAN"}};if(kr(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(e.field),op:Jo(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);r&&(n.structuredQuery.where=r);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Qo(e.field),direction:Yo(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.C||dr(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=zo(t.startAt)),t.endAt&&(n.structuredQuery.endAt=zo(t.endAt)),n}function Go(e){let t=Mo(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){xi(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Wo(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Yr(Xo(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,dr(t)?null:t}(n.limit));let u=null;n.startAt&&(u=$o(n.startAt));let c=null;return n.endAt&&(c=$o(n.endAt)),es(t,r,o,s,a,"F",u,c)}function Wo(e){return e?void 0!==e.unaryFilter?[ea(e)]:void 0!==e.fieldFilter?[Zo(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Wo(e))).reduce(((e,t)=>e.concat(t))):Ai():[]}function zo(e){return{before:e.before,values:e.position}}function $o(e){const t=!!e.before,n=e.values||[];return new zr(n,t)}function Yo(e){return To[e]}function Jo(e){return So[e]}function Qo(e){return{fieldPath:e.canonicalString()}}function Xo(e){return nr.fromServerFormat(e.fieldPath)}function Zo(e){return Ur.create(Xo(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ai()}}(e.fieldFilter.op),e.fieldFilter.value)}function ea(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xo(e.unaryFilter.field);return Ur.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xo(e.unaryFilter.field);return Ur.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xo(e.unaryFilter.field);return Ur.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Xo(e.unaryFilter.field);return Ur.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Ai()}}function ta(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function na(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ia(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=sa(t)),t=ra(e.get(n),t);return sa(t)}function ra(e,t){let n=t;const i=e.length;for(let t=0;t<i;t++){const i=e.charAt(t);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function sa(e){return e+""}function oa(e){const t=e.length;if(xi(t>=2),2===t)return xi(""===e.charAt(0)&&""===e.charAt(1)),er.emptyPath();const n=t-2,i=[];let r="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&Ai(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"":r+=e.substring(s,t),r+="\0";break;case"":r+=e.substring(s,t+1);break;default:Ai()}s=t+2}return new er(i)}class aa{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class ua{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}ua.store="owner",ua.key="owner";class ca{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}ca.store="mutationQueues",ca.keyPath="userId";class la{constructor(e,t,n,i,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}}la.store="mutations",la.keyPath="batchId",la.userMutationsIndex="userMutationsIndex",la.userMutationsKeyPath=["userId","batchId"];class ha{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ia(t)]}static key(e,t,n){return[e,ia(t),n]}}ha.store="documentMutations",ha.PLACEHOLDER=new ha;class da{constructor(e,t){this.path=e,this.readTime=t}}class fa{constructor(e,t){this.path=e,this.version=t}}class pa{constructor(e,t,n,i,r,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s}}pa.store="remoteDocuments",pa.readTimeIndex="readTimeIndex",pa.readTimeIndexPath="readTime",pa.collectionReadTimeIndex="collectionReadTimeIndex",pa.collectionReadTimeIndexPath=["parentPath","readTime"];class ma{constructor(e){this.byteSize=e}}ma.store="remoteDocumentGlobal",ma.key="remoteDocumentGlobalKey";class ga{constructor(e,t,n,i,r,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o}}ga.store="targets",ga.keyPath="targetId",ga.queryTargetsIndexName="queryTargetsIndex",ga.queryTargetsKeyPath=["canonicalId","targetId"];class va{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}va.store="targetDocuments",va.keyPath=["targetId","path"],va.documentTargetsIndex="documentTargetsIndex",va.documentTargetsKeyPath=["path","targetId"];class ya{constructor(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i}}ya.key="targetGlobalKey",ya.store="targetGlobal";class ba{constructor(e,t){this.collectionId=e,this.parent=t}}ba.store="collectionParents",ba.keyPath=["collectionId","parent"];class wa{constructor(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i}}wa.store="clientMetadata",wa.keyPath="clientId";class Ia{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Ia.store="bundles",Ia.keyPath="bundleId";class _a{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}_a.store="namedQueries",_a.keyPath="name";const Ea=[ca.store,la.store,ha.store,pa.store,ga.store,ua.store,ya.store,va.store,wa.store,ma.store,ba.store,Ia.store,_a.store],Ta="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class ka{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ai(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ka(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ka?t:ka.resolve(t)}catch(e){return ka.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ka.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ka.reject(t)}static resolve(e){return new ka(((t,n)=>{t(e)}))}static reject(e){return new ka(((t,n)=>{n(e)}))}static waitFor(e){return new ka(((t,n)=>{let i=0,r=0,s=!1;e.forEach((e=>{++i,e.next((()=>{++r,s&&r===i&&t()}),(e=>n(e)))})),s=!0,r===i&&t()}))}static or(e){let t=ka.resolve(!1);for(const n of e)t=t.next((e=>e?ka.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}}class Ca{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Pi,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Na(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=La(t.target.error);this.It.reject(new Na(e,n))}}static open(e,t,n,i){try{return new Ca(t,e.transaction(i,n))}catch(e){throw new Na(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ti("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Ra(t)}}class Aa{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===Aa.Pt((0,u.z$)())&&Si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ti("SimpleDb","Removing database:",e),Pa(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,u.hl)())return!1;if(Aa.vt())return!0;const e=(0,u.z$)(),t=Aa.Pt(e),n=0<t&&t<10,i=Aa.Vt(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(e){return this.db||(Ti("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new Na(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new Ri(Di.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new Ri(Di.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new Na(e,i))},i.onupgradeneeded=e=>{Ti("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Rt.Nt(t,i.transaction,e.oldVersion,this.version).next((()=>{Ti("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const r="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Ct(e);const t=Ca.open(this.db,e,r?"readonly":"readwrite",n),s=i(t).catch((e=>(t.abort(e),ka.reject(e)))).toPromise();return s.catch((()=>{})),await t.At,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(Ti("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class xa{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return Pa(this.$t.delete())}}class Na extends Ri{constructor(e,t){super(Di.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Da(e){return"IndexedDbTransactionError"===e.name}class Ra{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ti("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ti("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Pa(n)}add(e){return Ti("SimpleDb","ADD",this.store.name,e,e),Pa(this.store.add(e))}get(e){return Pa(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ti("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ti("SimpleDb","DELETE",this.store.name,e),Pa(this.store.delete(e))}count(){return Ti("SimpleDb","COUNT",this.store.name),Pa(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),i=[];return this.Ut(n,((e,t)=>{i.push(t)})).next((()=>i))}qt(e,t){Ti("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const i=this.cursor(n);return this.Ut(i,((e,t,n)=>n.delete()))}jt(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.Ut(i,t)}Qt(e){const t=this.cursor({});return new ka(((n,i)=>{t.onerror=e=>{const t=La(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next((e=>{e?i.continue():n()})):n()}}))}Ut(e,t){const n=[];return new ka(((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const s=new xa(r),o=t(r.primaryKey,r.value,s);if(o instanceof ka){const e=o.catch((e=>(s.done(),ka.reject(e))));n.push(e)}s.isDone?i():null===s.Mt?r.continue():r.continue(s.Mt)}})).next((()=>ka.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pa(e){return new ka(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=La(e.target.error);n(t)}}))}let Oa=!1;function La(e){const t=Aa.Pt((0,u.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ri("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Oa||(Oa=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ma extends Sa{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Fa(e,t){const n=Ni(e);return Aa.Dt(n.Wt,t)}class Ua{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const i=this.mutations[t];i.key.isEqual(e.key)&&Ms(i,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Fs(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Fs(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),i=n;this.applyToLocalView(i),n.isValidDocument()||i.convertToNoDocument(Yi.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ho())}isEqual(e){return this.batchId===e.batchId&&Wi(this.mutations,e.mutations,((e,t)=>js(e,t)))&&Wi(this.baseMutations,e.baseMutations,((e,t)=>js(e,t)))}}class ja{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){xi(e.mutations.length===n.length);let i=co();const r=e.mutations;for(let e=0;e<r.length;e++)i=i.insert(r[e].key,n[e].version);return new ja(e,t,n,i)}}class Va{constructor(e,t,n,i,r=Yi.min(),s=Yi.min(),o=rr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ba{constructor(e){this.Gt=e}}function qa(e,t){if(t.document)return Vo(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=mr.fromSegments(t.noDocument.path),n=za(t.noDocument.readTime),i=Rr.newNoDocument(e,n);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){const e=mr.fromSegments(t.unknownDocument.path),n=za(t.unknownDocument.version);return Rr.newUnknownDocument(e,n)}return Ai()}function Ha(e,t,n){const i=Ka(n),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Po(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Co(e,t.version.toTimestamp())}}(e.Gt,t),s=t.hasCommittedMutations;return new pa(null,null,n,s,i,r)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=Wa(t.version),s=t.hasCommittedMutations;return new pa(null,new da(e,n),null,s,i,r)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Wa(t.version);return new pa(new fa(e,n),null,null,!0,i,r)}return Ai()}function Ka(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ga(e){const t=new $i(e[0],e[1]);return Yi.fromTimestamp(t)}function Wa(e){const t=e.toTimestamp();return new aa(t.seconds,t.nanoseconds)}function za(e){const t=new $i(e.seconds,e.nanoseconds);return Yi.fromTimestamp(t)}function $a(e,t){const n=(t.baseMutations||[]).map((t=>qo(e.Gt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const i=t.mutations[e+1];n.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const i=t.mutations.map((t=>qo(e.Gt,t))),r=$i.fromMillis(t.localWriteTimeMs);return new Ua(t.batchId,r,n,i)}function Ya(e){const t=za(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?za(e.lastLimboFreeSnapshotVersion):Yi.min();let i;var r;return void 0!==e.query.documents?(xi(1===(r=e.query).documents.length),i=us(ts(Mo(r.documents[0])))):i=function(e){return us(Go(e))}(e.query),new Va(i,e.targetId,0,e.lastListenSequenceNumber,t,n,rr.fromBase64String(e.resumeToken))}function Ja(e,t){const n=Wa(t.snapshotVersion),i=Wa(t.lastLimboFreeSnapshotVersion);let r;r=Fr(t.target)?Ho(e.Gt,t.target):Ko(e.Gt,t.target);const s=t.resumeToken.toBase64();return new ga(t.targetId,Lr(t.target),n,s,t.sequenceNumber,i,r)}function Qa(e){const t=Go({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cs(t,t.limit,"L"):t}class Xa{getBundleMetadata(e,t){return Za(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:za(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Za(e).put({bundleId:(n=t).id,createTime:Wa(No(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return eu(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Qa(t.bundledQuery),readTime:za(t.readTime)};var t}))}saveNamedQuery(e,t){return eu(e).put(function(e){return{name:e.name,readTime:Wa(No(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Za(e){return Fa(e,Ia.store)}function eu(e){return Fa(e,_a.store)}class tu{constructor(){this.zt=new nu}addToCollectionParentIndex(e,t){return this.zt.add(t),ka.resolve()}getCollectionParents(e,t){return ka.resolve(this.zt.getEntries(t))}}class nu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new no(er.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new no(er.comparator)).toArray()}}class iu{constructor(){this.Ht=new nu}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.Ht.add(t)}));const r={collectionId:n,parent:ia(i)};return ru(e).put(r)}return ka.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[zi(t),""],!1,!0);return ru(e).Bt(i).next((e=>{for(const i of e){if(i.collectionId!==t)break;n.push(oa(i.parent))}return n}))}}function ru(e){return Fa(e,ba.store)}const su={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ou{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ou(e,ou.DEFAULT_COLLECTION_PERCENTILE,ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function au(e,t,n){const i=e.store(la.store),r=e.store(ha.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=i.jt({range:o},((e,t,n)=>(a++,n.delete())));s.push(u.next((()=>{xi(1===a)})));const c=[];for(const e of n.mutations){const i=ha.key(t,e.key.path,n.batchId);s.push(r.delete(i)),c.push(e.key)}return ka.waitFor(s).next((()=>c))}function uu(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ai();t=e.noDocument}return JSON.stringify(t).length}ou.DEFAULT_COLLECTION_PERCENTILE=10,ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ou.DEFAULT=new ou(41943040,ou.DEFAULT_COLLECTION_PERCENTILE,ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ou.DISABLED=new ou(-1,0,0);class cu{constructor(e,t,n,i){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=i,this.Yt={}}static Xt(e,t,n,i){xi(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new cu(r,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hu(e).jt({index:la.userMutationsIndex,range:n},((e,n,i)=>{t=!1,i.done()})).next((()=>t))}addMutationBatch(e,t,n,i){const r=du(e),s=hu(e);return s.add({}).next((o=>{xi("number"==typeof o);const a=new Ua(o,t,n,i),u=function(e,t,n){const i=n.baseMutations.map((t=>Bo(e.Gt,t))),r=n.mutations.map((t=>Bo(e.Gt,t)));return new la(t,n.batchId,n.localWriteTime.toMillis(),i,r)}(this.k,this.userId,a),c=[];let l=new no(((e,t)=>Gi(e.canonicalString(),t.canonicalString())));for(const e of i){const t=ha.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),c.push(s.put(u)),c.push(r.put(t,ha.PLACEHOLDER))}return l.forEach((t=>{c.push(this.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Yt[o]=a.keys()})),ka.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return hu(e).get(t).next((e=>e?(xi(e.userId===this.userId),$a(this.k,e)):null))}Zt(e,t){return this.Yt[t]?ka.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return hu(e).jt({index:la.userMutationsIndex,range:i},((e,t,i)=>{t.userId===this.userId&&(xi(t.batchId>=n),r=$a(this.k,t)),i.done()})).next((()=>r))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return hu(e).jt({index:la.userMutationsIndex,range:t,reverse:!0},((e,t,i)=>{n=t.batchId,i.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hu(e).Bt(la.userMutationsIndex,t).next((e=>e.map((e=>$a(this.k,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ha.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(n),r=[];return du(e).jt({range:i},((n,i,s)=>{const[o,a,u]=n,c=oa(a);if(o===this.userId&&t.path.isEqual(c))return hu(e).get(u).next((e=>{if(!e)throw Ai();xi(e.userId===this.userId),r.push($a(this.k,e))}));s.done()})).next((()=>r))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new no(Gi);const i=[];return t.forEach((t=>{const r=ha.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=du(e).jt({range:s},((e,i,r)=>{const[s,o,a]=e,u=oa(o);s===this.userId&&t.path.isEqual(u)?n=n.add(a):r.done()}));i.push(o)})),ka.waitFor(i).next((()=>this.te(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,r=ha.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new no(Gi);return du(e).jt({range:s},((e,t,r)=>{const[s,a,u]=e,c=oa(a);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(o=o.add(u)):r.done()})).next((()=>this.te(e,o)))}te(e,t){const n=[],i=[];return t.forEach((t=>{i.push(hu(e).get(t).next((e=>{if(null===e)throw Ai();xi(e.userId===this.userId),n.push($a(this.k,e))})))})),ka.waitFor(i).next((()=>n))}removeMutationBatch(e,t){return au(e.Wt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ee(t.batchId)})),ka.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ka.resolve();const n=IDBKeyRange.lowerBound(ha.prefixForUser(this.userId)),i=[];return du(e).jt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=oa(e[1]);i.push(t)}else n.done()})).next((()=>{xi(0===i.length)}))}))}containsKey(e,t){return lu(e,this.userId,t)}ne(e){return fu(e).get(this.userId).next((e=>e||new ca(this.userId,-1,"")))}}function lu(e,t,n){const i=ha.prefixForPath(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return du(e).jt({range:s,Kt:!0},((e,n,i)=>{const[s,a,u]=e;s===t&&a===r&&(o=!0),i.done()})).next((()=>o))}function hu(e){return Fa(e,la.store)}function du(e){return Fa(e,ha.store)}function fu(e){return Fa(e,ca.store)}class pu{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new pu(0)}static re(){return new pu(-1)}}class mu{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next((t=>{const n=new pu(t.highestTargetId);return t.highestTargetId=n.next(),this.ae(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.oe(e).next((e=>Yi.fromTimestamp(new $i(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.oe(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.oe(e).next((i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.ae(e,i))))}addTargetData(e,t){return this.ce(e,t).next((()=>this.oe(e).next((n=>(n.targetCount+=1,this.ue(t,n),this.ae(e,n))))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>gu(e).delete(t.targetId))).next((()=>this.oe(e))).next((t=>(xi(t.targetCount>0),t.targetCount-=1,this.ae(e,t))))}removeTargets(e,t,n){let i=0;const r=[];return gu(e).jt(((s,o)=>{const a=Ya(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(e,a)))})).next((()=>ka.waitFor(r))).next((()=>i))}forEachTarget(e,t){return gu(e).jt(((e,n)=>{const i=Ya(n);t(i)}))}oe(e){return vu(e).get(ya.key).next((e=>(xi(null!==e),e)))}ae(e,t){return vu(e).put(ya.key,t)}ce(e,t){return gu(e).put(Ja(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Lr(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return gu(e).jt({range:i,index:ga.queryTargetsIndexName},((e,n,i)=>{const s=Ya(n);Mr(t,s.target)&&(r=s,i.done())})).next((()=>r))}addMatchingKeys(e,t,n){const i=[],r=yu(e);return t.forEach((t=>{const s=ia(t.path);i.push(r.put(new va(n,s))),i.push(this.referenceDelegate.addReference(e,n,t))})),ka.waitFor(i)}removeMatchingKeys(e,t,n){const i=yu(e);return ka.forEach(t,(t=>{const r=ia(t.path);return ka.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=yu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=yu(e);let r=ho();return i.jt({range:n,Kt:!0},((e,t,n)=>{const i=oa(e[1]),s=new mr(i);r=r.add(s)})).next((()=>r))}containsKey(e,t){const n=ia(t.path),i=IDBKeyRange.bound([n],[zi(n)],!1,!0);let r=0;return yu(e).jt({index:va.documentTargetsIndex,Kt:!0,range:i},(([e,t],n,i)=>{0!==e&&(r++,i.done())})).next((()=>r>0))}Et(e,t){return gu(e).get(t).next((e=>e?Ya(e):null))}}function gu(e){return Fa(e,ga.store)}function vu(e){return Fa(e,ya.store)}function yu(e){return Fa(e,va.store)}async function bu(e){if(e.code!==Di.FAILED_PRECONDITION||e.message!==Ta)throw e;Ti("LocalStore","Unexpectedly lost primary lease")}function wu([e,t],[n,i]){const r=Gi(e,n);return 0===r?Gi(t,i):r}class Iu{constructor(e){this.he=e,this.buffer=new no(wu),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();wu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _u{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){const t=this.we?3e5:6e4;Ti("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Da(e)?Ti("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await bu(e)}await this.me(e)}))}}class Eu{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ka.resolve(qi.I);const n=new Iu(t);return this.ge.forEachTarget(e,(e=>n.de(e.sequenceNumber))).next((()=>this.ge.pe(e,(e=>n.de(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ti("LruGarbageCollector","Garbage collection skipped; disabled"),ka.resolve(su)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ti("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),su):this.Te(e,t)))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,i,r,s,o,u,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ti("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i)))).next((i=>(n=i,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,u=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Ei()<=a.in.DEBUG&&Ti("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${i} in `+(o-s)+"ms\n"+`\tRemoved ${r} targets in `+(u-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-u)+"ms\n"+`Total Duration: ${c-l}ms`),ka.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e}))))}}class Tu{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Eu(e,t)}(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.pe(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,((e,n)=>t(n)))}addReference(e,t,n){return Su(e,n)}removeReference(e,t,n){return Su(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Su(e,t)}Ae(e,t){return function(e,t){let n=!1;return fu(e).Qt((i=>lu(e,i,t).next((e=>(e&&(n=!0),ka.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Ie(e,((s,o)=>{if(o<=t){const t=this.Ae(e,s).next((t=>{if(!t)return r++,n.getEntry(e,s).next((()=>(n.removeEntry(s),yu(e).delete([0,ia(s.path)]))))}));i.push(t)}})).next((()=>ka.waitFor(i))).next((()=>n.apply(e))).next((()=>r))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Su(e,t)}Ie(e,t){const n=yu(e);let i,r=qi.I;return n.jt({index:va.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(r!==qi.I&&t(new mr(oa(i)),r),r=o,i=s):r=qi.I})).next((()=>{r!==qi.I&&t(new mr(oa(i)),r)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Su(e,t){return yu(e).put(function(e,t){return new va(0,ia(e.path),t)}(t,e.currentSequenceNumber))}class ku{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,i]of n)if(this.equalsFn(t,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0!==i){for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],e))return void(i[n]=[e,t]);i.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),!0;return!1}forEach(e){Qi(this.inner,((t,n)=>{for(const[t,i]of n)e(t,i)}))}isEmpty(){return Xi(this.inner)}}class Cu{constructor(){this.changes=new ku((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Yi.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Rr.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ka.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Au{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return Du(e).put(Ru(t),n)}removeEntry(e,t){const n=Du(e),i=Ru(t);return n.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Re(e,n))))}getEntry(e,t){return Du(e).get(Ru(t)).next((e=>this.Pe(t,e)))}be(e,t){return Du(e).get(Ru(t)).next((e=>({document:this.Pe(t,e),size:uu(e)})))}getEntries(e,t){let n=so();return this.ve(e,t,((e,t)=>{const i=this.Pe(e,t);n=n.insert(e,i)})).next((()=>n))}Ve(e,t){let n=so(),i=new Zs(mr.comparator);return this.ve(e,t,((e,t)=>{const r=this.Pe(e,t);n=n.insert(e,r),i=i.insert(e,uu(t))})).next((()=>({documents:n,Se:i})))}ve(e,t,n){if(t.isEmpty())return ka.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),r=t.getIterator();let s=r.getNext();return Du(e).jt({range:i},((e,t,i)=>{const o=mr.fromSegments(e);for(;s&&mr.comparator(s,o)<0;)n(s,null),s=r.getNext();s&&s.isEqual(o)&&(n(s,t),s=r.hasNext()?r.getNext():null),s?i.Lt(s.path.toArray()):i.done()})).next((()=>{for(;s;)n(s,null),s=r.hasNext()?r.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let i=so();const r=t.path.length+1,s={};if(n.isEqual(Yi.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),i=Ka(n);s.range=IDBKeyRange.lowerBound([e,i],!0),s.index=pa.collectionReadTimeIndex}return Du(e).jt(s,((e,n,s)=>{if(e.length!==r)return;const o=qa(this.k,n);t.path.isPrefixOf(o.key.path)?fs(t,o)&&(i=i.insert(o.key,o)):s.done()})).next((()=>i))}newChangeBuffer(e){return new xu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Nu(e).get(ma.key).next((e=>(xi(!!e),e)))}Re(e,t){return Nu(e).put(ma.key,t)}Pe(e,t){if(t){const e=qa(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(Yi.min()))return e}return Rr.newInvalidDocument(e)}}class xu extends Cu{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new ku((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,i=new no(((e,t)=>Gi(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((r,s)=>{const o=this.Ce.get(r);if(s.document.isValidDocument()){const a=Ha(this.De.k,s.document,this.getReadTime(r));i=i.add(r.path.popLast());const u=uu(a);n+=u-o,t.push(this.De.addEntry(e,r,a))}else if(n-=o,this.trackRemovals){const n=Ha(this.De.k,Rr.newNoDocument(r,Yi.min()),this.getReadTime(r));t.push(this.De.addEntry(e,r,n))}else t.push(this.De.removeEntry(e,r))})),i.forEach((n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))})),t.push(this.De.updateMetadata(e,n)),ka.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next((e=>(this.Ce.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.De.Ve(e,t).next((({documents:e,Se:t})=>(t.forEach(((e,t)=>{this.Ce.set(e,t)})),e)))}}function Nu(e){return Fa(e,ma.store)}function Du(e){return Fa(e,pa.store)}function Ru(e){return e.path.toArray()}class Pu{constructor(e){this.k=e}Nt(e,t,n,i){xi(n<i&&n>=0&&i<=11);const r=new Ca("createOrUpgrade",t);n<1&&i>=1&&(function(e){e.createObjectStore(ua.store)}(e),function(e){e.createObjectStore(ca.store,{keyPath:ca.keyPath}),e.createObjectStore(la.store,{keyPath:la.keyPath,autoIncrement:!0}).createIndex(la.userMutationsIndex,la.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ha.store)}(e),Ou(e),function(e){e.createObjectStore(pa.store)}(e));let s=ka.resolve();return n<3&&i>=3&&(0!==n&&(function(e){e.deleteObjectStore(va.store),e.deleteObjectStore(ga.store),e.deleteObjectStore(ya.store)}(e),Ou(e)),s=s.next((()=>function(e){const t=e.store(ya.store),n=new ya(0,0,Yi.min().toTimestamp(),0);return t.put(ya.key,n)}(r)))),n<4&&i>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(la.store).Bt().next((n=>{e.deleteObjectStore(la.store),e.createObjectStore(la.store,{keyPath:la.keyPath,autoIncrement:!0}).createIndex(la.userMutationsIndex,la.userMutationsKeyPath,{unique:!0});const i=t.store(la.store),r=n.map((e=>i.put(e)));return ka.waitFor(r)}))}(e,r)))),s=s.next((()=>{!function(e){e.createObjectStore(wa.store,{keyPath:wa.keyPath})}(e)}))),n<5&&i>=5&&(s=s.next((()=>this.Ne(r)))),n<6&&i>=6&&(s=s.next((()=>(function(e){e.createObjectStore(ma.store)}(e),this.ke(r))))),n<7&&i>=7&&(s=s.next((()=>this.xe(r)))),n<8&&i>=8&&(s=s.next((()=>this.$e(e,r)))),n<9&&i>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(pa.store);t.createIndex(pa.readTimeIndex,pa.readTimeIndexPath,{unique:!1}),t.createIndex(pa.collectionReadTimeIndex,pa.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&i>=10&&(s=s.next((()=>this.Fe(r)))),n<11&&i>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(Ia.store,{keyPath:Ia.keyPath})}(e),function(e){e.createObjectStore(_a.store,{keyPath:_a.keyPath})}(e)}))),s}ke(e){let t=0;return e.store(pa.store).jt(((e,n)=>{t+=uu(n)})).next((()=>{const n=new ma(t);return e.store(ma.store).put(ma.key,n)}))}Ne(e){const t=e.store(ca.store),n=e.store(la.store);return t.Bt().next((t=>ka.forEach(t,(t=>{const i=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(la.userMutationsIndex,i).next((n=>ka.forEach(n,(n=>{xi(n.userId===t.userId);const i=$a(this.k,n);return au(e,t.userId,i).next((()=>{}))}))))}))))}xe(e){const t=e.store(va.store),n=e.store(pa.store);return e.store(ya.store).get(ya.key).next((e=>{const i=[];return n.jt(((n,r)=>{const s=new er(n),o=function(e){return[0,ia(e)]}(s);i.push(t.get(o).next((n=>n?ka.resolve():(n=>t.put(new va(0,ia(n),e.highestListenSequenceNumber)))(s))))})).next((()=>ka.waitFor(i)))}))}$e(e,t){e.createObjectStore(ba.store,{keyPath:ba.keyPath});const n=t.store(ba.store),i=new nu,r=e=>{if(i.add(e)){const t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ia(i)})}};return t.store(pa.store).jt({Kt:!0},((e,t)=>{const n=new er(e);return r(n.popLast())})).next((()=>t.store(ha.store).jt({Kt:!0},(([e,t,n],i)=>{const s=oa(t);return r(s.popLast())}))))}Fe(e){const t=e.store(ga.store);return t.jt(((e,n)=>{const i=Ya(n),r=Ja(this.k,i);return t.put(r)}))}}function Ou(e){e.createObjectStore(va.store,{keyPath:va.keyPath}).createIndex(va.documentTargetsIndex,va.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ga.store,{keyPath:ga.keyPath}).createIndex(ga.queryTargetsIndexName,ga.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ya.store)}const Lu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mu{constructor(e,t,n,i,r,s,o,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=r,this.window=s,this.document=o,this.Me=u,this.Le=c,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!Mu.bt())throw new Ri(Di.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tu(this,i),this.Ge=t+"main",this.k=new Ba(a),this.ze=new Aa(this.Ge,11,new Pu(this.k)),this.He=new mu(this.referenceDelegate,this.k),this.Jt=new iu,this.Je=function(e,t){return new Au(e,t)}(this.k,this.Jt),this.Ye=new Xa,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===c&&Si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ri(Di.FAILED_PRECONDITION,Lu);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.He.getHighestSequenceNumber(e)))})).then((e=>{this.Be=new qi(e,this.Me)})).then((()=>{this.Ue=!0})).catch((e=>(this.ze&&this.ze.close(),Promise.reject(e))))}sn(e){return this.We=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((async()=>{this.started&&await this.Ze()})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Uu(e).put(new wa(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.rn(e).next((e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.We(!1))))}))})).next((()=>this.on(e))).next((t=>this.isPrimary&&!t?this.an(e).next((()=>!1)):!!t&&this.cn(e).next((()=>!0)))))).catch((e=>{if(Da(e))return Ti("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ti("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable((()=>this.We(e))),this.isPrimary=e}))}rn(e){return Fu(e).get(ua.key).next((e=>ka.resolve(this.un(e))))}hn(e){return Uu(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Fa(e,wa.store);return t.Bt().next((e=>{const n=this.dn(e,18e5),i=e.filter((e=>-1===n.indexOf(e)));return ka.forEach(i,(e=>t.delete(e.clientId))).next((()=>i))}))})).catch((()=>[]));if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ze().then((()=>this.ln())).then((()=>this.nn()))))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?ka.resolve(!0):Fu(e).get(ua.key).next((t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Ri(Di.FAILED_PRECONDITION,Lu);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uu(e).Bt().next((e=>void 0===this.dn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,i=this.networkEnabled===e.networkEnabled;if(t||n&&i)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Ti("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[ua.store,wa.store],(e=>{const t=new Ma(e,qi.I);return this.an(t).next((()=>this.hn(t)))})),this.ze.close(),this.pn()}dn(e,t){return e.filter((e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId)))}Tn(){return this.runTransaction("getActiveClients","readonly",(e=>Uu(e).Bt().next((e=>this.dn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ue}getMutationQueue(e){return cu.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){Ti("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite";let r;return this.ze.runTransaction(e,i,Ea,(i=>(r=new Ma(i,this.Be?this.Be.next():qi.I),"readwrite-primary"===t?this.rn(r).next((e=>!!e||this.on(r))).next((t=>{if(!t)throw Si(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.We(!1))),new Ri(Di.FAILED_PRECONDITION,Ta);return n(r)})).next((e=>this.cn(r).next((()=>e)))):this.En(r).next((()=>n(r)))))).then((e=>(r.raiseOnCommittedEvent(),e)))}En(e){return Fu(e).get(ua.key).next((e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ri(Di.FAILED_PRECONDITION,Lu)}))}cn(e){const t=new ua(this.clientId,this.allowTabSynchronization,Date.now());return Fu(e).put(ua.key,t)}static bt(){return Aa.bt()}an(e){const t=Fu(e);return t.get(ua.key).next((e=>this.un(e)?(Ti("IndexedDbPersistence","Releasing primary lease."),t.delete(ua.key)):ka.resolve()))}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(Si(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze())))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,u.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ti("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Si("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Si("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fu(e){return Fa(e,ua.store)}function Uu(e){return Fa(e,wa.store)}function ju(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Vu{constructor(e,t){this.progress=e,this.In=t}}class Bu{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Pn(e,t,n)))}Pn(e,t,n){return this.Je.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}vn(e,t){return this.Je.getEntries(e,t).next((t=>this.Vn(e,t).next((()=>t))))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return mr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):os(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new mr(t)).next((e=>{let t=ao();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Dn(e,t,n){const i=t.collectionGroup;let r=ao();return this.Jt.getCollectionParents(e,i).next((s=>ka.forEach(s,(s=>{const o=function(e,t){return new Zr(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.Cn(e,o,n).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}Cn(e,t,n){let i,r;return this.Je.getDocumentsMatchingQuery(e,t,n).next((n=>(i=n,this.An.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(r=t,this.Nn(e,r,i).next((e=>{i=e;for(const e of r)for(const t of e.mutations){const n=t.key;let r=i.get(n);null==r&&(r=Rr.newInvalidDocument(n),i=i.insert(n,r)),Fs(t,r,e.localWriteTime),r.isFoundDocument()||(i=i.remove(n))}}))))).next((()=>(i.forEach(((e,n)=>{fs(t,n)||(i=i.remove(e))})),i)))}Nn(e,t,n){let i=ho();for(const e of t)for(const t of e.mutations)t instanceof qs&&null===n.get(t.key)&&(i=i.add(t.key));let r=n;return this.Je.getEntries(e,i).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(r=r.insert(e,t))})),r)))}}class qu{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=i}static $n(e,t){let n=ho(),i=ho();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new qu(e,t.fromCache,n,i)}}class Hu{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,n,i){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Yi.min())?this.Mn(e,t):this.On.vn(e,i).next((r=>{const s=this.Ln(t,r);return(ns(t)||is(t))&&this.Bn(t.limitType,s,i,n)?this.Mn(e,t):(Ei()<=a.in.DEBUG&&Ti("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ds(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Ln(e,t){let n=new no(ps(e));return t.forEach(((t,i)=>{fs(e,i)&&(n=n.add(i))})),n}Bn(e,t,n,i){if(n.size!==t.size)return!0;const r="F"===e?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Mn(e,t){return Ei()<=a.in.DEBUG&&Ti("QueryEngine","Using full collection scan to execute query:",ds(t)),this.On.getDocumentsMatchingQuery(e,t,Yi.min())}}class Ku{constructor(e,t,n,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new Zs(Gi),this.Kn=new ku((e=>Lr(e)),Mr),this.jn=Yi.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Bu(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qn)))}}function Gu(e,t,n,i){return new Ku(e,t,n,i)}async function Wu(e,t){const n=Ni(e);let i=n.An,r=n.Wn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.An.getAllMutationBatches(e).next((o=>(s=o,i=n.persistence.getMutationQueue(t),r=new Bu(n.Qn,i,n.persistence.getIndexManager()),i.getAllMutationBatches(e)))).next((t=>{const n=[],i=[];let o=ho();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return r.vn(e,o).next((e=>({Gn:e,removedBatchIds:n,addedBatchIds:i})))}))}));return n.An=i,n.Wn=r,n.Un.Fn(n.Wn),s}function zu(e){const t=Ni(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.He.getLastRemoteSnapshotVersion(e)))}function $u(e,t,n,i,r){let s=ho();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=so();return n.forEach(((n,o)=>{const a=e.get(n),u=(null==r?void 0:r.get(n))||i;o.isNoDocument()&&o.version.isEqual(Yi.min())?(t.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,u),s=s.insert(n,o)):Ti("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function Yu(e,t){const n=Ni(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t))))}function Ju(e,t){const n=Ni(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.He.getTargetData(e,t).next((r=>r?(i=r,ka.resolve(i)):n.He.allocateTargetId(e).next((r=>(i=new Va(t,r,0,e.currentSequenceNumber),n.He.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.qn.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}async function Qu(e,t,n){const i=Ni(e),r=i.qn.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!Da(e))throw e;Ti("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}i.qn=i.qn.remove(t),i.Kn.delete(r.target)}function Xu(e,t,n){const i=Ni(e);let r=Yi.min(),s=ho();return i.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const i=Ni(e),r=i.Kn.get(n);return void 0!==r?ka.resolve(i.qn.get(r)):i.He.getTargetData(t,n)}(i,e,us(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>i.Un.getDocumentsMatchingQuery(e,t,n?r:Yi.min(),n?s:ho()))).next((e=>({documents:e,zn:s})))))}function Zu(e,t){const n=Ni(e),i=Ni(n.He),r=n.qn.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(e=>i.Et(e,t).next((e=>e?e.target:null))))}function ec(e){const t=Ni(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const i=Ni(e);let r=so(),s=Ka(n);const o=Du(t),a=IDBKeyRange.lowerBound(s,!0);return o.jt({index:pa.readTimeIndex,range:a},((e,t)=>{const n=qa(i.k,t);r=r.insert(n.key,n),s=t.readTime})).next((()=>({In:r,readTime:Ga(s)})))}(t.Qn,e,t.jn))).then((({In:e,readTime:n})=>(t.jn=n,e)))}async function tc(e,t,n=ho()){const i=await Ju(e,us(Qa(t.bundledQuery))),r=Ni(e);return r.persistence.runTransaction("Save named query","readwrite",(e=>{const s=No(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Ye.saveNamedQuery(e,t);const o=i.withResumeToken(rr.EMPTY_BYTE_STRING,s);return r.qn=r.qn.insert(o.targetId,o),r.He.updateTargetData(e,o).next((()=>r.He.removeMatchingKeysForTargetId(e,i.targetId))).next((()=>r.He.addMatchingKeys(e,n,i.targetId))).next((()=>r.Ye.saveNamedQuery(e,t)))}))}class nc{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return ka.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:No(n.createTime)}),ka.resolve()}getNamedQuery(e,t){return ka.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Qa(e.bundledQuery),readTime:No(e.readTime)}}(t)),ka.resolve()}}class ic{constructor(){this.ts=new no(rc.es),this.ns=new no(rc.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new rc(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.os(new rc(e,t))}cs(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new mr(new er([])),n=new rc(t,e),i=new rc(t,e+1),r=[];return this.ns.forEachInRange([n,i],(e=>{this.os(e),r.push(e.key)})),r}hs(){this.ts.forEach((e=>this.os(e)))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new mr(new er([])),n=new rc(t,e),i=new rc(t,e+1);let r=ho();return this.ns.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new rc(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class rc{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return mr.comparator(e.key,t.key)||Gi(e.fs,t.fs)}static ss(e,t){return Gi(e.fs,t.fs)||mr.comparator(e.key,t.key)}}class sc{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new no(rc.es)}checkEmpty(e){return ka.resolve(0===this.An.length)}addMutationBatch(e,t,n,i){const r=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const s=new Ua(r,t,n,i);this.An.push(s);for(const t of i)this.ws=this.ws.add(new rc(t.key,r)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return ka.resolve(s)}lookupMutationBatch(e,t){return ka.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.gs(n),r=i<0?0:i;return ka.resolve(this.An.length>r?this.An[r]:null)}getHighestUnacknowledgedBatchId(){return ka.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return ka.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new rc(t,0),i=new rc(t,Number.POSITIVE_INFINITY),r=[];return this.ws.forEachInRange([n,i],(e=>{const t=this._s(e.fs);r.push(t)})),ka.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new no(Gi);return t.forEach((e=>{const t=new rc(e,0),i=new rc(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,i],(e=>{n=n.add(e.fs)}))})),ka.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;mr.isDocumentKey(r)||(r=r.child(""));const s=new rc(new mr(r),0);let o=new no(Gi);return this.ws.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(o=o.add(e.fs)),!0)}),s),ka.resolve(this.ys(o))}ys(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){xi(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return ka.forEach(t.mutations,(i=>{const r=new rc(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.ws=n}))}ee(e){}containsKey(e,t){const n=new rc(t,0),i=this.ws.firstAfterOrEqual(n);return ka.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.An.length,ka.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class oc{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Zs(mr.comparator),this.size=0}addEntry(e,t,n){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ka.resolve(n?n.document.clone():Rr.newInvalidDocument(t))}getEntries(e,t){let n=so();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Rr.newInvalidDocument(e))})),ka.resolve(n)}getDocumentsMatchingQuery(e,t,n){let i=so();const r=new mr(t.path.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:e,value:{document:r,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||fs(t,r)&&(i=i.insert(r.key,r.clone()))}return ka.resolve(i)}Es(e,t){return ka.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ac(this)}getSize(e){return ka.resolve(this.size)}}class ac extends Cu{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(n))):this.De.removeEntry(n)})),ka.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class uc{constructor(e){this.persistence=e,this.Is=new ku((e=>Lr(e)),Mr),this.lastRemoteSnapshotVersion=Yi.min(),this.highestTargetId=0,this.As=0,this.Rs=new ic,this.targetCount=0,this.Ps=pu.ie()}forEachTarget(e,t){return this.Is.forEach(((e,n)=>t(n))),ka.resolve()}getLastRemoteSnapshotVersion(e){return ka.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ka.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),ka.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),ka.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new pu(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,ka.resolve()}updateTargetData(e,t){return this.ce(t),ka.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,ka.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.Is.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Is.delete(s),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),ka.waitFor(r).next((()=>i))}getTargetCount(e){return ka.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return ka.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),ka.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),ka.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),ka.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return ka.resolve(n)}containsKey(e,t){return ka.resolve(this.Rs.containsKey(t))}}class cc{constructor(e,t){this.bs={},this.Be=new qi(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new uc(this),this.Jt=new tu,this.Je=function(e,t){return new oc(e,t)}(this.Jt,(e=>this.referenceDelegate.vs(e))),this.k=new Ba(t),this.Ye=new nc(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new sc(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){Ti("MemoryPersistence","Starting transaction:",e);const i=new lc(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((e=>this.referenceDelegate.Ss(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Ds(e,t){return ka.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class lc extends Sa{constructor(e){super(),this.currentSequenceNumber=e}}class hc{constructor(e){this.persistence=e,this.Cs=new ic,this.Ns=null}static ks(e){return new hc(e)}get xs(){if(this.Ns)return this.Ns;throw Ai()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),ka.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),ka.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),ka.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ka.forEach(this.xs,(n=>{const i=mr.fromPath(n);return this.$s(e,i).next((e=>{e||t.removeEntry(i)}))})).next((()=>(this.Ns=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}vs(e){return 0}$s(e,t){return ka.or([()=>ka.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function dc(e,t){return`firestore_clients_${e}_${t}`}function fc(e,t,n){let i=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function pc(e,t){return`firestore_targets_${e}_${t}`}class mc{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static Fs(e,t,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ri(i.error.code,i.error.message))),s?new mc(e,t,i.state,r):(Si("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gc{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Fs(e,t){const n=JSON.parse(t);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new Ri(n.error.code,n.error.message))),r?new gc(e,n.state,i):(Si("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=po();for(let e=0;i&&e<n.activeTargetIds.length;++e)i=pr(n.activeTargetIds[e]),r=r.add(n.activeTargetIds[e]);return i?new vc(e,r):(Si("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class yc{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new yc(t.clientId,t.onlineState):(Si("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bc{constructor(){this.activeTargetIds=po()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wc{constructor(e,t,n,i,r){this.window=e,this.Oe=t,this.persistenceKey=n,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Zs(Gi),this.started=!1,this.js=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Qs=dc(this.persistenceKey,this.Bs),this.Ws=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new bc),this.Gs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Js=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Ys=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Tn();for(const t of e){if(t===this.Bs)continue;const e=this.getItem(dc(this.persistenceKey,t));if(e){const n=vc.Fs(t,e);n&&(this.Ks=this.Ks.insert(n.clientId,n))}}this.Xs();const t=this.storage.getItem(this.Js);if(t){const e=this.Zs(t);e&&this.ti(e)}for(const e of this.js)this.qs(e);this.js=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(pc(this.persistenceKey,e));if(n){const i=gc.Fs(e,n);i&&(t=i.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pc(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.si(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ti("SharedClientState","READ",e,t),t}setItem(e,t){Ti("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ti("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){const t=e;if(t.storageArea===this.storage){if(Ti("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Qs)return void Si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Gs.test(t.key)){if(null==t.newValue){const e=this.ci(t.key);return this.ui(e,null)}{const e=this.hi(t.key,t.newValue);if(e)return this.ui(e.clientId,e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.li(t.key,t.newValue);if(e)return this.fi(e)}}else if(this.Hs.test(t.key)){if(null!==t.newValue){const e=this.di(t.key,t.newValue);if(e)return this.wi(e)}}else if(t.key===this.Js){if(null!==t.newValue){const e=this.Zs(t.newValue);if(e)return this.ti(e)}}else if(t.key===this.Ws){const e=function(e){let t=qi.I;if(null!=e)try{const n=JSON.parse(e);xi("number"==typeof n),t=n}catch(e){Si("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==qi.I&&this.sequenceNumberHandler(e)}else if(t.key===this.Ys)return this.syncEngine._i()}else this.js.push(t)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,n){const i=new mc(this.currentUser,e,t,n),r=fc(this.persistenceKey,this.currentUser,e);this.setItem(r,i.Os())}si(e){const t=fc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){const t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}ri(e,t,n){const i=pc(this.persistenceKey,e),r=new gc(e,t,n);this.setItem(i,r.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ci(e);return vc.Fs(n,t)}li(e,t){const n=this.zs.exec(e),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return mc.Fs(new wi(r),i,t)}di(e,t){const n=this.Hs.exec(e),i=Number(n[1]);return gc.Fs(i,t)}Zs(e){return yc.Fs(e)}async fi(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.mi(e.batchId,e.state,e.error);Ti("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),r=this.ei(n),s=[],o=[];return r.forEach((e=>{i.has(e)||s.push(e)})),i.forEach((e=>{r.has(e)||o.push(e)})),this.syncEngine.yi(s,o).then((()=>{this.Ks=n}))}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=po();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Ic{constructor(){this.pi=new bc,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new bc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class _c{Ei(e){}shutdown(){}}class Ec{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ti("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){Ti("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Tc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Sc{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class kc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,i,r){const s=this.Ui(e,t);Ti("RestConnection","Sending: ",s,n);const o={};return this.qi(o,i,r),this.Ki(e,s,o,n).then((e=>(Ti("RestConnection","Received: ",e),e)),(t=>{throw ki("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}ji(e,t,n,i,r){return this.Bi(e,t,n,i,r)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ii,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Ui(e,t){const n=Tc[e];return`${this.Mi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,i){return new Promise(((r,s)=>{const o=new yi;o.listenOnce(fi.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case di.NO_ERROR:const t=o.getResponseJson();Ti("Connection","XHR received:",JSON.stringify(t)),r(t);break;case di.TIMEOUT:Ti("Connection",'RPC "'+e+'" timed out'),s(new Ri(Di.DEADLINE_EXCEEDED,"Request time out"));break;case di.HTTP_ERROR:const n=o.getStatus();if(Ti("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Di).indexOf(t)>=0?t:Di.UNKNOWN}(e.status);s(new Ri(t,e.message))}else s(new Ri(Di.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ri(Di.UNAVAILABLE,"Connection failed."));break;default:Ai()}}finally{Ti("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(i);o.send(t,"POST",a,n,15)}))}Qi(e,t,n){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=li(),s=hi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new gi({})),this.qi(o.initMessageHeaders,t,n),(0,u.uI)()||(0,u.b$)()||(0,u.d)()||(0,u.w1)()||(0,u.Mn)()||(0,u.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=i.join("");Ti("Connection","Creating WebChannel: "+a,o);const c=r.createWebChannel(a,o);let l=!1,h=!1;const d=new Sc({Vi:e=>{h?Ti("Connection","Not sending because WebChannel is closed:",e):(l||(Ti("Connection","Opening WebChannel transport."),c.open(),l=!0),Ti("Connection","WebChannel sending:",e),c.send(e))},Si:()=>c.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(c,vi.EventType.OPEN,(()=>{h||Ti("Connection","WebChannel transport opened.")})),f(c,vi.EventType.CLOSE,(()=>{h||(h=!0,Ti("Connection","WebChannel transport closed"),d.Fi())})),f(c,vi.EventType.ERROR,(e=>{h||(h=!0,ki("Connection","WebChannel transport errored:",e),d.Fi(new Ri(Di.UNAVAILABLE,"The operation could not be completed")))})),f(c,vi.EventType.MESSAGE,(e=>{var t;if(!h){const n=e.data[0];xi(!!n);const i=n,r=i.error||(null===(t=i[0])||void 0===t?void 0:t.error);if(r){Ti("Connection","WebChannel received error:",r);const e=r.status;let t=function(e){const t=Ys[e];if(void 0!==t)return Xs(t)}(e),n=r.message;void 0===t&&(t=Di.INTERNAL,n="Unknown error status: "+e+" with message "+r.message),h=!0,d.Fi(new Ri(t,n)),c.close()}else Ti("Connection","WebChannel received:",n),d.Oi(n)}})),f(s,pi.STAT_EVENT,(e=>{e.stat===mi.PROXY?Ti("Connection","Detected buffering proxy"):e.stat===mi.NOPROXY&&Ti("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.$i()}),0),d}}function Cc(){return"undefined"!=typeof window?window:null}function Ac(){return"undefined"!=typeof document?document:null}function xc(e){return new ko(e,!0)}class Nc{constructor(e,t,n=1e3,i=1.5,r=6e4){this.Oe=e,this.timerId=t,this.Wi=n,this.Gi=i,this.zi=r,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-n);i>0&&Ti("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(()=>(this.Yi=Date.now(),e()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Dc{constructor(e,t,n,i,r,s,o,a){this.Oe=e,this.nr=n,this.sr=i,this.ir=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Nc(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===Di.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===Di.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.rr===t&&this.Ir(e,n)}),(t=>{e((()=>{const e=new Ri(Di.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)}))}))}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((()=>{n((()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((e=>{n((()=>this.Ar(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(e){return Ti("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget((()=>this.rr===e?t():(Ti("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rc extends Dc{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.k=r}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ai()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.C?(xi(void 0===t||"string"==typeof t),rr.fromBase64String(t||"")):(xi(void 0===t||t instanceof Uint8Array),rr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Di.UNKNOWN:Xs(e.code);return new Ri(t,e.message||"")}(o);n=new bo(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Oo(e,i.document.name),s=No(i.document.updateTime),o=new Nr({mapValue:{fields:i.document.fields}}),a=Rr.newFoundDocument(r,s,o),u=i.targetIds||[],c=i.removedTargetIds||[];n=new vo(u,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Oo(e,i.document),s=i.readTime?No(i.readTime):Yi.min(),o=Rr.newNoDocument(r,s),a=i.removedTargetIds||[];n=new vo([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Oo(e,i.document),s=i.removedTargetIds||[];n=new vo([],s,r,null)}else{if(!("filter"in t))return Ai();{t.filter;const e=t.filter;e.targetId;const i=e.count||0,r=new $s(i),s=e.targetId;n=new yo(s,r)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Yi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Yi.min():t.readTime?No(t.readTime):Yi.min()}(e);return this.listener.Pr(t,n)}br(e){const t={};t.database=Fo(this.k),t.addTarget=function(e,t){let n;const i=t.target;return n=Fr(i)?{documents:Ho(e,i)}:{query:Ko(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ao(e,t.resumeToken):t.snapshotVersion.compareTo(Yi.min())>0&&(n.readTime=Co(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ai()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=Fo(this.k),t.removeTarget=e,this.gr(t)}}class Pc extends Dc{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.k=r,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(xi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(xi(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?No(e.updateTime):No(t);return n.isEqual(Yi.min())&&(n=No(t)),new Rs(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=No(e.commitTime);return this.listener.Cr(n,t)}return xi(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Fo(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Bo(this.k,e)))};this.gr(t)}}class Oc extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new Ri(Di.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.ir.Bi(e,t,n,i,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Di.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ri(Di.UNKNOWN,e.toString())}))}ji(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.ir.ji(e,t,n,i,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Di.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ri(Di.UNKNOWN,e.toString())}))}terminate(){this.$r=!0}}class Lc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Si(t),this.Lr=!1):Ti("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Mc{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=r,this.Hr.Ei((e=>{n.enqueueAndForget((async()=>{Gc(this)&&(Ti("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ni(e);t.Gr.add(4),await Uc(t),t.Jr.set("Unknown"),t.Gr.delete(4),await Fc(t)}(this))}))})),this.Jr=new Lc(n,i)}}async function Fc(e){if(Gc(e))for(const t of e.zr)await t(!0)}async function Uc(e){for(const t of e.zr)await t(!1)}function jc(e,t){const n=Ni(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Kc(n)?Hc(n):ul(n).lr()&&Bc(n,t))}function Vc(e,t){const n=Ni(e),i=ul(n);n.Wr.delete(t),i.lr()&&qc(n,t),0===n.Wr.size&&(i.lr()?i._r():Gc(n)&&n.Jr.set("Unknown"))}function Bc(e,t){e.Yr.X(t.targetId),ul(e).br(t)}function qc(e,t){e.Yr.X(t),ul(e).vr(t)}function Hc(e){e.Yr=new Io({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),ul(e).start(),e.Jr.Br()}function Kc(e){return Gc(e)&&!ul(e).hr()&&e.Wr.size>0}function Gc(e){return 0===Ni(e).Gr.size}function Wc(e){e.Yr=void 0}async function zc(e){e.Wr.forEach(((t,n)=>{Bc(e,t)}))}async function $c(e,t){Wc(e),Kc(e)?(e.Jr.Kr(t),Hc(e)):e.Jr.set("Unknown")}async function Yc(e,t,n){if(e.Jr.set("Online"),t instanceof bo&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.Wr.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.Wr.delete(i),e.Yr.removeTarget(i))}(e,t)}catch(n){Ti("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Jc(e,n)}else if(t instanceof vo?e.Yr.ot(t):t instanceof yo?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(Yi.min()))try{const t=await zu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Wr.get(i);r&&e.Wr.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(rr.EMPTY_BYTE_STRING,n.snapshotVersion)),qc(e,t);const i=new Va(n.target,t,1,n.sequenceNumber);Bc(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ti("RemoteStore","Failed to raise snapshot:",t),await Jc(e,t)}}async function Jc(e,t,n){if(!Da(t))throw t;e.Gr.add(1),await Uc(e),e.Jr.set("Offline"),n||(n=()=>zu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ti("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await Fc(e)}))}function Qc(e,t){return t().catch((n=>Jc(e,n,t)))}async function Xc(e){const t=Ni(e),n=cl(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Zc(t);)try{const e=await Yu(t.localStore,i);if(null===e){0===t.Qr.length&&n._r();break}i=e.batchId,el(t,e)}catch(e){await Jc(t,e)}tl(t)&&nl(t)}function Zc(e){return Gc(e)&&e.Qr.length<10}function el(e,t){e.Qr.push(t);const n=cl(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function tl(e){return Gc(e)&&!cl(e).hr()&&e.Qr.length>0}function nl(e){cl(e).start()}async function il(e){cl(e).kr()}async function rl(e){const t=cl(e);for(const n of e.Qr)t.Dr(n.mutations)}async function sl(e,t,n){const i=e.Qr.shift(),r=ja.from(i,t,n);await Qc(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await Xc(e)}async function ol(e,t){t&&cl(e).Sr&&await async function(e,t){if(Qs(n=t.code)&&n!==Di.ABORTED){const n=e.Qr.shift();cl(e).wr(),await Qc(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Xc(e)}var n}(e,t),tl(e)&&nl(e)}async function al(e,t){const n=Ni(e);t?(n.Gr.delete(2),await Fc(n)):t||(n.Gr.add(2),await Uc(n),n.Jr.set("Unknown"))}function ul(e){return e.Xr||(e.Xr=function(e,t,n){const i=Ni(e);return i.Fr(),new Rc(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,n)}(e.datastore,e.asyncQueue,{Di:zc.bind(null,e),Ni:$c.bind(null,e),Pr:Yc.bind(null,e)}),e.zr.push((async t=>{t?(e.Xr.wr(),Kc(e)?Hc(e):e.Jr.set("Unknown")):(await e.Xr.stop(),Wc(e))}))),e.Xr}function cl(e){return e.Zr||(e.Zr=function(e,t,n){const i=Ni(e);return i.Fr(),new Pc(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,n)}(e.datastore,e.asyncQueue,{Di:il.bind(null,e),Ni:ol.bind(null,e),Nr:rl.bind(null,e),Cr:sl.bind(null,e)}),e.zr.push((async t=>{t?(e.Zr.wr(),await Xc(e)):(await e.Zr.stop(),e.Qr.length>0&&(Ti("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))}))),e.Zr}class ll{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,o=new ll(e,t,s,i,r);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ri(Di.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hl(e,t){if(Si("AsyncQueue",`${t}: ${e}`),Da(e))return new Ri(Di.UNAVAILABLE,`${t}: ${e}`);throw e}class dl{constructor(e){this.comparator=e?(t,n)=>e(t,n)||mr.comparator(t.key,n.key):(e,t)=>mr.comparator(e.key,t.key),this.keyedMap=ao(),this.sortedSet=new Zs(this.comparator)}static emptySet(e){return new dl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dl))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new dl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class fl{constructor(){this.eo=new Zs(mr.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Ai():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class pl{constructor(e,t,n,i,r,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,i){const r=[];return t.forEach((e=>{r.push({type:0,doc:e})})),new pl(e,t,dl.emptySet(t),r,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ls(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class ml{constructor(){this.so=void 0,this.listeners=[]}}class gl{constructor(){this.queries=new ku((e=>hs(e)),ls),this.onlineState="Unknown",this.io=new Set}}async function vl(e,t){const n=Ni(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new ml),r)try{s.so=await n.onListen(i)}catch(e){const n=hl(e,`Initialization of query '${ds(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.listeners.push(t),t.ro(n.onlineState),s.so&&t.oo(s.so)&&Il(n)}async function yl(e,t){const n=Ni(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function bl(e,t){const n=Ni(e);let i=!1;for(const e of t){const t=e.query,r=n.queries.get(t);if(r){for(const t of r.listeners)t.oo(e)&&(i=!0);r.so=e}}i&&Il(n)}function wl(e,t,n){const i=Ni(e),r=i.queries.get(t);if(r)for(const e of r.listeners)e.onError(n);i.queries.delete(t)}function Il(e){e.io.forEach((e=>{e.next()}))}class _l{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new pl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.wo&&n||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class El{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Tl{constructor(e){this.k=e}Hn(e){return Oo(this.k,e)}Jn(e){return e.metadata.exists?Vo(this.k,e.document,!1):Rr.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return No(e)}}class Sl{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=kl(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new Tl(this.k);for(const i of e)if(i.metadata.queries){const e=n.Hn(i.metadata.name);for(const n of i.metadata.queries){const i=(t.get(n)||ho()).add(e);t.set(n,i)}}return t}async complete(){const e=await async function(e,t,n,i){const r=Ni(e);let s=ho(),o=so(),a=co();for(const e of n){const n=t.Hn(e.metadata.name);e.document&&(s=s.add(n)),o=o.insert(n,t.Jn(e)),a=a.insert(n,t.Yn(e.metadata.readTime))}const u=r.Qn.newChangeBuffer({trackRemovals:!0}),c=await Ju(r,function(e){return us(ts(er.fromString(`__bundle__/docs/${e}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",(e=>$u(e,u,o,Yi.min(),a).next((t=>(u.apply(e),t))).next((t=>r.He.removeMatchingKeysForTargetId(e,c.targetId).next((()=>r.He.addMatchingKeys(e,s,c.targetId))).next((()=>r.Wn.Vn(e,t))).next((()=>t))))))}(this.localStore,new Tl(this.k),this.documents,this.mo.id),t=this.po(this.documents);for(const e of this.queries)await tc(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new Vu(Object.assign({},this.progress),e)}}function kl(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Cl{constructor(e){this.key=e}}class Al{constructor(e){this.key=e}}class xl{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=ho(),this.mutatedKeys=ho(),this.Ao=ps(e),this.Ro=new dl(this.Ao)}get Po(){return this.To}bo(e,t){const n=t?t.vo:new fl,i=t?t.Ro:this.Ro;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a=ns(this.query)&&i.size===this.query.limit?i.last():null,u=is(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),l=fs(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Vo(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Ao(l,a)>0||u&&this.Ao(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))})),ns(this.query)||is(this.query))for(;s.size>this.query.limit;){const e=ns(this.query)?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Ro:s,vo:n,Bn:o,mutatedKeys:r}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const r=e.vo.no();r.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ai()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc))),this.So(n);const s=t?this.Do():[],o=0===this.Io.size&&this.current?1:0,a=o!==this.Eo;return this.Eo=o,0!==r.length||a?{snapshot:new pl(this.query,e.Ro,i,r,e.mutatedKeys,0===o,a,!1),Co:s}:{Co:s}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new fl,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach((e=>this.To=this.To.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.To=this.To.delete(e))),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=ho(),this.Ro.forEach((e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))}));const t=[];return e.forEach((e=>{this.Io.has(e)||t.push(new Al(e))})),this.Io.forEach((n=>{e.has(n)||t.push(new Cl(n))})),t}ko(e){this.To=e.zn,this.Io=ho();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return pl.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Nl{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Dl{constructor(e){this.key=e,this.$o=!1}}class Rl{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Fo={},this.Oo=new ku((e=>hs(e)),ls),this.Mo=new Map,this.Lo=new Set,this.Bo=new Zs(mr.comparator),this.Uo=new Map,this.qo=new ic,this.Ko={},this.jo=new Map,this.Qo=pu.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function Pl(e,t){const n=sh(e);let i,r;const s=n.Oo.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.xo();else{const e=await Ju(n.localStore,us(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=await Ol(n,t,i,"current"===s),n.isPrimaryClient&&jc(n.remoteStore,e)}return r}async function Ol(e,t,n,i){e.Go=(t,n,i)=>async function(e,t,n,i){let r=t.view.bo(n);r.Bn&&(r=await Xu(e.localStore,t.query,!1).then((({documents:e})=>t.view.bo(e,r))));const s=i&&i.targetChanges.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s);return Gl(e,t.targetId,o.Co),o.snapshot}(e,t,n,i);const r=await Xu(e.localStore,t,!0),s=new xl(t,r.zn),o=s.bo(r.documents),a=go.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState),u=s.applyChanges(o,e.isPrimaryClient,a);Gl(e,n,u.Co);const c=new Nl(t,n,s);return e.Oo.set(t,c),e.Mo.has(n)?e.Mo.get(n).push(t):e.Mo.set(n,[t]),u.snapshot}async function Ll(e,t){const n=Ni(e),i=n.Oo.get(t),r=n.Mo.get(i.targetId);if(r.length>1)return n.Mo.set(i.targetId,r.filter((e=>!ls(e,t)))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Qu(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),Vc(n.remoteStore,i.targetId),Hl(n,i.targetId)})).catch(bu)):(Hl(n,i.targetId),await Qu(n.localStore,i.targetId,!0))}async function Ml(e,t){const n=Ni(e);try{const e=await function(e,t){const n=Ni(e),i=t.snapshotVersion;let r=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Qn.newChangeBuffer({trackRemovals:!0});r=n.qn;const o=[];t.targetChanges.forEach(((t,s)=>{const a=r.get(s);if(!a)return;o.push(n.He.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.He.addMatchingKeys(e,t.addedDocuments,s))));const u=t.resumeToken;if(u.approximateByteSize()>0){const c=a.withResumeToken(u,i).withSequenceNumber(e.currentSequenceNumber);r=r.insert(s,c),function(e,t,n){return xi(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&o.push(n.He.updateTargetData(e,c))}}));let a=so();if(t.documentUpdates.forEach(((i,r)=>{t.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),o.push($u(e,s,t.documentUpdates,i,void 0).next((e=>{a=e}))),!i.isEqual(Yi.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next((t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,i)));o.push(t)}return ka.waitFor(o).next((()=>s.apply(e))).next((()=>n.Wn.Vn(e,a))).next((()=>a))})).then((e=>(n.qn=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.Uo.get(t);i&&(xi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.$o=!0:e.modifiedDocuments.size>0?xi(i.$o):e.removedDocuments.size>0&&(xi(i.$o),i.$o=!1))})),await $l(n,e,t)}catch(e){await bu(e)}}function Fl(e,t,n){const i=Ni(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.Oo.forEach(((n,i)=>{const r=i.view.ro(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Ni(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.ro(t)&&(i=!0)})),i&&Il(n)}(i.eventManager,t),e.length&&i.Fo.Pr(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Ul(e,t,n){const i=Ni(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Uo.get(t),s=r&&r.key;if(s){let e=new Zs(mr.comparator);e=e.insert(s,Rr.newNoDocument(s,Yi.min()));const n=ho().add(s),r=new mo(Yi.min(),new Map,new no(Gi),e,n);await Ml(i,r),i.Bo=i.Bo.remove(s),i.Uo.delete(t),zl(i)}else await Qu(i.localStore,t,!1).then((()=>Hl(i,t,n))).catch(bu)}async function jl(e,t){const n=Ni(e),i=t.batch.batchId;try{const e=await function(e,t){const n=Ni(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let o=ka.resolve();return s.forEach((e=>{o=o.next((()=>i.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);xi(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&i.addEntry(t,n.commitVersion))}))})),o.next((()=>e.An.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,i)))}))}(n.localStore,t);ql(n,i,null),Bl(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $l(n,e)}catch(e){await bu(e)}}async function Vl(e,t,n){const i=Ni(e);try{const e=await function(e,t){const n=Ni(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.An.lookupMutationBatch(e,t).next((t=>(xi(null!==t),i=t.keys(),n.An.removeMutationBatch(e,t)))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,i)))}))}(i.localStore,t);ql(i,t,n),Bl(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await $l(i,e)}catch(n){await bu(n)}}function Bl(e,t){(e.jo.get(t)||[]).forEach((e=>{e.resolve()})),e.jo.delete(t)}function ql(e,t,n){const i=Ni(e);let r=i.Ko[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Ko[i.currentUser.toKey()]=r}}function Hl(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Mo.get(t))e.Oo.delete(i),n&&e.Fo.zo(i,n);e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((t=>{e.qo.containsKey(t)||Kl(e,t)}))}function Kl(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(Vc(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),zl(e))}function Gl(e,t,n){for(const i of n)i instanceof Cl?(e.qo.addReference(i.key,t),Wl(e,i)):i instanceof Al?(Ti("SyncEngine","Document no longer in limbo: "+i.key),e.qo.removeReference(i.key,t),e.qo.containsKey(i.key)||Kl(e,i.key)):Ai()}function Wl(e,t){const n=t.key,i=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(i)||(Ti("SyncEngine","New document in limbo: "+n),e.Lo.add(i),zl(e))}function zl(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new mr(er.fromString(t)),i=e.Qo.next();e.Uo.set(i,new Dl(n)),e.Bo=e.Bo.insert(n,i),jc(e.remoteStore,new Va(us(ts(n.path)),i,2,qi.I))}}async function $l(e,t,n){const i=Ni(e),r=[],s=[],o=[];i.Oo.isEmpty()||(i.Oo.forEach(((e,a)=>{o.push(i.Go(a,t,n).then((e=>{if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),r.push(e);const t=qu.$n(a.targetId,e);s.push(t)}})))})),await Promise.all(o),i.Fo.Pr(r),await async function(e,t){const n=Ni(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ka.forEach(t,(t=>ka.forEach(t.kn,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>ka.forEach(t.xn,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!Da(e))throw e;Ti("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qn.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.qn=n.qn.insert(t,r)}}}(i.localStore,s))}async function Yl(e,t){const n=Ni(e);if(!n.currentUser.isEqual(t)){Ti("SyncEngine","User change. New user:",t.toKey());const e=await Wu(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach((e=>{e.forEach((e=>{e.reject(new Ri(Di.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $l(n,e.Gn)}}function Jl(e,t){const n=Ni(e),i=n.Uo.get(t);if(i&&i.$o)return ho().add(i.key);{let e=ho();const i=n.Mo.get(t);if(!i)return e;for(const t of i){const i=n.Oo.get(t);e=e.unionWith(i.view.Po)}return e}}async function Ql(e,t){const n=Ni(e),i=await Xu(n.localStore,t.query,!0),r=t.view.ko(i);return n.isPrimaryClient&&Gl(n,t.targetId,r.Co),r}async function Xl(e){const t=Ni(e);return ec(t.localStore).then((e=>$l(t,e)))}async function Zl(e,t,n,i){const r=Ni(e),s=await function(e,t){const n=Ni(e),i=Ni(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>i.Zt(e,t).next((t=>t?n.Wn.vn(e,t):ka.resolve(null)))))}(r.localStore,t);null!==s?("pending"===n?await Xc(r.remoteStore):"acknowledged"===n||"rejected"===n?(ql(r,t,i||null),Bl(r,t),function(e,t){Ni(Ni(e).An).ee(t)}(r.localStore,t)):Ai(),await $l(r,s)):Ti("SyncEngine","Cannot apply mutation batch with id: "+t)}async function eh(e,t,n){const i=Ni(e),r=[],s=[];for(const e of t){let t;const n=i.Mo.get(e);if(n&&0!==n.length){t=await Ju(i.localStore,us(n[0]));for(const e of n){const t=i.Oo.get(e),n=await Ql(i,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await Zu(i.localStore,e);t=await Ju(i.localStore,n),await Ol(i,th(n),e,!1)}r.push(t)}return i.Fo.Pr(s),r}function th(e){return es(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nh(e){const t=Ni(e);return Ni(Ni(t.localStore).persistence).Tn()}async function ih(e,t,n,i){const r=Ni(e);if(r.Wo)Ti("SyncEngine","Ignoring unexpected query state notification.");else if(r.Mo.has(t))switch(n){case"current":case"not-current":{const e=await ec(r.localStore),i=mo.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await $l(r,e,i);break}case"rejected":await Qu(r.localStore,t,!0),Hl(r,t,i);break;default:Ai()}}async function rh(e,t,n){const i=sh(e);if(i.Wo){for(const e of t){if(i.Mo.has(e)){Ti("SyncEngine","Adding an already active target "+e);continue}const t=await Zu(i.localStore,e),n=await Ju(i.localStore,t);await Ol(i,th(t),n.targetId,!1),jc(i.remoteStore,n)}for(const e of n)i.Mo.has(e)&&await Qu(i.localStore,e,!1).then((()=>{Vc(i.remoteStore,e),Hl(i,e)})).catch(bu)}}function sh(e){const t=Ni(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ml.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ul.bind(null,t),t.Fo.Pr=bl.bind(null,t.eventManager),t.Fo.zo=wl.bind(null,t.eventManager),t}function oh(e){const t=Ni(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jl.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vl.bind(null,t),t}class ah{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=xc(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return Gu(this.persistence,new Hu,e.initialUser,this.k)}Yo(e){return new cc(hc.ks,this.k)}Jo(e){return new Ic}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uh extends ah{constructor(e,t,n){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Ni(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=Du(e);let n=Yi.min();return t.jt({index:pa.readTimeIndex,reverse:!0},((e,t,i)=>{t.readTime&&(n=Ga(t.readTime)),i.done()})).next((()=>n))}(e))).then((e=>{t.jn=e}))}(this.localStore),await this.ta.initialize(this,e),await oh(this.ta.syncEngine),await Xc(this.ta.remoteStore),await this.persistence.sn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Zo(e){return Gu(this.persistence,new Hu,e.initialUser,this.k)}Xo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new _u(t,e.asyncQueue)}Yo(e){const t=ju(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ou.withCacheSize(this.cacheSizeBytes):ou.DEFAULT;return new Mu(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Cc(),Ac(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Ic}}class ch extends uh{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ta.syncEngine;this.sharedClientState instanceof wc&&(this.sharedClientState.syncEngine={mi:Zl.bind(null,t),gi:ih.bind(null,t),yi:rh.bind(null,t),Tn:nh.bind(null,t),_i:Xl.bind(null,t)},await this.sharedClientState.start()),await this.persistence.sn((async e=>{await async function(e,t){const n=Ni(e);if(sh(n),oh(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await eh(n,e.toArray());n.Wo=!0,await al(n.remoteStore,!0);for(const e of t)jc(n.remoteStore,e)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Mo.forEach(((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?e.push(r):t=t.then((()=>(Hl(n,r),Qu(n.localStore,r,!0)))),Vc(n.remoteStore,r)})),await t,await eh(n,e),function(e){const t=Ni(e);t.Uo.forEach(((e,n)=>{Vc(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Zs(mr.comparator)}(n),n.Wo=!1,await al(n.remoteStore,!1)}}(this.ta.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Jo(e){const t=Cc();if(!wc.bt(t))throw new Ri(Di.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=ju(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wc(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class lh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Fl(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yl.bind(null,this.syncEngine),await al(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new gl}createDatastore(e){const t=xc(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new kc(i));var i;return function(e,t,n,i){return new Oc(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>Fl(this.syncEngine,e,0),s=Ec.bt()?new Ec:new _c,new Mc(t,n,i,r,s);var t,n,i,r,s}createSyncEngine(e,t){return function(e,t,n,i,r,s,o){const a=new Rl(e,t,n,i,r,s);return o&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ni(e);Ti("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Uc(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}function hh(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const i={value:e.slice(n,n+t),done:!1};return n+=t,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class dh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class fh{constructor(e,t){this.sa=e,this.k=t,this.metadata=new Pi,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.sa.cancel()}async getMetadata(){return this.metadata.promise}async Ho(){return await this.getMetadata(),this.ra()}async ra(){const e=await this.oa();if(null===e)return null;const t=this.ia.decode(e),n=Number(t);isNaN(n)&&this.aa(`length string (${t}) is not valid number`);const i=await this.ca(n);return new El(JSON.parse(i),e.length+n)}ua(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async oa(){for(;this.ua()<0&&!await this.ha(););if(0===this.buffer.length)return null;const e=this.ua();e<0&&this.aa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ca(e){for(;this.buffer.length<e;)await this.ha()&&this.aa("Reached the end of bundle when more is expected.");const t=this.ia.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ha(){const e=await this.sa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class ph{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ri(Di.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Ni(e),i=Fo(n.k)+"/documents",r={documents:t.map((e=>Po(n.k,e)))},s=await n.ji("BatchGetDocuments",i,r),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){xi(!!t.found),t.found.name,t.found.updateTime;const n=Oo(e,t.found.name),i=No(t.found.updateTime),r=new Nr({mapValue:{fields:t.found.fields}});return Rr.newFoundDocument(n,i,r)}(e,t):"missing"in t?function(e,t){xi(!!t.missing),xi(!!t.readTime);const n=Oo(e,t.missing),i=No(t.readTime);return Rr.newNoDocument(n,i)}(e,t):Ai()}(n.k,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());xi(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ws(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=mr.fromPath(t);this.mutations.push(new zs(n,this.precondition(n)))})),await async function(e,t){const n=Ni(e),i=Fo(n.k)+"/documents",r={writes:t.map((e=>Bo(n.k,e)))};await n.Bi("Commit",i,r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ai();t=Yi.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ri(Di.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ps.updateTime(t):Ps.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yi.min()))throw new Ri(Di.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ps.updateTime(t)}return Ps.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class mh{constructor(e,t,n,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=i,this.la=5,this.ur=new Nc(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){this.ur.Zi((async()=>{const e=new ph(this.datastore),t=this.da(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.wa(e)}))))})).catch((e=>{this.wa(e)}))}))}da(e){try{const t=this.updateFunction(e);return!dr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((()=>(this.fa(),Promise.resolve())))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Qs(t)}return!1}}class gh{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=wi.UNAUTHENTICATED,this.clientId=Ki.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ti("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(()=>Promise.resolve()))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ri(Di.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=hl(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function vh(e,t){e.asyncQueue.verifyOperationInProgress(),Ti("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await Wu(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function yh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bh(e);Ti("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener((e=>async function(e,t){const n=Ni(e);n.asyncQueue.verifyOperationInProgress(),Ti("RemoteStore","RemoteStore received new credentials");const i=Gc(n);n.Gr.add(3),await Uc(n),i&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await Fc(n)}(t.remoteStore,e))),e.onlineComponents=t}async function bh(e){return e.offlineComponents||(Ti("FirestoreClient","Using default OfflineComponentProvider"),await vh(e,new ah)),e.offlineComponents}async function wh(e){return e.onlineComponents||(Ti("FirestoreClient","Using default OnlineComponentProvider"),await yh(e,new lh)),e.onlineComponents}function Ih(e){return bh(e).then((e=>e.persistence))}function _h(e){return bh(e).then((e=>e.localStore))}function Eh(e){return wh(e).then((e=>e.remoteStore))}function Th(e){return wh(e).then((e=>e.syncEngine))}async function Sh(e){const t=await wh(e),n=t.eventManager;return n.onListen=Pl.bind(null,t.syncEngine),n.onUnlisten=Ll.bind(null,t.syncEngine),n}function kh(e,t,n={}){const i=new Pi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new dh({next:s=>{t.enqueueAndForget((()=>yl(e,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new Ri(Di.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new Ri(Di.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),o=new _l(ts(n.path),s,{includeMetadataChanges:!0,wo:!0});return vl(e,o)}(await Sh(e),e.asyncQueue,t,n,i))),i.promise}function Ch(e,t,n={}){const i=new Pi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new dh({next:n=>{t.enqueueAndForget((()=>yl(e,o))),n.fromCache&&"server"===i.source?r.reject(new Ri(Di.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),o=new _l(n,s,{includeMetadataChanges:!0,wo:!0});return vl(e,o)}(await Sh(e),e.asyncQueue,t,n,i))),i.promise}class Ah{constructor(e,t,n,i,r,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class xh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xh&&e.projectId===this.projectId&&e.database===this.database}}const Nh=new Map;function Dh(e,t,n){if(!n)throw new Ri(Di.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Rh(e,t,n,i){if(!0===t&&!0===i)throw new Ri(Di.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ph(e){if(!mr.isDocumentKey(e))throw new Ri(Di.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Oh(e){if(mr.isDocumentKey(e))throw new Ri(Di.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Lh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ai()}function Mh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ri(Di.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(e);throw new Ri(Di.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Fh(e,t){if(t<=0)throw new Ri(Di.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Uh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ri(Di.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ri(Di.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Rh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uh({}),this._settingsFrozen=!1,e instanceof xh?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ri(Di.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(e.options.projectId)}(e))}get app(){if(!this._app)throw new Ri(Di.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ri(Di.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uh(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Li;switch(e.type){case"gapi":const t=e.client;return xi(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ji(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ri(Di.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nh.get(e);t&&(Ti("ComponentProvider","Removing Datastore"),Nh.delete(e),t.terminate())}(this),Promise.resolve()}}class Vh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vh(this.firestore,e,this._key)}}class Bh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Bh(this.firestore,e,this._query)}}class qh extends Bh{constructor(e,t,n){super(e,t,ts(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vh(this.firestore,null,new mr(e))}withConverter(e){return new qh(this.firestore,e,this._path)}}function Hh(e,t,...n){if(e=(0,u.m9)(e),Dh("collection","path",t),e instanceof jh){const i=er.fromString(t,...n);return Oh(i),new qh(e,null,i)}{if(!(e instanceof Vh||e instanceof qh))throw new Ri(Di.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(er.fromString(t,...n));return Oh(i),new qh(e.firestore,null,i)}}function Kh(e,t,...n){if(e=(0,u.m9)(e),1===arguments.length&&(t=Ki.A()),Dh("doc","path",t),e instanceof jh){const i=er.fromString(t,...n);return Ph(i),new Vh(e,null,new mr(i))}{if(!(e instanceof Vh||e instanceof qh))throw new Ri(Di.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(er.fromString(t,...n));return Ph(i),new Vh(e.firestore,e instanceof qh?e.converter:null,new mr(i))}}function Gh(e,t){return e=(0,u.m9)(e),t=(0,u.m9)(t),(e instanceof Vh||e instanceof qh)&&(t instanceof Vh||t instanceof qh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Wh(e,t){return e=(0,u.m9)(e),t=(0,u.m9)(t),e instanceof Bh&&t instanceof Bh&&e.firestore===t.firestore&&ls(e._query,t._query)&&e.converter===t.converter}class zh{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Nc(this,"async_queue_retry"),this.Ra=()=>{const e=Ac();e&&Ti("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=Ac();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=Ac();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise((()=>{}));const t=new Pi;return this.ba((()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ga.push(e),this.va())))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(e){if(!Da(e))throw e;Ti("AsyncQueue","Operation failed with retryable error: "+e)}this.ga.length>0&&this.ur.Zi((()=>this.va()))}}ba(e){const t=this.ma.then((()=>(this.Ea=!0,e().catch((e=>{this.Ta=e,this.Ea=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Si("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ea=!1,e))))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const i=ll.createAndSchedule(this,e,t,n,(e=>this.Va(e)));return this.pa.push(i),i}Pa(){this.Ta&&Ai()}verifyOperationInProgress(){}async Sa(){let e;do{e=this.ma,await e}while(e!==this.ma)}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then((()=>{this.pa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()}))}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function $h(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Yh{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jh extends jh{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new zh,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Xh(this),this._firestoreClient.terminate()}}function Qh(e){return e._firestoreClient||Xh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Xh(e){var t;const n=e._freezeSettings(),i=function(e,t,n,i){return new Ah(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new gh(e._authCredentials,e._appCheckCredentials,e._queue,i)}function Zh(e,t,n){const i=new Pi;return e.asyncQueue.enqueue((async()=>{try{await vh(e,n),await yh(e,t),i.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Di.FAILED_PRECONDITION||e.code===Di.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),i.reject(e)}})).then((()=>i.promise))}function ed(e){if(e._initialized||e._terminated)throw new Ri(Di.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class td{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ri(Di.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nd(rr.fromBase64String(e))}catch(e){throw new Ri(Di.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new nd(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class id{constructor(e){this._methodName=e}}class rd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ri(Di.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ri(Di.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gi(this._lat,e._lat)||Gi(this._long,e._long)}}const sd=/^__.*__$/;class od{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bs(e,this.data,t,this.fieldTransforms)}}class ad{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ud(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ai()}}class cd{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=i,void 0===r&&this.ka(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new cd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:n,Oa:!1});return i.Ma(e),i}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.$a({path:n,Oa:!1});return i.ka(),i}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return xd(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(ud(this.xa)&&sd.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class ld{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||xc(e)}ja(e,t,n,i=!1){return new cd({xa:e,methodName:t,Ka:n,path:nr.emptyPath(),Oa:!1,qa:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function hd(e){const t=e._freezeSettings(),n=xc(e._databaseId);return new ld(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dd(e,t,n,i,r,s={}){const o=e.ja(s.merge||s.mergeFields?2:0,t,n,r);Sd("Data must be an object, but it was:",o,i);const a=Ed(i,o);let u,c;if(s.merge)u=new ir(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=kd(t,i,n);if(!o.contains(r))throw new Ri(Di.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Nd(e,r)||e.push(r)}u=new ir(e),c=o.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,c=o.fieldTransforms;return new od(new Nr(a),u,c)}class fd extends id{_toFieldTransform(e){if(2!==e.xa)throw 1===e.xa?e.Ua(`${this._methodName}() can only appear at the top level of your update data`):e.Ua(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}function pd(e,t,n){return new cd({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class md extends id{_toFieldTransform(e){return new Ds(e.path,new Es)}isEqual(e){return e instanceof md}}class gd extends id{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=pd(this,e,!0),n=this.Qa.map((e=>_d(e,t))),i=new Ts(n);return new Ds(e.path,i)}isEqual(e){return this===e}}class vd extends id{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=pd(this,e,!0),n=this.Qa.map((e=>_d(e,t))),i=new ks(n);return new Ds(e.path,i)}isEqual(e){return this===e}}class yd extends id{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new As(e.k,ys(e.k,this.Wa));return new Ds(e.path,t)}isEqual(e){return this===e}}function bd(e,t,n,i){const r=e.ja(1,t,n);Sd("Data must be an object, but it was:",r,i);const s=[],o=Nr.empty();Qi(i,((e,i)=>{const a=Ad(t,e,n);i=(0,u.m9)(i);const c=r.La(a);if(i instanceof fd)s.push(a);else{const e=_d(i,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new ir(s);return new ad(o,a,r.fieldTransforms)}function wd(e,t,n,i,r,s){const o=e.ja(1,t,n),a=[kd(t,i,n)],c=[r];if(s.length%2!=0)throw new Ri(Di.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(kd(t,s[e])),c.push(s[e+1]);const l=[],h=Nr.empty();for(let e=a.length-1;e>=0;--e)if(!Nd(l,a[e])){const t=a[e];let n=c[e];n=(0,u.m9)(n);const i=o.La(t);if(n instanceof fd)l.push(t);else{const e=_d(n,i);null!=e&&(l.push(t),h.set(t,e))}}const d=new ir(l);return new ad(h,d,o.fieldTransforms)}function Id(e,t,n,i=!1){return _d(n,e.ja(i?4:3,t))}function _d(e,t){if(Td(e=(0,u.m9)(e)))return Sd("Unsupported field value:",t,e),Ed(e,t);if(e instanceof id)return function(e,t){if(!ud(t.xa))throw t.Ua(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ua(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=_d(r,t.Ba(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,u.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ys(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=$i.fromDate(e);return{timestampValue:Co(t.k,n)}}if(e instanceof $i){const n=new $i(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Co(t.k,n)}}if(e instanceof rd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nd)return{bytesValue:Ao(t.k,e._byteString)};if(e instanceof Vh){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.Ua(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Do(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua(`Unsupported field value: ${Lh(e)}`)}(e,t)}function Ed(e,t){const n={};return Xi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qi(e,((e,i)=>{const r=_d(i,t.Fa(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function Td(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $i||e instanceof rd||e instanceof nd||e instanceof Vh||e instanceof id)}function Sd(e,t,n){if(!Td(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=Lh(n);throw"an object"===i?t.Ua(e+" a custom object"):t.Ua(e+" "+i)}}function kd(e,t,n){if((t=(0,u.m9)(t))instanceof td)return t._internalPath;if("string"==typeof t)return Ad(e,t);throw xd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Cd=new RegExp("[~\\*/\\[\\]]");function Ad(e,t,n){if(t.search(Cd)>=0)throw xd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new td(...t.split("."))._internalPath}catch(i){throw xd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xd(e,t,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new Ri(Di.INVALID_ARGUMENT,a+e+u)}function Nd(e,t){return e.some((e=>e.isEqual(t)))}class Dd{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Vh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Rd extends Dd{data(){return super.data()}}function Pd(e,t){return"string"==typeof t?Ad(e,t):t instanceof td?t._internalPath:t._delegate._internalPath}class Od{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ld extends Dd{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Pd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Md extends Ld{data(e={}){return super.data(e)}}class Fd{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Od(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Md(this._firestore,this._userDataWriter,n.key,n,new Od(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ri(Di.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Md(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Od(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new Md(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Od(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Ud(t.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ud(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ai()}}function jd(e,t){return e instanceof Ld&&t instanceof Ld?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Fd&&t instanceof Fd&&e._firestore===t._firestore&&Wh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Vd(e){if(is(e)&&0===e.explicitOrderBy.length)throw new Ri(Di.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bd{}function qd(e,...t){for(const n of t)e=n._apply(e);return e}class Hd extends Bd{constructor(e,t,n){super(),this.Ga=e,this.za=t,this.Ha=n,this.type="where"}_apply(e){const t=hd(e.firestore),n=function(e,t,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ri(Di.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){Jd(o,s);const t=[];for(const n of o)t.push(Yd(i,e,n));a={arrayValue:{values:t}}}else a=Yd(i,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Jd(o,s),a=Id(n,"where",o,"in"===s||"not-in"===s);const u=Ur.create(r,s,a);return function(e,t){if(t.V()){const n=ss(e);if(null!==n&&!n.isEqual(t.field))throw new Ri(Di.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const i=rs(e);null!==i&&Qd(0,t.field,i)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ri(Di.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ri(Di.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Bh(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Zr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Kd extends Bd{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ri(Di.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ri(Di.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Yr(t,n);return function(e,t){if(null===rs(e)){const n=ss(e);null!==n&&Qd(0,n,t.field)}}(e,i),i}(e._query,this.Ga,this.Ja);return new Bh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Zr(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Gd extends Bd{constructor(e,t,n){super(),this.type=e,this.Ya=t,this.Xa=n}_apply(e){return new Bh(e.firestore,e.converter,cs(e._query,this.Ya,this.Xa))}}class Wd extends Bd{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=$d(e,this.type,this.Za,this.tc);return new Bh(e.firestore,e.converter,function(e,t){return new Zr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class zd extends Bd{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=$d(e,this.type,this.Za,this.tc);return new Bh(e.firestore,e.converter,function(e,t){return new Zr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function $d(e,t,n,i){if(n[0]=(0,u.m9)(n[0]),n[0]instanceof Dd)return function(e,t,n,i,r){if(!i)throw new Ri(Di.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of as(e))if(n.field.isKeyField())s.push(Er(t,i.key));else{const e=i.data.field(n.field);if(cr(e))throw new Ri(Di.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new Ri(Di.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new zr(s,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=hd(e.firestore);return function(e,t,n,i,r,s){const o=e.explicitOrderBy;if(r.length>o.length)throw new Ri(Di.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<r.length;s++){const u=r[s];if(o[s].field.isKeyField()){if("string"!=typeof u)throw new Ri(Di.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof u}`);if(!os(e)&&-1!==u.indexOf("/"))throw new Ri(Di.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${i}() must be a plain document ID, but '${u}' contains a slash.`);const n=e.path.child(er.fromString(u));if(!mr.isDocumentKey(n))throw new Ri(Di.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const r=new mr(n);a.push(Er(t,r))}else{const e=Id(n,i,u);a.push(e)}}return new zr(a,s)}(e._query,e.firestore._databaseId,r,t,n,i)}}function Yd(e,t,n){if("string"==typeof(n=(0,u.m9)(n))){if(""===n)throw new Ri(Di.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!os(t)&&-1!==n.indexOf("/"))throw new Ri(Di.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(er.fromString(n));if(!mr.isDocumentKey(i))throw new Ri(Di.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Er(e,new mr(i))}if(n instanceof Vh)return Er(e,n._key);throw new Ri(Di.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function Jd(e,t){if(!Array.isArray(e)||0===e.length)throw new Ri(Di.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Ri(Di.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Qd(e,t,n){if(!n.isEqual(t))throw new Ri(Di.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Xd{convertValue(e,t="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ai()}}convertObject(e,t){const n={};return Qi(e.fields,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertGeoPoint(e){return new rd(ar(e.latitude),ar(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=lr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(hr(e));default:return null}}convertTimestamp(e){const t=or(e);return new $i(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=er.fromString(e);xi(na(n));const i=new xh(n.get(1),n.get(3)),r=new mr(n.popFirst(5));return i.isEqual(t)||Si(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}function Zd(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class ef extends Xd{constructor(e){super(),this.firestore=e}convertBytes(e){return new nd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vh(this.firestore,null,t)}}class tf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hd(e)}set(e,t,n){this._verifyNotCommitted();const i=nf(e,this._firestore),r=Zd(i.converter,t,n),s=dd(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,Ps.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const r=nf(e,this._firestore);let s;return s="string"==typeof(t=(0,u.m9)(t))||t instanceof td?wd(this._dataReader,"WriteBatch.update",r._key,t,n,i):bd(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(s.toMutation(r._key,Ps.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nf(e,this._firestore);return this._mutations=this._mutations.concat(new Ws(t._key,Ps.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ri(Di.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nf(e,t){if((e=(0,u.m9)(e)).firestore!==t)throw new Ri(Di.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class rf extends Xd{constructor(e){super(),this.firestore=e}convertBytes(e){return new nd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vh(this.firestore,null,t)}}function sf(e,t,n){e=Mh(e,Vh);const i=Mh(e.firestore,Jh),r=Zd(e.converter,t,n);return uf(i,[dd(hd(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Ps.none())])}function of(e,t,n,...i){e=Mh(e,Vh);const r=Mh(e.firestore,Jh),s=hd(r);let o;return o="string"==typeof(t=(0,u.m9)(t))||t instanceof td?wd(s,"updateDoc",e._key,t,n,i):bd(s,"updateDoc",e._key,t),uf(r,[o.toMutation(e._key,Ps.exists(!0))])}function af(e,...t){var n,i,r;e=(0,u.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||$h(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if($h(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),t[o+2]=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}let c,l,h;if(e instanceof Vh)l=Mh(e.firestore,Jh),h=ts(e._key.path),c={next:n=>{t[o]&&t[o](cf(l,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Mh(e,Bh);l=Mh(n.firestore,Jh),h=n._query;const i=new rf(l);c={next:e=>{t[o]&&t[o](new Fd(l,i,n,e))},error:t[o+1],complete:t[o+2]},Vd(e._query)}return function(e,t,n,i){const r=new dh(i),s=new _l(t,r,n);return e.asyncQueue.enqueueAndForget((async()=>vl(await Sh(e),s))),()=>{r.na(),e.asyncQueue.enqueueAndForget((async()=>yl(await Sh(e),s)))}}(Qh(l),h,a,c)}function uf(e,t){return function(e,t){const n=new Pi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=oh(e);try{const e=await function(e,t){const n=Ni(e),i=$i.now(),r=t.reduce(((e,t)=>e.add(t.key)),ho());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Wn.vn(e,r).next((r=>{s=r;const o=[];for(const e of t){const t=Us(e,s.get(e.key));null!=t&&o.push(new qs(e.key,t,Dr(t.value.mapValue),Ps.exists(!0)))}return n.An.addMutationBatch(e,i,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Ko[e.currentUser.toKey()];i||(i=new Zs(Gi)),i=i.insert(t,n),e.Ko[e.currentUser.toKey()]=i}(i,e.batchId,n),await $l(i,e.changes),await Xc(i.remoteStore)}catch(e){const t=hl(e,"Failed to persist write");n.reject(t)}}(await Th(e),t,n))),n.promise}(Qh(e),t)}function cf(e,t,n){const i=n.docs.get(t._key),r=new rf(e);return new Ld(e,r,t._key,i,new Od(n.hasPendingWrites,n.fromCache),t.converter)}class lf extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hd(e)}get(e){const t=nf(e,this._firestore),n=new ef(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Ai();const i=e[0];if(i.isFoundDocument())return new Dd(this._firestore,n,i.key,i,t.converter);if(i.isNoDocument())return new Dd(this._firestore,n,t._key,null,t.converter);throw Ai()}))}set(e,t,n){const i=nf(e,this._firestore),r=Zd(i.converter,t,n),s=dd(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this}update(e,t,n,...i){const r=nf(e,this._firestore);let s;return s="string"==typeof(t=(0,u.m9)(t))||t instanceof td?wd(this._dataReader,"Transaction.update",r._key,t,n,i):bd(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,s),this}delete(e){const t=nf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nf(e,this._firestore),n=new rf(this._firestore);return super.get(e).then((e=>new Ld(this._firestore,n,t._key,e._document,new Od(!1,!1),t.converter)))}}function hf(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ri("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function df(){if("undefined"==typeof Uint8Array)throw new Ri("unimplemented","Uint8Arrays are not available in this environment.")}function ff(){if("undefined"==typeof atob)throw new Ri("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Ii=e}(s.SDK_VERSION),(0,s._registerComponent)(new o.wA("firestore",((e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=new Jh(i,new Fi(e.getProvider("auth-internal")),new Bi(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),r._setSettings(n),r}),"PUBLIC")),(0,s.registerVersion)(bi,"3.4.1",e),(0,s.registerVersion)(bi,"3.4.1","esm2017")}();class pf{constructor(e){this._delegate=e}static fromBase64String(e){return ff(),new pf(nd.fromBase64String(e))}static fromUint8Array(e){return df(),new pf(nd.fromUint8Array(e))}toBase64(){return ff(),this._delegate.toBase64()}toUint8Array(){return df(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class gf{enableIndexedDbPersistence(e,t){return function(e,t){ed(e=Mh(e,Jh));const n=Qh(e),i=e._freezeSettings(),r=new lh;return Zh(n,r,new uh(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){ed(e=Mh(e,Jh));const t=Qh(e),n=e._freezeSettings(),i=new lh;return Zh(t,i,new ch(i,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Ri(Di.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Pi;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Aa.bt())return Promise.resolve();const t=e+"main";await Aa.delete(t)}(ju(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class vf{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof xh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ki("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,i={}){var r;const s=(e=Mh(e,jh))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&ki("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=wi.MOCK_USER;else{t=(0,u.Sg)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Ri(Di.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new wi(s)}e._authCredentials=new Mi(new Oi(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Ih(e),n=await Eh(e);return t.setNetworkEnabled(!0),function(e){const t=Ni(e);return t.Gr.delete(0),Fc(t)}(n)}))}(Qh(e=Mh(e,Jh)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Ih(e),n=await Eh(e);return t.setNetworkEnabled(!1),async function(e){const t=Ni(e);t.Gr.add(0),await Uc(t),t.Jr.set("Offline")}(n)}))}(Qh(e=Mh(e,Jh)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Rh("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Pi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ni(e);Gc(n.remoteStore)||Ti("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ni(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.An.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const i=n.jo.get(e)||[];i.push(t),n.jo.set(e,i)}catch(e){const n=hl(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Th(e),t))),t.promise}(Qh(e=Mh(e,Jh)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new dh(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ni(e).io.add(t),t.next()}(await Sh(e),n))),()=>{n.na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ni(e).io.delete(t)}(await Sh(e),n)))}}(Qh(e=Mh(e,Jh)),$h(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ri("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Df(this,Hh(this._delegate,e))}catch(e){throw Ef(e,"collection()","Firestore.collection()")}}doc(e){try{return new _f(this,Kh(this._delegate,e))}catch(e){throw Ef(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Af(this,function(e,t){if(e=Mh(e,jh),Dh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ri(Di.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bh(e,null,function(e){return new Zr(er.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Ef(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new Pi;return e.asyncQueue.enqueueAndForget((async()=>{const i=await function(e){return wh(e).then((e=>e.datastore))}(e);new mh(e.asyncQueue,i,t,n).run()})),n.promise}(Qh(e=Mh(e,Jh)),(n=>t(new lf(e,n))))}(this._delegate,(t=>e(new bf(this,t))))}batch(){return Qh(this._delegate),new wf(new tf(this._delegate,(e=>uf(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Qh(e=Mh(e,Jh)),i=new Yh;return function(e,t,n,i){const r=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new fh(e,t)}(function(e,t){if(e instanceof Uint8Array)return hh(e,t);if(e instanceof ArrayBuffer)return hh(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,xc(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const i=Ni(e);(async function(e,t,n){try{const i=await t.getMetadata();if(await function(e,t){const n=Ni(e),i=No(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ye.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(i)>=0))}(e.localStore,i))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i));n._updateProgress(kl(i));const r=new Sl(i,e.localStore,t.k);let s=await t.Ho();for(;s;){const e=await r.yo(s);e&&n._updateProgress(e),s=await t.Ho()}const o=await r.complete();await $l(e,o.In,void 0),await function(e,t){const n=Ni(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ye.saveBundleMetadata(e,t)))}(e.localStore,i),n._completeWith(o.progress)}catch(e){ki("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(i,t,n).then((()=>{i.sharedClientState.notifyBundleLoaded()}))}(await Th(e),r,i)}))}(n,e._databaseId,t,i),i}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ni(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ye.getNamedQuery(e,t)))}(await _h(e),t)))}(Qh(e=Mh(e,Jh)),t).then((t=>t?new Bh(e,null,t.query):null))}(this._delegate,e).then((e=>e?new Af(this,e):null))}}class yf extends Xd{constructor(e){super(),this.firestore=e}convertBytes(e){return new pf(new nd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _f.forKey(t,this.firestore,null)}}class bf{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yf(e)}get(e){const t=Rf(e);return this._delegate.get(t).then((e=>new kf(this._firestore,new Ld(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const i=Rf(e);return n?(hf("Transaction.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n,...i){const r=Rf(e);return 2===arguments.length?this._delegate.update(r,t):this._delegate.update(r,t,n,...i),this}delete(e){const t=Rf(e);return this._delegate.delete(t),this}}class wf{constructor(e){this._delegate=e}set(e,t,n){const i=Rf(e);return n?(hf("WriteBatch.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n,...i){const r=Rf(e);return 2===arguments.length?this._delegate.update(r,t):this._delegate.update(r,t,n,...i),this}delete(e){const t=Rf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class If{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Md(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Cf(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=If.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let r=i.get(t);return r||(r=new If(e,new yf(e),t),i.set(t,r)),r}}If.INSTANCES=new WeakMap;class _f{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yf(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Ri("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _f(t,new Vh(t._delegate,n,new mr(e)))}static forKey(e,t,n){return new _f(t,new Vh(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Df(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Df(this.firestore,Hh(this._delegate,e))}catch(e){throw Ef(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,u.m9)(e))instanceof Vh&&Gh(this._delegate,e)}set(e,t){t=hf("DocumentReference.set",t);try{return t?sf(this._delegate,e,t):sf(this._delegate,e)}catch(e){throw Ef(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?of(this._delegate,e):of(this._delegate,e,t,...n)}catch(e){throw Ef(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return uf(Mh(e.firestore,Jh),[new Ws(e._key,Ps.none())])}(this._delegate)}onSnapshot(...e){const t=Tf(e),n=Sf(e,(e=>new kf(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return af(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Mh(e,Vh);const t=Mh(e.firestore,Jh),n=Qh(t),i=new rf(t);return function(e,t){const n=new Pi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await function(e,t){const n=Ni(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Wn.Rn(e,t)))}(e,t);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ri(Di.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const i=hl(e,`Failed to get document '${t} from cache`);n.reject(i)}}(await _h(e),t,n))),n.promise}(n,e._key).then((n=>new Ld(t,i,e._key,n,new Od(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Mh(e,Vh);const t=Mh(e.firestore,Jh);return kh(Qh(t),e._key,{source:"server"}).then((n=>cf(t,e,n)))}(this._delegate):function(e){e=Mh(e,Vh);const t=Mh(e.firestore,Jh);return kh(Qh(t),e._key).then((n=>cf(t,e,n)))}(this._delegate),t.then((e=>new kf(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new _f(this.firestore,e?this._delegate.withConverter(If.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ef(e,t,n){return e.message=e.message.replace(t,n),e}function Tf(e){for(const t of e)if("object"==typeof t&&!mf(t))return t;return{}}function Sf(e,t){var n,i;let r;return r=mf(e[0])?e[0]:mf(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{r.next&&r.next(t(e))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class kf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _f(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return jd(this._delegate,e._delegate)}}class Cf extends kf{data(e){const t=this._delegate.data(e);return function(e,t){e||Ai()}(void 0!==t),t}}class Af{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yf(e)}where(e,t,n){try{return new Af(this.firestore,qd(this._delegate,function(e,t,n){const i=t,r=Pd("where",e);return new Hd(r,i,n)}(e,t,n)))}catch(e){throw Ef(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Af(this.firestore,qd(this._delegate,function(e,t="asc"){const n=t,i=Pd("orderBy",e);return new Kd(i,n)}(e,t)))}catch(e){throw Ef(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Af(this.firestore,qd(this._delegate,function(e){return Fh("limit",e),new Gd("limit",e,"F")}(e)))}catch(e){throw Ef(e,"limit()","Query.limit()")}}limitToLast(e){try{return new Af(this.firestore,qd(this._delegate,function(e){return Fh("limitToLast",e),new Gd("limitToLast",e,"L")}(e)))}catch(e){throw Ef(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Af(this.firestore,qd(this._delegate,function(...e){return new Wd("startAt",e,!0)}(...e)))}catch(e){throw Ef(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Af(this.firestore,qd(this._delegate,function(...e){return new Wd("startAfter",e,!1)}(...e)))}catch(e){throw Ef(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Af(this.firestore,qd(this._delegate,function(...e){return new zd("endBefore",e,!0)}(...e)))}catch(e){throw Ef(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Af(this.firestore,qd(this._delegate,function(...e){return new zd("endAt",e,!1)}(...e)))}catch(e){throw Ef(e,"endAt()","Query.endAt()")}}isEqual(e){return Wh(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Mh(e,Bh);const t=Mh(e.firestore,Jh),n=Qh(t),i=new rf(t);return function(e,t){const n=new Pi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await Xu(e,t,!0),r=new xl(t,i.zn),s=r.bo(i.documents),o=r.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const i=hl(e,`Failed to execute query '${t} against cache`);n.reject(i)}}(await _h(e),t,n))),n.promise}(n,e._query).then((n=>new Fd(t,i,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Mh(e,Bh);const t=Mh(e.firestore,Jh),n=Qh(t),i=new rf(t);return Ch(n,e._query,{source:"server"}).then((n=>new Fd(t,i,e,n)))}(this._delegate):function(e){e=Mh(e,Bh);const t=Mh(e.firestore,Jh),n=Qh(t),i=new rf(t);return Vd(e._query),Ch(n,e._query).then((n=>new Fd(t,i,e,n)))}(this._delegate),t.then((e=>new Nf(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=Tf(e),n=Sf(e,(e=>new Nf(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return af(this._delegate,t,n)}withConverter(e){return new Af(this.firestore,e?this._delegate.withConverter(If.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class xf{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Cf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Nf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Af(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Cf(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new xf(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Cf(this._firestore,n))}))}isEqual(e){return jd(this._delegate,e._delegate)}}class Df extends Af{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _f(this.firestore,e):null}doc(e){try{return new _f(this.firestore,void 0===e?Kh(this._delegate):Kh(this._delegate,e))}catch(e){throw Ef(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Mh(e.firestore,Jh),i=Kh(e),r=Zd(e.converter,t);return uf(n,[dd(hd(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,Ps.exists(!1))]).then((()=>i))}(this._delegate,e).then((e=>new _f(this.firestore,e)))}isEqual(e){return Gh(this._delegate,e._delegate)}withConverter(e){return new Df(this.firestore,e?this._delegate.withConverter(If.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Rf(e){return Mh(e,Vh)}class Pf{constructor(...e){this._delegate=new td(...e)}static documentId(){return new Pf(nr.keyField().canonicalString())}isEqual(e){return(e=(0,u.m9)(e))instanceof td&&this._delegate._internalPath.isEqual(e._internalPath)}}class Of{constructor(e){this._delegate=e}static serverTimestamp(){const e=new md("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Of(e)}static delete(){const e=new fd("deleteField");return e._methodName="FieldValue.delete",new Of(e)}static arrayUnion(...e){const t=function(...e){return new gd("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Of(t)}static arrayRemove(...e){const t=function(...e){return new vd("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Of(t)}static increment(e){const t=function(e){return new yd("increment",e)}(e);return t._methodName="FieldValue.increment",new Of(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Lf={Firestore:vf,GeoPoint:rd,Timestamp:$i,Blob:pf,Transaction:bf,WriteBatch:wf,DocumentReference:_f,DocumentSnapshot:kf,Query:Af,QueryDocumentSnapshot:Cf,QuerySnapshot:Nf,CollectionReference:Df,FieldPath:Pf,FieldValue:Of,setLogLevel:function(e){!function(e){_i.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var Mf,Ff;Mf=r.Z,Ff=(e,t)=>new vf(e,t,new gf),Mf.INTERNAL.registerComponent(new o.wA("firestore-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return Ff(t,n)}),"PUBLIC").setServiceProps(Object.assign({},Lf))),Mf.registerVersion("@firebase/firestore-compat","0.1.10")},811:(e,t,n)=>{"use strict";n.r(t),n.d(t,{auth:()=>o});var i=n(902),r=(n(423),n(211)),s=n.n(r);n(544),n(997),n(210),n(634),n(573),function(){(function(){var e,t,r="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var s;e:{var o={};try{o.__proto__={xb:!0},s=o.xb;break e}catch(Je){}s=!1}t=s?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var a=t;function u(e,t){if(e.prototype=r(t.prototype),e.prototype.constructor=e,a)a(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.K=t.prototype}var c="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},l="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this;function h(e,t){if(t){var n=l;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];r in n||(n[r]={}),n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&c(n,e,{configurable:!0,writable:!0,value:t})}}h("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),h("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}}));var d=this;function f(e){return void 0!==e}function p(e){return"string"==typeof e}var m=/^[\w+/_-]+[=]{0,2}$/,g=null;function v(){}function y(e){e.W=void 0,e.Xa=function(){return e.W?e.W:e.W=new e}}function b(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function w(e){return"array"==b(e)}function I(e){var t=b(e);return"array"==t||"object"==t&&"number"==typeof e.length}function _(e){return"function"==b(e)}function E(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var T="closure_uid_"+(1e9*Math.random()>>>0),S=0;function k(e,t,n){return e.call.apply(e.bind,arguments)}function C(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function A(e,t,n){return(A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:C).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function N(e,t){for(var n in t)e[n]=t[n]}var D,R=Date.now||function(){return+new Date};function P(e,t){e=e.split(".");var n,i=d;e[0]in i||void 0===i.execScript||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&f(t)?i[n]=t:i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}}function O(e,t){function n(){}n.prototype=t.prototype,e.K=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.vc=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function M(e,t){for(var n="",i=(e=e.split("%s")).length-1,r=0;r<i;r++)n+=e[r]+(r<t.length?t[r]:"%s");L.call(this,n+e[i])}function F(e,t){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}O(L,Error),L.prototype.name="CustomError",O(M,L),M.prototype.name="AssertionError";var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(p(e))return p(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},j=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=p(e)?e.split(""):e,s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)},V=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=[],r=0,s=p(e)?e.split(""):e,o=0;o<n;o++)if(o in s){var a=s[o];t.call(void 0,a,o,e)&&(i[r++]=a)}return i},B=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),r=p(e)?e.split(""):e,s=0;s<n;s++)s in r&&(i[s]=t.call(void 0,r[s],s,e));return i},q=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=p(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e))return!0;return!1};function H(e,t){return 0<=U(e,t)}function K(e,t){var n;return(n=0<=(t=U(e,t)))&&G(e,t),n}function G(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function W(e){return Array.prototype.concat.apply([],arguments)}function z(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function $(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}var Y=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},J=/&/g,Q=/</g,X=/>/g,Z=/"/g,ee=/'/g,te=/\x00/g,ne=/[\x00&<>"']/;function ie(e,t){return e<t?-1:e>t?1:0}function re(e){return ne.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(J,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Q,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(X,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Z,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ee,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(te,"&#0;"))),e}function se(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function oe(e){var t,n={};for(t in e)n[t]=e[t];return n}var ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var s=0;s<ae.length;s++)n=ae[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}var ce="StopIteration"in d?d.StopIteration:{message:"StopIteration",stack:""};function le(){}function he(e){if(e instanceof le)return e;if("function"==typeof e.ha)return e.ha(!1);if(I(e)){var t=0,n=new le;return n.next=function(){for(;;){if(t>=e.length)throw ce;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function de(e,t){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof de)for(n=e.ja(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function fe(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];pe(e.g,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.h!=e.a.length){var r={};for(n=t=0;t<e.a.length;)pe(r,i=e.a[t])||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function pe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}le.prototype.next=function(){throw ce},le.prototype.ha=function(){return this},(e=de.prototype).la=function(){fe(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ja=function(){return fe(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return pe(this.g,e)?this.g[e]:t},e.set=function(e,t){pe(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var n=this.ja(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}},e.ha=function(e){fe(this);var t=0,n=this.j,i=this,r=new le;return r.next=function(){if(n!=i.j)throw Error("The map has changed since the iterator was created");if(t>=i.a.length)throw ce;var r=i.a[t++];return e?r:i.g[r]},r};var me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ge(e,t,n,i){for(var r=n.length;0<=(t=e.indexOf(n,t))&&t<i;){var s=e.charCodeAt(t-1);if(!(38!=s&&63!=s||(s=e.charCodeAt(t+r))&&61!=s&&38!=s&&35!=s))return t;t+=r+1}return-1}var ve=/#|$/;function ye(e,t){var n=e.search(ve),i=ge(e,0,t,n);if(0>i)return null;var r=e.indexOf("&",i);return(0>r||r>n)&&(r=n),i+=t.length+1,decodeURIComponent(e.substr(i,r-i).replace(/\+/g," "))}var be=/[?&]($|#)/;function we(e,t){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,e instanceof we?(this.i=f(t)?t:e.i,Ie(this,e.j),this.A=e.A,this.h=e.h,_e(this,e.C),this.g=e.g,Ee(this,Fe(e.a)),this.s=e.s):e&&(n=String(e).match(me))?(this.i=!!t,Ie(this,n[1]||"",!0),this.A=Se(n[2]||""),this.h=Se(n[3]||"",!0),_e(this,n[4]),this.g=Se(n[5]||"",!0),Ee(this,n[6]||"",!0),this.s=Se(n[7]||"")):(this.i=!!t,this.a=new Pe(null,this.i))}function Ie(e,t,n){e.j=n?Se(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _e(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function Ee(e,t,n){t instanceof Pe?(e.a=t,function(e,t){t&&!e.j&&(Oe(e),e.h=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Le(this,t),Le(this,n),0<e.length&&(this.h=null,this.a.set(Ue(this,n),z(e)),this.g+=e.length))}),e)),e.j=t}(e.a,e.i)):(n||(t=ke(t,De)),e.a=new Pe(t,e.i))}function Te(e){return e instanceof we?new we(e):new we(e,void 0)}function Se(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ke(e,t,n){return p(e)?(e=encodeURI(e).replace(t,Ce),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ce(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}we.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ke(t,Ae,!0),":");var n=this.h;return(n||"file"==t)&&(e.push("//"),(t=this.A)&&e.push(ke(t,Ae,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&e.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&e.push("/"),e.push(ke(n,"/"==n.charAt(0)?Ne:xe,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.s)&&e.push("#",ke(n,Re)),e.join("")};var Ae=/[#\/\?@]/g,xe=/[#\?:]/g,Ne=/[#\?]/g,De=/[#\?@]/g,Re=/#/g;function Pe(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function Oe(e){e.a||(e.a=new de,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.h,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Le(e,t){Oe(e),t=Ue(e,t),pe(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,pe((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&fe(e)))}function Me(e,t){return Oe(e),t=Ue(e,t),pe(e.a.g,t)}function Fe(e){var t=new Pe;return t.h=e.h,e.a&&(t.a=new de(e.a),t.g=e.g),t}function Ue(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function je(e){this.a=Te(e)}function Ve(e){return e.a.a.get(He.Pa)||null}function Be(e,t){t?e.a.a.set(He.PROVIDER_ID,t):Le(e.a.a,He.PROVIDER_ID)}(e=Pe.prototype).add=function(e,t){Oe(this),this.h=null,e=Ue(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){Oe(this),this.a.forEach((function(n,i){j(n,(function(n){e.call(t,n,i,this)}),this)}),this)},e.ja=function(){Oe(this);for(var e=this.a.la(),t=this.a.ja(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n},e.la=function(e){Oe(this);var t=[];if(p(e))Me(this,e)&&(t=W(t,this.a.get(Ue(this,e))));else{e=this.a.la();for(var n=0;n<e.length;n++)t=W(t,e[n])}return t},e.set=function(e,t){return Oe(this),this.h=null,Me(this,e=Ue(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.la(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ja(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.la(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),e.push(o)}}return this.h=e.join("&")},je.prototype.toString=function(){return this.a.toString()};var qe,He={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var Ke=d.navigator;if(Ke){var Ge=Ke.userAgent;if(Ge){qe=Ge;break e}}qe=""}function We(e){return-1!=qe.indexOf(e)}function ze(){return(We("Chrome")||We("CriOS"))&&!We("Edge")}function $e(e){return $e[" "](e),e}$e[" "]=v;var Ye,Je,Qe=We("Opera"),Xe=We("Trident")||We("MSIE"),Ze=We("Edge"),et=Ze||Xe,tt=We("Gecko")&&!(-1!=qe.toLowerCase().indexOf("webkit")&&!We("Edge"))&&!(We("Trident")||We("MSIE"))&&!We("Edge"),nt=-1!=qe.toLowerCase().indexOf("webkit")&&!We("Edge"),it=nt&&We("Mobile"),rt=We("Macintosh");function st(){var e=d.document;return e?e.documentMode:void 0}e:{var ot="",at=(Je=qe,tt?/rv:([^\);]+)(\)|;)/.exec(Je):Ze?/Edge\/([\d\.]+)/.exec(Je):Xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Je):nt?/WebKit\/(\S+)/.exec(Je):Qe?/(?:Version)[ \/]?(\S+)/.exec(Je):void 0);if(at&&(ot=at?at[1]:""),Xe){var ut=st();if(null!=ut&&ut>parseFloat(ot)){Ye=String(ut);break e}}Ye=ot}var ct,lt={};function ht(e){return function(e,t){var n=lt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=Y(String(Ye)).split("."),i=Y(String(e)).split("."),r=Math.max(n.length,i.length),s=0;0==t&&s<r;s++){var o=n[s]||"",a=i[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=ie(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ie(0==o[2].length,0==a[2].length)||ie(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}var dt=d.document;function ft(e,t){this.a=e===mt&&t||"",this.g=pt}ct=dt&&Xe?st()||("CSS1Compat"==dt.compatMode?parseInt(Ye,10):5):void 0,ft.prototype.ma=!0,ft.prototype.ka=function(){return this.a},ft.prototype.toString=function(){return"Const{"+this.a+"}"};var pt={},mt={};function gt(){this.a="",this.h=yt}function vt(e){return e instanceof gt&&e.constructor===gt&&e.h===yt?e.a:(F("expected object of type TrustedResourceUrl, got '"+e+"' of type "+b(e)),"type_error:TrustedResourceUrl")}gt.prototype.ma=!0,gt.prototype.ka=function(){return this.a.toString()},gt.prototype.g=function(){return 1},gt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var yt={};function bt(){this.a="",this.h=Tt}function wt(e){return e instanceof bt&&e.constructor===bt&&e.h===Tt?e.a:(F("expected object of type SafeUrl, got '"+e+"' of type "+b(e)),"type_error:SafeUrl")}bt.prototype.ma=!0,bt.prototype.ka=function(){return this.a.toString()},bt.prototype.g=function(){return 1},bt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var It=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function _t(e){return e instanceof bt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),It.test(e)||(e="about:invalid#zClosurez"),St(e))}function Et(e){return e instanceof bt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),It.test(e)||(e="about:invalid#zClosurez"),St(e))}var Tt={};function St(e){var t=new bt;return t.a=e,t}function kt(){this.a="",this.g=Ct}St("about:blank"),kt.prototype.ma=!0;var Ct={};function At(){this.a="",this.j=Nt,this.h=null}function xt(e){return e instanceof At&&e.constructor===At&&e.j===Nt?e.a:(F("expected object of type SafeHtml, got '"+e+"' of type "+b(e)),"type_error:SafeHtml")}kt.prototype.ka=function(){return this.a},kt.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},At.prototype.g=function(){return this.h},At.prototype.ma=!0,At.prototype.ka=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Nt={};function Dt(e,t){var n=new At;return n.a=e,n.h=t,n}Dt("<!DOCTYPE html>",0);var Rt=Dt("",0);Dt("<br>",0);var Pt,Ot,Lt=(Ot=!1,function(){return Ot||(Pt=function(){if("undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=xt(Rt),!t.parentElement)}(),Ot=!0),Pt});function Mt(e,t){t=t instanceof bt?t:Et(t),e.assign(wt(t))}function Ft(e,t){this.a=f(e)?e:0,this.g=f(t)?t:0}function Ut(e,t){this.width=e,this.height=t}function jt(e){return e?new Yt(Wt(e)):D||(D=new Yt)}function Vt(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):qt(document,e,t)}function Bt(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var i=t||n;e=i.querySelectorAll&&i.querySelector&&e?i.querySelector(e?"."+e:""):qt(n,e,t)[0]||null}return e||null}function qt(e,t,n){var i;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var r=e.getElementsByClassName(t);return r}if(r=e.getElementsByTagName("*"),t){var s={};for(n=i=0;e=r[n];n++){var o=e.className;"function"==typeof o.split&&H(o.split(/\s+/),t)&&(s[i++]=e)}return s.length=i,s}return r}Ft.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Ft.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Ft.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Ft.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=Ut.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Ht={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Kt(e){return e.scrollingElement?e.scrollingElement:(nt||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function Gt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Wt(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function zt(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(Wt(e).createTextNode(String(t)))}}function $t(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,(function(e){return!t||p(e.className)&&H(e.className.split(/\s+/),t)})):null}function Yt(e){this.a=e||d.document||document}Yt.prototype.N=function(){return p(void 0)?this.a.getElementById(void 0):void 0};var Jt={Fc:!0},Qt={Hc:!0},Xt={Ec:!0},Zt={Gc:!0};function en(){throw Error("Do not instantiate directly")}function tn(e,t,n,i){if(e=e(t||rn,void 0,n),i=(i||jt()).a.createElement("DIV"),(e=function(e){if(!E(e))return re(String(e));if(e instanceof en){if(e.fa===Jt)return e.content;if(e.fa===Zt)return re(e.content)}return F("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(nn),e=Dt(e,null),Lt())for(;i.lastChild;)i.removeChild(i.lastChild);return i.innerHTML=xt(e),1==i.childNodes.length&&1==(e=i.firstChild).nodeType&&(i=e),i}en.prototype.va=null,en.prototype.toString=function(){return this.content};var nn=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,rn={};function sn(){en.call(this)}function on(e){return null!=e&&e.fa===Jt?e:e instanceof At?ln(xt(e).toString(),e.g()):ln(re(String(String(e))),function(e){if(null!=e)switch(e.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function an(){en.call(this)}function un(e,t){this.content=String(e),this.va=null!=t?t:null}function cn(e){return new un(e,void 0)}O(sn,en),sn.prototype.fa=Jt,O(an,en),an.prototype.fa=Qt,an.prototype.va=1,O(un,en),un.prototype.fa=Zt;var ln=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.va=n),e}}(sn),hn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(an);function dn(e){return(e=String(e))?new un(e,void 0):""}var fn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.va=n),e):""}}(sn);function pn(e){return null!=e&&e.fa===Jt?String(String(e.content).replace(Sn,"").replace(kn,"&lt;")).replace(In,yn):re(String(e))}function mn(e){return null!=e&&e.fa===Qt?e=String(e).replace(_n,wn):e instanceof bt?e=String(wt(e).toString()).replace(_n,wn):(e=String(e),Tn.test(e)?e=e.replace(_n,wn):(F("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz")),e}function gn(e){return null!=e&&e.fa===Xt?e=e.content:null==e?e="":e instanceof kt?e instanceof kt&&e.constructor===kt&&e.g===Ct?e=e.a:(F("expected object of type SafeStyle, got '"+e+"' of type "+b(e)),e="type_error:SafeStyle"):(e=String(e),En.test(e)||(F("Bad value `%s` for |filterCssValue",[e]),e="zSoyz")),e}var vn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function yn(e){return vn[e]}var bn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function wn(e){return bn[e]}var In=/[\x00\x22\x27\x3c\x3e]/g,_n=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,En=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Tn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Sn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,kn=/</g;function Cn(){return cn("Enter a valid phone number")}function An(){return cn("Unable to send password reset code to specified email")}function xn(){return cn("Something went wrong. Please try again.")}function Nn(){return cn("This email already exists without any means of sign-in. Please reset the password to recover.")}function Dn(e){var t="";switch((e=e||{}).code){case"invalid-argument":t+="Client specified an invalid argument.";break;case"invalid-configuration":t+="Client specified an invalid project configuration.";break;case"failed-precondition":t+="Request can not be executed in the current system state.";break;case"out-of-range":t+="Client specified an invalid range.";break;case"unauthenticated":t+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":t+="Client does not have sufficient permission.";break;case"not-found":t+="Specified resource is not found.";break;case"aborted":t+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":t+="The resource that a client tried to create already exists.";break;case"resource-exhausted":t+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":t+="Request cancelled by the client.";break;case"data-loss":t+="Unrecoverable data loss or data corruption.";break;case"unknown":t+="Unknown server error.";break;case"internal":t+="Internal server error.";break;case"not-implemented":t+="API method not implemented by the server.";break;case"unavailable":t+="Service unavailable.";break;case"deadline-exceeded":t+="Request deadline exceeded.";break;case"auth/user-disabled":t+="The user account has been disabled by an administrator.";break;case"auth/timeout":t+="The operation has timed out.";break;case"auth/too-many-requests":t+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":t+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":t+="A network error has occurred. Try again later.";break;case"restart-process":t+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":t+="No sign-in provider is available for the given email, please try with a different email."}return cn(t)}function Rn(e,t,n){var i=Error.call(this);this.message=i.message,"stack"in i&&(this.stack=i.stack),this.code=Pn+e,(e=t)||(e="","firebaseui/merge-conflict"===this.code?e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.":e+=xn(),e=cn(e).toString()),this.message=e||"",this.credential=n||null}u(Rn,Error),Rn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Pn="firebaseui/";function On(){0!=Ln&&(Mn[this[T]||(this[T]=++S)]=this),this.T=this.T,this.C=this.C}var Ln=0,Mn={};function Fn(e,t){e.T?f(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(f(void 0)?A(t,void 0):t))}function Un(e){e&&"function"==typeof e.m&&e.m()}On.prototype.T=!1,On.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=Ln)){var e=this[T]||(this[T]=++S);if(0!=Ln&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Mn[e]}},On.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var jn=Object.freeze||function(e){return e},Vn=!Xe||9<=Number(ct),Bn=Xe&&!ht("9"),qn=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",v,t),d.removeEventListener("test",v,t)}catch(e){}return e}();function Hn(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.qb=!0}function Kn(e,t){if(Hn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tt){e:{try{$e(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=p(e.pointerType)?e.pointerType:Gn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Hn.prototype.stopPropagation=function(){this.h=!0},Hn.prototype.preventDefault=function(){this.qb=!1},O(Kn,Hn);var Gn=jn({2:"touch",3:"pen",4:"mouse"});Kn.prototype.stopPropagation=function(){Kn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Kn.prototype.preventDefault=function(){Kn.K.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Bn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var Wn="closure_listenable_"+(1e6*Math.random()|0),zn=0;function $n(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.La=r,this.key=++zn,this.sa=this.Ia=!1}function Yn(e){e.sa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function Jn(e){this.src=e,this.a={},this.g=0}function Qn(e,t){var n=t.type;n in e.a&&K(e.a[n],t)&&(Yn(t),0==e.a[n].length&&(delete e.a[n],e.g--))}function Xn(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.sa&&s.listener==t&&s.capture==!!n&&s.La==i)return r}return-1}Jn.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.g++);var o=Xn(e,t,i,r);return-1<o?(t=e[o],n||(t.Ia=!1)):((t=new $n(t,this.src,s,!!i,r)).Ia=n,e.push(t)),t};var Zn="closure_lm_"+(1e6*Math.random()|0),ei={};function ti(e,t,n,i,r){if(i&&i.once)return ii(e,t,n,i,r);if(w(t)){for(var s=0;s<t.length;s++)ti(e,t[s],n,i,r);return null}return n=di(n),e&&e[Wn]?e.J.add(String(t),n,!1,E(i)?!!i.capture:!!i,r):ni(e,t,n,!1,i,r)}function ni(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=E(r)?!!r.capture:!!r,a=li(e);if(a||(e[Zn]=a=new Jn(e)),(n=a.add(t,n,i,o,s)).proxy)return n;if(i=function(){var e=ci,t=Vn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)qn||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(oi(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function ii(e,t,n,i,r){if(w(t)){for(var s=0;s<t.length;s++)ii(e,t[s],n,i,r);return null}return n=di(n),e&&e[Wn]?e.J.add(String(t),n,!0,E(i)?!!i.capture:!!i,r):ni(e,t,n,!0,i,r)}function ri(e,t,n,i,r){if(w(t))for(var s=0;s<t.length;s++)ri(e,t[s],n,i,r);else i=E(i)?!!i.capture:!!i,n=di(n),e&&e[Wn]?(e=e.J,(t=String(t).toString())in e.a&&-1<(n=Xn(s=e.a[t],n,i,r))&&(Yn(s[n]),G(s,n),0==s.length&&(delete e.a[t],e.g--))):e&&(e=li(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Xn(t,n,i,r)),(n=-1<e?t[e]:null)&&si(n))}function si(e){if("number"!=typeof e&&e&&!e.sa){var t=e.src;if(t&&t[Wn])Qn(t.J,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(oi(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=li(t))?(Qn(n,e),0==n.g&&(n.src=null,t[Zn]=null)):Yn(e)}}}function oi(e){return e in ei?ei[e]:ei[e]="on"+e}function ai(e,t,n,i){var r=!0;if((e=li(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==n&&!s.sa&&(s=ui(s,i),r=r&&!1!==s)}return r}function ui(e,t){var n=e.listener,i=e.La||e.src;return e.Ia&&si(e),n.call(i,t)}function ci(e,t){if(e.sa)return!0;if(!Vn){if(!t)e:{t=["window","event"];for(var n=d,i=0;i<t.length;i++)if(null==(n=n[t[i]])){t=null;break e}t=n}if(t=new Kn(i=t,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){e:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=t.g;r;r=r.parentNode)i.push(r);for(e=e.type,r=i.length-1;!t.h&&0<=r;r--){t.g=i[r];var s=ai(i[r],e,!0,t);n=n&&s}for(r=0;!t.h&&r<i.length;r++)t.g=i[r],s=ai(i[r],e,!1,t),n=n&&s}return n}return ui(e,new Kn(t,this))}function li(e){return(e=e[Zn])instanceof Jn?e:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(e){return _(e)?e:(e[hi]||(e[hi]=function(t){return e.handleEvent(t)}),e[hi])}function fi(){On.call(this),this.J=new Jn(this),this.wb=this,this.Ha=null}function pi(e,t){var n,i=e.Ha;if(i)for(n=[];i;i=i.Ha)n.push(i);if(e=e.wb,i=t.type||t,p(t))t=new Hn(t,e);else if(t instanceof Hn)t.target=t.target||e;else{var r=t;ue(t=new Hn(i,e),r)}if(r=!0,n)for(var s=n.length-1;!t.h&&0<=s;s--){var o=t.g=n[s];r=mi(o,i,!0,t)&&r}if(t.h||(r=mi(o=t.g=e,i,!0,t)&&r,t.h||(r=mi(o,i,!1,t)&&r)),n)for(s=0;!t.h&&s<n.length;s++)r=mi(o=t.g=n[s],i,!1,t)&&r;return r}function mi(e,t,n,i){if(!(t=e.J.a[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.sa&&o.capture==n){var a=o.listener,u=o.La||o.src;o.Ia&&Qn(e.J,o),r=!1!==a.call(u,i)&&r}}return r&&0!=i.qb}O(fi,On),fi.prototype[Wn]=!0,fi.prototype.Za=function(e){this.Ha=e},fi.prototype.removeEventListener=function(e,t,n,i){ri(this,e,t,n,i)},fi.prototype.o=function(){if(fi.K.o.call(this),this.J){var e,t=this.J;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)Yn(n[i]);delete t.a[e],t.g--}}this.Ha=null};var gi={},vi=0;function yi(e,t){if(!e)throw Error("Event target element must be provided!");if(e=bi(e),gi[e]&&gi[e].length)for(var n=0;n<gi[e].length;n++)pi(gi[e][n],t)}function bi(e){return void 0===e.a&&(e.a=vi,vi++),e.a}function wi(e){if(!e)throw Error("Event target element must be provided!");fi.call(this),this.a=e}function Ii(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function _i(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function Ei(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function Ti(){this.g=this.a=null}u(wi,fi),wi.prototype.N=function(){return this.a},wi.prototype.register=function(){var e=bi(this.N());gi[e]?H(gi[e],this)||gi[e].push(this):gi[e]=[this]},_i.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var Si,ki,Ci=new _i((function(){return new xi}),(function(e){e.reset()}));function Ai(){var e=Pi,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.g=null),t.next=null),t}function xi(){this.next=this.g=this.a=null}function Ni(e){d.setTimeout((function(){throw e}),0)}function Di(e,t){ki||function(){if(d.Promise&&d.Promise.resolve){var e=d.Promise.resolve(void 0);ki=function(){e.then(Oi)}}else ki=function(){var e=Oi;!_(d.setImmediate)||d.Window&&d.Window.prototype&&!We("Edge")&&d.Window.prototype.setImmediate==d.setImmediate?(Si||(Si=function(){var e=d.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!We("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=A((function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),void 0!==e&&!We("Trident")&&!We("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(f(n.next)){var e=(n=n.next).gb;n.gb=null,e()}},function(e){i.next={gb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){d.setTimeout(e,0)}}()),Si(e)):d.setImmediate(e)}}(),Ri||(ki(),Ri=!0),Pi.add(e,t)}Ti.prototype.add=function(e,t){var n=Ci.get();n.set(e,t),this.g?this.g.next=n:this.a=n,this.g=n},xi.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},xi.prototype.reset=function(){this.next=this.g=this.a=null};var Ri=!1,Pi=new Ti;function Oi(){for(var e;e=Ai();){try{e.a.call(e.g)}catch(e){Ni(e)}Ei(Ci,e)}Ri=!1}function Li(e){if(this.a=Mi,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,e!=v)try{var t=this;e.call(void 0,(function(e){zi(t,Fi,e)}),(function(e){if(!(e instanceof Zi))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}zi(t,Ui,e)}))}catch(e){zi(this,Ui,e)}}var Mi=0,Fi=2,Ui=3;function ji(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}ji.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Vi=new _i((function(){return new ji}),(function(e){e.reset()}));function Bi(e,t,n){var i=Vi.get();return i.s=e,i.g=t,i.j=n,i}function qi(e){if(e instanceof Li)return e;var t=new Li(v);return zi(t,Fi,e),t}function Hi(e){return new Li((function(t,n){n(e)}))}function Ki(e,t){if(e.a==Mi)if(e.h){var n=e.h;if(n.g){for(var i=0,r=null,s=null,o=n.g;o&&(o.h||(i++,o.a==e&&(r=o),!(r&&1<i)));o=o.next)r||(s=o);r&&(n.a==Mi&&1==i?Ki(n,t):(s?((i=s).next==n.j&&(n.j=i),i.next=i.next.next):Yi(n),Ji(n,r,Ui,t)))}e.h=null}else zi(e,Ui,t)}function Gi(e,t){e.g||e.a!=Fi&&e.a!=Ui||$i(e),e.j?e.j.next=t:e.g=t,e.j=t}function Wi(e,t,n,i){var r=Bi(null,null,null);return r.a=new Li((function(e,s){r.s=t?function(n){try{var r=t.call(i,n);e(r)}catch(e){s(e)}}:e,r.g=n?function(t){try{var r=n.call(i,t);!f(r)&&t instanceof Zi?s(t):e(r)}catch(e){s(e)}}:s})),r.a.h=e,Gi(e,r),r.a}function zi(e,t,n){if(e.a==Mi){e===n&&(t=Ui,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var i=n,r=e.hc,s=e.ic;if(i instanceof Li){Gi(i,Bi(r||v,s||null,e));var o=!0}else if(Ii(i))i.then(r,s,e),o=!0;else{if(E(i))try{var a=i.then;if(_(a)){!function(e,t,n,i,r){function s(e){o||(o=!0,i.call(r,e))}var o=!1;try{t.call(e,(function(e){o||(o=!0,n.call(r,e))}),s)}catch(e){s(e)}}(i,a,r,s,e),o=!0;break e}}catch(t){s.call(e,t),o=!0;break e}o=!1}}o||(e.A=n,e.a=t,e.h=null,$i(e),t!=Ui||n instanceof Zi||function(e,t){e.s=!0,Di((function(){e.s&&Xi.call(null,t)}))}(e,n))}}function $i(e){e.i||(e.i=!0,Di(e.Hb,e))}function Yi(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function Ji(e,t,n,i){if(n==Ui&&t.g&&!t.h)for(;e&&e.s;e=e.h)e.s=!1;if(t.a)t.a.h=null,Qi(t,n,i);else try{t.h?t.s.call(t.j):Qi(t,n,i)}catch(e){Xi.call(null,e)}Ei(Vi,t)}function Qi(e,t,n){t==Fi?e.s.call(e.j,n):e.g&&e.g.call(e.j,n)}Li.prototype.then=function(e,t,n){return Wi(this,_(e)?e:null,_(t)?t:null,n)},Li.prototype.$goog_Thenable=!0,(e=Li.prototype).fc=function(e,t){return(e=Bi(e,e,t)).h=!0,Gi(this,e),this},e.Ca=function(e,t){return Wi(this,null,e,t)},e.cancel=function(e){this.a==Mi&&Di((function(){Ki(this,new Zi(e))}),this)},e.hc=function(e){this.a=Mi,zi(this,Fi,e)},e.ic=function(e){this.a=Mi,zi(this,Ui,e)},e.Hb=function(){for(var e;e=Yi(this);)Ji(this,e,this.a,this.A);this.i=!1};var Xi=Ni;function Zi(e){L.call(this,e)}function er(e,t,n){t||(t={}),n=n||window;var i=e instanceof bt?e:_t(void 0!==e.href?e.href:String(e));e=t.target||e.target;var r=[];for(s in t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");return(We("iPhone")&&!We("iPod")&&!We("iPad")||We("iPad")||We("iPod"))&&n.navigator&&n.navigator.standalone&&e&&"_self"!=e?(s=n.document.createElement("A"),i=i instanceof bt?i:Et(i),s.href=wt(i),s.setAttribute("target",e),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),s.dispatchEvent(t),n={}):t.noreferrer?(n=n.open("",e,s),t=wt(i).toString(),n&&(et&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),n.opener=null,t=Dt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+re(t)+'">',null),n.document.write(xt(t)),n.document.close())):(n=n.open(wt(i).toString(),e,s))&&t.noopener&&(n.opener=null),n}function tr(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(e){}return!1}function nr(e){er(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function ir(e,t){if(null==(e=E(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error(t||"Cannot find element.");return e}function rr(){return window.location.href}function sr(e){var t=mr;this.s=[],this.T=t,this.O=e||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function or(e,t,n){e.a=!0,e.h=n,e.j=!t,lr(e)}function ar(e){if(e.a){if(!e.J)throw new hr(e);e.J=!1}}function ur(e,t,n){e.s.push([t,n,void 0]),e.a&&lr(e)}function cr(e){return q(e.s,(function(e){return _(e[1])}))}function lr(e){if(e.i&&e.a&&cr(e)){var t=e.i,n=pr[t];n&&(d.clearTimeout(n.a),delete pr[t]),e.i=0}e.g&&(e.g.C--,delete e.g),t=e.h;for(var i=n=!1;e.s.length&&!e.A;){var r=e.s.shift(),s=r[0],o=r[1];if(r=r[2],s=e.j?o:s)try{var a=s.call(r||e.O,t);f(a)&&(e.j=e.j&&(a==t||a instanceof Error),e.h=t=a),(Ii(t)||"function"==typeof d.Promise&&t instanceof d.Promise)&&(i=!0,e.A=!0)}catch(i){t=i,e.j=!0,cr(e)||(n=!0)}}e.h=t,i&&(a=A(e.L,e,!0),i=A(e.L,e,!1),t instanceof sr?(ur(t,a,i),t.l=!0):t.then(a,i)),n&&(t=new fr(t),pr[t.a]=t,e.i=t.a)}function hr(){L.call(this)}function dr(){L.call(this)}function fr(e){this.a=d.setTimeout(A(this.h,this),0),this.g=e}O(Zi,L),Zi.prototype.name="cancel",sr.prototype.cancel=function(e){if(this.a)this.h instanceof sr&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(e=new dr(this),ar(this),or(this,!1,e))}},sr.prototype.L=function(e,t){this.A=!1,or(this,e,t)},sr.prototype.callback=function(e){ar(this),or(this,!0,e)},sr.prototype.then=function(e,t,n){var i,r,s=new Li((function(e,t){i=e,r=t}));return ur(this,i,(function(e){e instanceof dr?s.cancel():r(e)})),s.then(e,t,n)},sr.prototype.$goog_Thenable=!0,O(hr,L),hr.prototype.message="Deferred has already fired",hr.prototype.name="AlreadyCalledError",O(dr,L),dr.prototype.message="Deferred was canceled",dr.prototype.name="CanceledError",fr.prototype.h=function(){throw delete pr[this.a],this.g};var pr={};function mr(){if(this&&this.rb){var e=this.rb;e&&"SCRIPT"==e.tagName&&gr(e,!0,this.sb)}}function gr(e,t,n){null!=n&&d.clearTimeout(n),e.onload=v,e.onerror=v,e.onreadystatechange=v,t&&window.setTimeout((function(){Gt(e)}),0)}var vr=0,yr=1;function br(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),L.call(this,n),this.code=e}function wr(){return d.google&&d.google.accounts&&d.google.accounts.id||null}function Ir(e){this.a=e||wr(),this.h=!1,this.g=null}function _r(e,t,n){return e.a&&t?(e.h=!0,new Li((function(i){e.g=i,e.a.initialize({client_id:t,callback:i,auto_select:!n}),e.a.prompt()}))):qi(t?Tr.Xa().load().then((function(){return e.a=wr(),_r(e,t,n)})).Ca((function(){return null})):null)}O(br,L),Ir.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},y(Ir);var Er=new ft(mt,"https://accounts.google.com/gsi/client");function Tr(){this.a=null}function Sr(e,t){this.a=e,this.g=t||function(e){throw e}}function kr(e,t,n){this.reset(e,t,n,void 0,void 0)}function Cr(e){this.s=e,this.a=this.h=this.j=this.g=null}function Ar(e,t){this.name=e,this.value=t}Tr.prototype.load=function(){var e=this;if(this.a)return this.a;var t=function(){var e=Er;e instanceof ft&&e.constructor===ft&&e.g===pt?e=e.a:(F("expected object of type Const, got '"+e+"'"),e="type_error:Const");var t=new gt;return t.a=e,t}();return wr()?qi():this.a=function(){var e=null;return new Li((function(t){"complete"==d.document.readyState?t():(e=function(){t()},ii(window,"load",e))})).Ca((function(t){throw ri(window,"load",e),t}))}().then((function(){if(!wr())return new Li((function(n,i){var r=setTimeout((function(){e.a=null,i(Error("Network error!"))}),1e4);d.onGoogleLibraryLoad=function(){clearTimeout(r),n()},qi(function(e){var t={},n=t.document||document,i=vt(e).toString(),r=document.createElement("SCRIPT"),s={rb:r,sb:void 0},o=new sr(s),a=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(a=window.setTimeout((function(){gr(r,!0);var e=new br(yr,"Timeout reached for loading script "+i);ar(o),or(o,!1,e)}),u),s.sb=a),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(gr(r,t.xc||!1,a),o.callback(null))},r.onerror=function(){gr(r,!0,a);var e=new br(vr,"Error while loading script "+i);ar(o),or(o,!1,e)},ue(s=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(e,t){se(t,(function(t,n){t&&"object"==typeof t&&t.ma&&(t=t.ka()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Ht.hasOwnProperty(n)?e.setAttribute(Ht[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}(r,s),function(e,t){e.src=vt(t),null===g&&(g=(t=(t=d.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&m.test(t)?t:""),(t=g)&&e.setAttribute("nonce",t)}(r,e),function(e){var t=(e||document).getElementsByTagName("HEAD");return t&&0!=t.length?t[0]:e.documentElement}(n).appendChild(r),o}(t)).then((function(){wr()&&n()})).Ca((function(t){clearTimeout(r),e.a=null,i(t)}))}))}))},y(Tr),Sr.prototype.confirm=function(e){return qi(this.a.confirm(e)).Ca(this.g)},kr.prototype.a=null,kr.prototype.reset=function(e,t,n,i,r){this.h=i||R(),this.j=e,this.s=t,this.g=n,delete this.a},Ar.prototype.toString=function(){return this.name};var xr=new Ar("SEVERE",1e3),Nr=new Ar("WARNING",900),Dr=new Ar("CONFIG",700);function Rr(e){return e.j?e.j:e.g?Rr(e.g):(F("Root logger has no level set."),null)}Cr.prototype.log=function(e,t,n){if(e.value>=Rr(this).value)for(_(t)&&(t=t()),e=new kr(e,String(t),this.s),n&&(e.a=n),n=this;n;){var i=n,r=e;if(i.a)for(var s=0;t=i.a[s];s++)t(r);n=n.g}};var Pr={},Or=null;function Lr(){Or||(Or=new Cr(""),Pr[""]=Or,Or.j=Dr)}function Mr(){this.a=R()}var Fr=null;function Ur(e){this.j=e||"",Fr||(Fr=new Mr),this.s=Fr}function jr(e){return 10>e?"0"+e:String(e)}function Vr(e){Ur.call(this,e)}function Br(){this.s=A(this.h,this),this.a=new Vr,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Mr.prototype.set=function(e){this.a=e},Mr.prototype.reset=function(){this.set(R())},Mr.prototype.get=function(){return this.a},Ur.prototype.a=!0,Ur.prototype.g=!0,Ur.prototype.h=!1,O(Vr,Ur),Br.prototype.h=function(e){if(!this.j[e.g]){var t=function(e,t){var n=[];if(n.push(e.j," "),e.g){var i=new Date(t.h);n.push("[",jr(i.getFullYear()-2e3)+jr(i.getMonth()+1)+jr(i.getDate())+" "+jr(i.getHours())+":"+jr(i.getMinutes())+":"+jr(i.getSeconds())+"."+jr(Math.floor(i.getMilliseconds()/10)),"] ")}return n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(1>e)n=2;else for(;100>e;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(t,e.s.get()),"s] "),n.push("[",t.g,"] "),n.push(t.s),e.h&&(t=t.a)&&n.push("\n",t instanceof Error?t.message:t.toString()),e.a&&n.push("\n"),n.join("")}(this.a,e);Hr&&function(e,t,n,i){e[t]?e[t](n,i||""):e.log(n,i||"")}(Hr,function(e){if(e){if(e.value>=xr.value)return"error";if(e.value>=Nr.value)return"warn";if(e.value>=Dr.value)return"log"}return"debug"}(e.j),t,e.a)}};var qr,Hr=d.console;function Kr(e,t){qr&&qr.log(xr,e,t)}qr=function e(t){var n;if(Lr(),!(n=Pr[t])){n=new Cr(t);var i=t.lastIndexOf("."),r=t.substr(i+1);(i=e(t.substr(0,i))).h||(i.h={}),i.h[r]=n,n.g=i,Pr[t]=n}return n}("firebaseui");var Gr=new Br;if(1!=Gr.g){var Wr;Lr(),Wr=Or;var zr=Gr.s;Wr.a||(Wr.a=[]),Wr.a.push(zr),Gr.g=!0}function $r(e){qr&&qr.log(Nr,e,void 0)}function Yr(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Jr(e){e=(e.a.cookie||"").split(";");for(var t,n,i=[],r=[],s=0;s<e.length;s++)-1==(t=(n=Y(e[s])).indexOf("="))?(i.push(""),r.push(n)):(i.push(n.substring(0,t)),r.push(n.substring(t+1)));return{keys:i,values:r}}(e=Yr.prototype).set=function(e,t,n,i,r,s){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');f(n)||(n=-1),r=r?";domain="+r:"",i=i?";path="+i:"",s=s?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(R()+1e3*n).toUTCString(),this.a.cookie=e+"="+t+r+i+n+s},e.get=function(e,t){for(var n,i=e+"=",r=(this.a.cookie||"").split(";"),s=0;s<r.length;s++){if(0==(n=Y(r[s])).lastIndexOf(i,0))return n.substr(i.length);if(n==e)return""}return t},e.ja=function(){return Jr(this).keys},e.la=function(){return Jr(this).values},e.clear=function(){for(var e=Jr(this).keys,t=e.length-1;0<=t;t--){var n=e[t];this.get(n),this.set(n,"",0,void 0,void 0)}};var Qr=new Yr;function Xr(){}function Zr(e,t,n,i){this.h=null!=e?e:-1,this.g=t||null,this.a=n||null,this.j=!!i}function es(e,t){this.g=e,this.a=t||null}function ts(e){return{email:e.g,credential:e.a&&e.a.toJSON()}}function ns(e){if(e&&e.email){var t=e.credential&&i.default.auth.AuthCredential.fromJSON(e.credential);return new es(e.email,t)}return null}function is(e){this.a=e||null}function rs(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);255<r&&(t[n++]=255&r,r>>=8),t[n++]=r}return t}function ss(e){return B(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}function os(e){for(this.i=e,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(as*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.i[4*e],this.i[4*e+1],this.i[4*e+2],this.i[4*e+3]];var t=Array(4);for(e=this.g;e<as*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var n=t,i=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=i,ps(t),t[0]^=vs[e/this.g][0],t[1]^=vs[e/this.g][1],t[2]^=vs[e/this.g][2],t[3]^=vs[e/this.g][3]}else 6<this.g&&4==e%this.g&&ps(t);this.a[e]=Array(4),this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}u(Zr,Xr),Zr.prototype.set=function(e,t){Qr.set(e,t,this.h,this.g,this.a,this.j)},Zr.prototype.get=function(e){return Qr.get(e)||null},Zr.prototype.ra=function(e){var t=this.g,n=this.a;Qr.get(e),Qr.set(e,"",0,t,n)},os.prototype.A=16;var as=os.prototype.A/4;function us(e,t){for(var n,i=0;i<as;i++)for(var r=0;4>r;r++)n=t[n=4*r+i],e.h[i][r]=n}function cs(e){for(var t=[],n=0;n<as;n++)for(var i=0;4>i;i++)t[4*i+n]=e.h[n][i];return t}function ls(e,t){for(var n=0;4>n;n++)for(var i=0;4>i;i++)e.h[n][i]^=e.a[4*t+i][n]}function hs(e,t){for(var n=0;4>n;n++)for(var i=0;4>i;i++)e.h[n][i]=t[e.h[n][i]]}function ds(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][n]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][(n+t)%as]}function fs(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][(n+t)%as]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][n]}function ps(e){e[0]=ms[e[0]],e[1]=ms[e[1]],e[2]=ms[e[2]],e[3]=ms[e[3]]}var ms=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],gs=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],vs=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],ys=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],bs=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],ws=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Is=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],_s=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Es=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Ts(e,t){e=new os(ks(e));for(var n,i=(t=rs(t)).splice(0,16),r="";i.length;){n=16-i.length;for(var s=0;s<n;s++)i.push(0);for(us(n=e,i),ls(n,0),i=1;i<n.j;++i){hs(n,ms),ds(n),s=n.h;for(var o=n.s[0],a=0;4>a;a++)o[0]=s[0][a],o[1]=s[1][a],o[2]=s[2][a],o[3]=s[3][a],s[0][a]=ys[o[0]]^bs[o[1]]^o[2]^o[3],s[1][a]=o[0]^ys[o[1]]^bs[o[2]]^o[3],s[2][a]=o[0]^o[1]^ys[o[2]]^bs[o[3]],s[3][a]=bs[o[0]]^o[1]^o[2]^ys[o[3]];ls(n,i)}hs(n,ms),ds(n),ls(n,n.j),r+=ss(cs(n)),i=t.splice(0,16)}return r}function Ss(e,t){e=new os(ks(e));for(var n=[],i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));var r=n.splice(0,16);for(t="";r.length;){for(us(i=e,r),ls(i,i.j),r=1;r<i.j;++r){fs(i),hs(i,gs),ls(i,i.j-r);for(var s=i.h,o=i.s[0],a=0;4>a;a++)o[0]=s[0][a],o[1]=s[1][a],o[2]=s[2][a],o[3]=s[3][a],s[0][a]=Es[o[0]]^Is[o[1]]^_s[o[2]]^ws[o[3]],s[1][a]=ws[o[0]]^Es[o[1]]^Is[o[2]]^_s[o[3]],s[2][a]=_s[o[0]]^ws[o[1]]^Es[o[2]]^Is[o[3]],s[3][a]=Is[o[0]]^_s[o[1]]^ws[o[2]]^Es[o[3]]}if(fs(i),hs(i,gs),ls(i,0),8192>=(i=cs(i)).length)i=String.fromCharCode.apply(null,i);else{for(r="",s=0;s<i.length;s+=8192)r+=String.fromCharCode.apply(null,$(i,s,s+8192));i=r}t+=i,r=n.splice(0,16)}return t.replace(/(\x00)+$/,"")}function ks(e){for(var t=32-(e=rs(e.substring(0,32))).length,n=0;n<t;n++)e.push(0);return e}function Cs(e){var t=[];return xs(new As,e,t),t.join("")}function As(){}function xs(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(w(t)){var i=t;t=i.length,n.push("[");for(var r="",s=0;s<t;s++)n.push(r),xs(e,i[s],n),r=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(i in n.push("{"),r="",t)Object.prototype.hasOwnProperty.call(t,i)&&"function"!=typeof(s=t[i])&&(n.push(r),Rs(i,n),n.push(":"),xs(e,s,n),r=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Rs(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}var Ns={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ds=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Rs(e,t){t.push('"',e.replace(Ds,(function(e){var t=Ns[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Ns[e]=t),t})),'"')}function Ps(e){this.a=e}function Os(){}function Ls(e){this.a=e}function Ms(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(e){return!1}}function Fs(){var e=null;try{e=window.localStorage||null}catch(e){}this.a=e}function Us(){var e=null;try{e=window.sessionStorage||null}catch(e){}this.a=e}function js(e,t){this.g=e,this.a=t+"::"}Ps.prototype.set=function(e,t){f(t)?this.a.set(e,Cs(t)):this.a.ra(e)},Ps.prototype.get=function(e){try{var t=this.a.get(e)}catch(e){return}if(null!==t)try{return JSON.parse(t)}catch(e){throw"Storage: Invalid value was encountered"}},O(Os,Xr),Os.prototype.clear=function(){var e=function(e){if(I(e))return z(e);e=he(e);var t=[];return function(e,t){if(I(e))try{j(e,t,void 0)}catch(e){if(e!==ce)throw e}else{e=he(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(e){if(e!==ce)throw e}}}(e,(function(e){t.push(e)})),t}(this.ha(!0)),t=this;j(e,(function(e){t.ra(e)}))},O(Ls,Os),(e=Ls.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(e){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!p(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ra=function(e){this.a.removeItem(e)},e.ha=function(e){var t=0,n=this.a,i=new le;return i.next=function(){if(t>=n.length)throw ce;var i=n.key(t++);if(e)return i;if(!p(i=n.getItem(i)))throw"Storage mechanism: Invalid value was encountered";return i},i},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},O(Fs,Ls),O(Us,Ls),O(js,Os),js.prototype.set=function(e,t){this.g.set(this.a+e,t)},js.prototype.get=function(e){return this.g.get(this.a+e)},js.prototype.ra=function(e){this.g.ra(this.a+e)},js.prototype.ha=function(e){var t=this.g.ha(!0),n=this,i=new le;return i.next=function(){for(var i=t.next();i.substr(0,n.a.length)!=n.a;)i=t.next();return e?i.substr(n.a.length):n.g.get(i)},i},Ms(new Fs);var Vs=new Us,Bs=new Ps(Ms(Vs)?new js(Vs,"firebaseui"):null),qs={name:"pendingEmailCredential",storage:Bs},Hs={name:"redirectStatus",storage:Bs},Ks={name:"redirectUrl",storage:Bs},Gs={name:"emailForSignIn",storage:new Ps(new Zr(3600,"/"))},Ws={name:"pendingEncryptedCredential",storage:new Ps(new Zr(3600,"/"))};function zs(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function $s(e,t){e.storage.a.ra(t?e.name+":"+t:e.name)}function Ys(e,t,n){e.storage.set(n?e.name+":"+n:e.name,t)}function Js(e){return zs(Ks,e)||null}function Qs(e){return ns(e=zs(qs,e)||null)}function Xs(e){$s(qs,e)}function Zs(e,t){Ys(qs,ts(e),t)}function eo(e){return(e=zs(Hs,e)||null)&&void 0!==e.tenantId?new is(e.tenantId):null}function to(){this.W={}}function no(e,t,n){if(t.toLowerCase()in e.W)throw Error("Configuration "+t+" has already been defined.");e.W[t.toLowerCase()]=n}function io(e,t,n){if(!(t.toLowerCase()in e.W))throw Error("Configuration "+t+" is not defined.");e.W[t.toLowerCase()]=n}function ro(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function so(){this.g=void 0,this.a={}}function oo(e,t,n,i){for(var r=0;r<t.length;r++){var s=t.charAt(r);e.a[s]||(e.a[s]=new so),e=e.a[s]}if(i&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=n}function ao(e,t){for(var n in void 0!==e.g&&t.push(e.g),e.a)ao(e.a[n],t)}function uo(e,t,n){for(var i in void 0!==e.g&&n.push(t),e.a)uo(e.a[i],t+i,n)}function co(e){for(this.a=e,this.g=new so,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function lo(e,t){var n={},i=0;for(void 0!==(e=e.g).g&&(n[i]=e.g);i<t.length;i++){var r=t.charAt(i);if(!(r in e.a))break;void 0!==(e=e.a[r]).g&&(n[i]=e.g)}for(var s in n)if(n.hasOwnProperty(s))return n[s];return[]}function ho(e){for(var t=0;t<go.length;t++)if(go[t].c===e)return go[t];return null}function fo(e){e=e.toUpperCase();for(var t=[],n=0;n<go.length;n++)go[n].f===e&&t.push(go[n]);return t}function po(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],n=0;n<go.length;n++)go[n].b==e&&t.push(go[n]);e=t}else e=fo(e);return e}function mo(e){e.sort((function(e,t){return e.name.localeCompare(t.name,"en")}))}to.prototype.get=function(e){if(!(e.toLowerCase()in this.W))throw Error("Configuration "+e+" is not defined.");return this.W[e.toLowerCase()]},(e=so.prototype).set=function(e,t){oo(this,e,t,!1)},e.add=function(e,t){oo(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.g:void 0},e.la=function(){var e=[];return ao(this,e),e},e.ja=function(){var e=[];return uo(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var go=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];mo(go);var vo=new co(go);function yo(e,t){this.a=e,this.Aa=t}function bo(e){e=Y(e);var t=lo(vo,e);return 0<t.length?new yo("1"==t[0].b?"1-US-0":t[0].c,Y(e.substr(t[0].b.length+1))):null}function wo(e){var t=ho(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.Aa}function Io(e,t){for(var n=0;n<e.length;n++)if(!H(_o,e[n])&&(null!==Eo&&e[n]in Eo||H(t,e[n])))return e[n];return null}var _o=["emailLink","password","phone"],Eo={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function To(){this.a=new to,no(this.a,"autoUpgradeAnonymousUsers"),no(this.a,"callbacks"),no(this.a,"credentialHelper",Zo),no(this.a,"immediateFederatedRedirect",!1),no(this.a,"popupMode",!1),no(this.a,"privacyPolicyUrl"),no(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),no(this.a,"queryParameterForWidgetMode","mode"),no(this.a,"signInFlow"),no(this.a,"signInOptions"),no(this.a,"signInSuccessUrl"),no(this.a,"siteName"),no(this.a,"tosUrl"),no(this.a,"widgetUrl"),no(this.a,"adminRestrictedOperation")}function So(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!Wo(e)&&Kr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function ko(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var i=e[n];(i=E(i)?i:{provider:i}).provider&&t.push(i)}return t}function Co(e,t){e=ko(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function Ao(e){return ko(e).map((function(e){return e.provider}))}function xo(e,t){e=No(e);for(var n=0;n<e.length;n++)if(e[n].providerId===t)return e[n];return null}function No(e){return ko(e).map((function(e){if(Eo[e.provider]||H(ra,e.provider)){for(var t in e={providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?wt(_t(e.iconUrl)).toString():null})null===e[t]&&delete e[t];return e}return{providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?wt(_t(e.iconUrl)).toString():null,Ob:e.loginHintKey||null}}))}function Do(e){var t,n=Co(e,i.default.auth.GoogleAuthProvider.PROVIDER_ID);if(t=n&&n.clientId){e:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol))for(r in e=e.a.get("credentialHelper"),ea)if(ea[r]===e){var r=ea[r];break e}r=Zo}t=r===Xo}return t&&n.clientId||null}function Ro(e){return!!((e=Co(e,i.default.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.status)}function Po(e){return!(!(e=e.a.get("adminRestrictedOperation")||null)||!e.status)}function Oo(e,t){return e=(e=Co(e,t))&&e.scopes,Array.isArray(e)?e:[]}function Lo(e,t){return E(e=(e=Co(e,t))&&e.customParameters)?(e=oe(e),t===i.default.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===i.default.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function Mo(e){if(!(e=Co(e,i.default.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,n=e.blacklistedCountries;if(void 0!==t&&(!Array.isArray(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(t&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!n)return go;if(e=[],t){n={};for(var r=0;r<t.length;r++)for(var s=po(t[r]),o=0;o<s.length;o++)n[s[o].c]=s[o];for(var a in n)n.hasOwnProperty(a)&&e.push(n[a])}else{for(a={},t=0;t<n.length;t++)for(s=po(n[t]),r=0;r<s.length;r++)a[s[r].c]=s[r];for(s=0;s<go.length;s++)null!==a&&go[s].c in a||e.push(go[s])}return e}function Fo(e){return ro(e.a,"queryParameterForWidgetMode")}function Uo(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&$r("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){nr(t)}}return null}function jo(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&$r("Term of Service URL is missing, the link will not be displayed."),t&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){nr(n)}}return null}function Vo(e){return!(e=Co(e,i.default.auth.EmailAuthProvider.PROVIDER_ID))||void 0===e.requireDisplayName||!!e.requireDisplayName}function Bo(e){return!(!(e=Co(e,i.default.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==i.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function qo(e){var t=!!e.a.get("immediateFederatedRedirect"),n=Ao(e);return e=Ho(e),t&&1==n.length&&!H(_o,n[0])&&e==ta}function Ho(e){for(var t in e=e.a.get("signInFlow"),na)if(na[t]==e)return na[t];return ta}function Ko(e){return zo(e).signInSuccess||null}function Go(e){return zo(e).signInSuccessWithAuthResult||null}function Wo(e){return zo(e).signInFailure||null}function zo(e){return e.a.get("callbacks")||{}}var $o,Yo,Jo,Qo,Xo="googleyolo",Zo="none",ea={nc:Xo,NONE:Zo},ta="redirect",na={qc:"popup",rc:ta},ia={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},ra=["anonymous"],sa=["sitekey","tabindex","callback","expired-callback"],oa={};function aa(e,t,n,i){oa[e].apply(null,Array.prototype.slice.call(arguments,1))}function ua(e){return e.classList?e.classList:p(e=e.className)&&e.match(/\S+/g)||[]}function ca(e,t){return e.classList?e.classList.contains(t):H(ua(e),t)}function la(e,t){e.classList?e.classList.add(t):ca(e,t)||(e.className+=0<e.className.length?" "+t:t)}function ha(e,t){e.classList?e.classList.remove(t):ca(e,t)&&(e.className=V(ua(e),(function(e){return e!=t})).join(" "))}function da(e){var t=e.type;switch(p(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,i=0;n=e.options[i];i++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function fa(e,t){var n=e.type;switch(p(n)&&n.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,p(t))for(var i=0;n=e.options[i];i++)if(n.value==t){n.selected=!0;break}break;case"select-multiple":for(p(t)&&(t=[t]),i=0;n=e.options[i];i++)if(n.selected=!1,t)for(var r,s=0;r=t[s];s++)n.value==r&&(n.selected=!0);break;default:e.value=null!=t?t:""}}function pa(e,t,n,i,r,s){if(nt&&!ht("525"))return!0;if(rt&&r)return ma(e);if(r&&!i)return!1;if(!tt&&("number"==typeof t&&(t=ga(t)),(!n||rt)&&(17==t||18==t||rt&&91==t)||rt&&16==t&&(i||s)))return!1;if((nt||Ze)&&i&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Xe&&i&&t==e)return!1;switch(e){case 13:return!(tt&&(s||r||n&&i));case 27:return!(nt||Ze||tt)}return(!tt||!(i||r||s))&&ma(e)}function ma(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(nt||Ze)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return tt;default:return!1}}function ga(e){return tt?e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e):rt&&nt&&93===e&&(e=91),e}function va(e){fi.call(this),this.a=e,ti(e,"keydown",this.g,!1,this),ti(e,"click",this.h,!1,this)}function ya(e,t){var n=new wa(t);if(pi(e,n)){n=new ba(t);try{pi(e,n)}finally{t.stopPropagation()}}}function ba(e){Kn.call(this,e.a),this.type="action"}function wa(e){Kn.call(this,e.a),this.type="beforeaction"}function Ia(e){fi.call(this),this.a=e,e=Xe?"focusout":"blur",this.g=ti(this.a,Xe?"focusin":"focus",this,!Xe),this.h=ti(this.a,e,this,!Xe)}function _a(e,t){fi.call(this),this.g=e||1,this.a=t||d,this.h=A(this.gc,this),this.j=R()}function Ea(e){e.Ka=!1,e.aa&&(e.a.clearTimeout(e.aa),e.aa=null)}function Ta(e){On.call(this),this.g=e,this.a={}}O(va,fi),va.prototype.g=function(e){(13==e.keyCode||nt&&3==e.keyCode)&&ya(this,e)},va.prototype.h=function(e){ya(this,e)},va.prototype.o=function(){va.K.o.call(this),ri(this.a,"keydown",this.g,!1,this),ri(this.a,"click",this.h,!1,this),delete this.a},O(ba,Kn),O(wa,Kn),O(Ia,fi),Ia.prototype.handleEvent=function(e){var t=new Kn(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",pi(this,t)},Ia.prototype.o=function(){Ia.K.o.call(this),si(this.g),si(this.h),delete this.a},O(_a,fi),(e=_a.prototype).Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var e=R()-this.j;0<e&&e<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-e):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),pi(this,"tick"),this.Ka&&(Ea(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=R())},e.o=function(){_a.K.o.call(this),Ea(this),delete this.a},O(Ta,On);var Sa=[];function ka(e,t,n,i){w(n)||(n&&(Sa[0]=n.toString()),n=Sa);for(var r=0;r<n.length;r++){var s=ti(t,n[r],i||e.handleEvent,!1,e.g||e);if(!s)break;e.a[s.key]=s}}function Ca(e){se(e.a,(function(e,t){this.a.hasOwnProperty(t)&&si(e)}),e),e.a={}}function Aa(e){fi.call(this),this.a=null,this.g=e,e=Xe||Ze||nt&&!ht("531")&&"TEXTAREA"==e.tagName,this.h=new Ta(this),ka(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function xa(e){null!=e.a&&(d.clearTimeout(e.a),e.a=null)}function Na(e){return(e=new Kn(e.a)).type="input",e}function Da(e,t){fi.call(this),e&&(this.Oa&&Ma(this),this.qa=e,this.Na=ti(this.qa,"keypress",this,t),this.Ya=ti(this.qa,"keydown",this.Jb,t,this),this.Oa=ti(this.qa,"keyup",this.Kb,t,this))}Ta.prototype.o=function(){Ta.K.o.call(this),Ca(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},O(Aa,fi),Aa.prototype.handleEvent=function(e){if("input"==e.type)Xe&&ht(10)&&0==e.keyCode&&0==e.j||(xa(this),pi(this,Na(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(ma(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!tt;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;Xe&&229==e.keyCode&&(t=null);var n=Na(e);xa(this),this.a=function(e,t){if(_(e))t&&(e=A(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=A(e.handleEvent,e)}return 2147483647<Number(0)?-1:d.setTimeout(e,0)}((function(){this.a=null,this.g.value!=t&&pi(this,n)}),this)}},Aa.prototype.o=function(){Aa.K.o.call(this),this.h.m(),xa(this),delete this.g},O(Da,fi),(e=Da.prototype).qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var Ra={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Pa={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Oa=!nt||ht("525"),La=rt&&tt;function Ma(e){e.Na&&(si(e.Na),si(e.Ya),si(e.Oa),e.Na=null,e.Ya=null,e.Oa=null),e.qa=null,e.R=-1,e.X=-1}function Fa(e,t,n,i){Kn.call(this,i),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function Ua(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i}function ja(e,t){var n=Wt(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function Va(e){try{var t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return Xe&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function Ba(e){var t=Wt(e),n=new Ft(0,0),i=t?Wt(t):document;return e==(i=!Xe||9<=Number(ct)||"CSS1Compat"==jt(i).a.compatMode?i.documentElement:i.body)||(e=Va(e),t=Kt(i=jt(t).a),i=i.parentWindow||i.defaultView,t=Xe&&ht("10")&&i.pageYOffset!=t.scrollTop?new Ft(t.scrollLeft,t.scrollTop):new Ft(i.pageXOffset||t.scrollLeft,i.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.g=e.top+t.g),n}(e=Da.prototype).Jb=function(e){(nt||Ze)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||rt&&91==this.R&&!e.metaKey)&&(this.X=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),Oa&&!pa(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.X=ga(e.keyCode),La&&(this.Ua=e.altKey))},e.Kb=function(e){this.X=this.R=-1,this.Ua=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if(Xe&&"keypress"==e.type)var i=this.X,r=13!=i&&27!=i?t.keyCode:0;else(nt||Ze)&&"keypress"==e.type?(i=this.X,r=0<=t.charCode&&63232>t.charCode&&ma(i)?t.charCode:0):Qe&&!nt?r=ma(i=this.X)?t.keyCode:0:("keypress"==e.type?(La&&(n=this.Ua),t.keyCode==t.charCode?32>t.keyCode?(i=t.keyCode,r=0):(i=this.X,r=t.charCode):(i=t.keyCode||this.X,r=t.charCode||0)):(i=t.keyCode||this.X,r=t.charCode||0),rt&&63==r&&224==i&&(i=191));var s=i=ga(i);i?63232<=i&&i in Ra?s=Ra[i]:25==i&&e.shiftKey&&(s=9):t.keyIdentifier&&t.keyIdentifier in Pa&&(s=Pa[t.keyIdentifier]),tt&&Oa&&"keypress"==e.type&&!pa(s,this.R,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=s==this.R,this.R=s,(t=new Fa(s,r,e,t)).altKey=n,pi(this,t))},e.N=function(){return this.qa},e.o=function(){Da.K.o.call(this),Ma(this)},O(Fa,Kn),Ua.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Ua.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Ua.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Ua.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var qa={thin:2,medium:4,thick:6};function Ha(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in qa)e=qa[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=i,e=+n}return e}function Ka(){}function Ga(e){fi.call(this),this.s=e||jt(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function Wa(e,t){return e.g?Bt(t,e.g||e.s.a):null}function za(e){return e.L||(e.L=new Ta(e)),e.L}function $a(e,t){e.Ea&&j(e.Ea,t,void 0)}function Ya(e,t){var n=$t(e,"firebaseui-textfield");t?(ha(e,"firebaseui-input-invalid"),la(e,"firebaseui-input"),n&&ha(n,"firebaseui-textfield-invalid")):(ha(e,"firebaseui-input"),la(e,"firebaseui-input-invalid"),n&&la(n,"firebaseui-textfield-invalid"))}function Ja(e,t,n){Fn(e,x(Un,t=new Aa(t))),ka(za(e),t,"input",n)}function Qa(e,t,n){Fn(e,x(Un,t=new Da(t))),ka(za(e),t,"key",(function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))}))}function Xa(e,t,n){Fn(e,x(Un,t=new va(t))),ka(za(e),t,"action",(function(e){e.stopPropagation(),e.preventDefault(),n(e)}))}function Za(e){la(e,"firebaseui-hidden")}function eu(e,t){t&&zt(e,t),ha(e,"firebaseui-hidden")}function tu(e){return!ca(e,"firebaseui-hidden")&&"none"!=e.style.display}function nu(e){var t=(e=e||{}).email,n=e.disabled,i='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return i=e.wc?i+"Enter new email address":i+"Email",i+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+pn(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ln(i)}function iu(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+on(e):t+"Next",ln(t+"</button>")}function ru(){var e=""+iu({label:dn("Sign In")});return ln(e)}function su(){var e=""+iu({label:dn("Save")});return ln(e)}function ou(){var e=""+iu({label:dn("Continue")});return ln(e)}function au(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return t=(e=(e=e||{}).label)?t+on(e):t+"Choose password",ln(t+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function uu(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return ln((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function cu(){return ln('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function lu(e){var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return t=(e=(e=e||{}).label)?t+on(e):t+"Cancel",ln(t+"</button>")}function hu(e){var t="";return e.F&&e.D&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ln(t)}function du(e){var t="";return e.F&&e.D&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ln(t)}function fu(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+on(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ln(e)}function pu(e){var t=e.content;return e=e.Ab,ln('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+pn(e):"")+'">'+on(t)+"</dialog>")}function mu(e){var t=e.message;return ln(pu({content:fn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+pn(e.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+on(t)+"</div>")}))}function gu(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,i=0;i<n;i++){var r=e[i];t+='<button type="button" data-listboxid="'+pn(r.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(r.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+pn(r.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+on(r.label)+"</div></button>"}return t=""+pu({Ab:dn("firebaseui-list-box-dialog"),content:fn(t+"</div>")}),ln(t)}function vu(e){return ln((e=e||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function yu(e,t){return cn((e=(e=e||{}).ga).S?e.S:t.hb[e.providerId]?""+t.hb[e.providerId]:e.providerId&&0==e.providerId.indexOf("saml.")||e.providerId&&0==e.providerId.indexOf("oidc.")?e.providerId.substring(5):""+e.providerId)}function bu(e){_u(e,"upgradeElement")}function wu(e){_u(e,"downgradeElements")}y(Ka),Ka.prototype.a=0,O(Ga,fi),(e=Ga.prototype).Lb=Ka.Xa(),e.N=function(){return this.g},e.Za=function(e){if(this.Y&&this.Y!=e)throw Error("Method not supported");Ga.K.Za.call(this,e)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(e){if(this.na)throw Error("Component already rendered");this.g||this.kb(),e?e.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,$a(this,(function(e){!e.na&&e.N()&&e.v()}))},e.ya=function(){$a(this,(function(e){e.na&&e.ya()})),this.L&&Ca(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),$a(this,(function(e){e.m()})),this.g&&Gt(this.g),this.Y=this.g=this.oa=this.Ea=null,Ga.K.o.call(this)},e.removeChild=function(e,t){if(e){var n=p(e)?e:e.cb||(e.cb=":"+(e.Lb.a++).toString(36));if(e=this.oa&&n&&(null!==(e=this.oa)&&n in e?e[n]:void 0)||null,n&&e){var i=this.oa;if(n in i&&delete i[n],K(this.Ea,e),t&&(e.ya(),e.g&&Gt(e.g)),null==(t=e))throw Error("Unable to set parent component");t.Y=null,Ga.K.Za.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},fu.a="firebaseui.auth.soy2.element.infoBar",mu.a="firebaseui.auth.soy2.element.progressDialog",gu.a="firebaseui.auth.soy2.element.listBoxDialog",vu.a="firebaseui.auth.soy2.element.busyIndicator";var Iu=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function _u(e,t){e&&window.componentHandler&&window.componentHandler[t]&&Iu.forEach((function(n){ca(e,n)&&window.componentHandler[t](e),j(Vt(n,e),(function(e){window.componentHandler[t](e)}))}))}function Eu(e,t,n){if(Tu.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),bu(e),t&&Xa(this,e,(function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&Tu.call(this)})),!n){var i=this.N().parentElement||this.N().parentNode;if(i){var r=this;this.da=function(){if(e.open){var t=e.getBoundingClientRect().height,n=i.getBoundingClientRect().height,s=i.getBoundingClientRect().top-document.body.getBoundingClientRect().top,o=i.getBoundingClientRect().left-document.body.getBoundingClientRect().left,a=e.getBoundingClientRect().width,u=i.getBoundingClientRect().width;e.style.top=(s+(n-t)/2).toString()+"px",t=o+(u-a)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-a).toString()+"px"}else window.removeEventListener("resize",r.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Tu(){var e=Su.call(this);e&&(wu(e),e.open&&e.close(),Gt(e),this.da&&window.removeEventListener("resize",this.da))}function Su(){return Bt("firebaseui-id-dialog")}function ku(){Gt(Cu.call(this))}function Cu(){return Wa(this,"firebaseui-id-info-bar")}function Au(){return Wa(this,"firebaseui-id-dismiss-info-bar")}var xu={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Nu(e,t,n){for(var i in Hn.call(this,e,t),n)this[i]=n[i]}function Du(e,t,n,i,r){Ga.call(this,n),this.fb=e,this.eb=t,this.Fa=!1,this.Ga=i||null,this.A=this.ca=null,this.Z=oe(xu),ue(this.Z,r||{})}function Ru(e){return e.N().parentElement||e.N().parentNode}function Pu(e,t,n){Qa(e,t,(function(){n.focus()}))}function Ou(e,t,n){Qa(e,t,(function(){n()}))}function Lu(e,t,n){t=(e=e||{}).Va;var i=e.ia;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+nu(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?lu(null):"")+iu(null)+'</div></div><div class="firebaseui-card-footer">'+(i?du(n):hu(n))+"</div></form></div>",ln(e)}function Mu(e,t,n){return t=(e=e||{}).ia,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+nu(e)+uu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+cu()+'</div><div class="firebaseui-form-actions">'+ru()+'</div></div><div class="firebaseui-card-footer">'+(t?du(n):hu(n))+"</div></form></div>",ln(e)}function Fu(e,t,n){var i=(e=e||{}).Tb;t=e.Ta;var r=e.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+nu(e);return i?(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+pn(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',e=ln(e)):e="",n=s+e+au(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?lu(null):"")+su()+'</div></div><div class="firebaseui-card-footer">'+(r?du(n):hu(n))+"</div></form></div>",ln(n)}function Uu(e,t,n){return t=(e=e||{}).Ta,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+nu(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?lu(null):"")+iu({label:dn("Send")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(e)}function ju(e,t,n){t=e.G;var i="";return i+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+on(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(i+='<div class="firebaseui-form-actions">'+iu({label:dn("Done")})+"</div>"),i+='</div><div class="firebaseui-card-footer">'+hu(n)+"</div></div>",ln(i)}function Vu(e,t,n){return ln('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+vu(null)+"</div></div>")}function Bu(e,t,n){return ln('<div class="firebaseui-container firebaseui-id-page-spinner">'+vu({tb:!0})+"</div>")}function qu(){return ln('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Hu(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+on(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ln('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+lu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(t)}function Ku(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+ln('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+lu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(e)}function Gu(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+nu(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lu(null)+iu(null)+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(e)}function Wu(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lu({label:dn("Dismiss")})+"</div></div></div>";return ln(e)}function zu(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lu({label:dn("Dismiss")})+"</div></div></div>";return ln(e)}function $u(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="You’ve already used <strong>"+on(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+uu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+cu()+'</div><div class="firebaseui-form-actions">'+ru()+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(t)}function Yu(e,t,n){var i=e.email;return t="",e=dn(e=""+yu(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(i="You’ve already used <strong>"+on(i)+"</strong>. You can connect your <strong>"+on(e)+"</strong> account with <strong>"+on(i)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+on(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru()+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(t)}function Ju(e,t,n){t="";var i=""+yu(e,n);return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+on(i=dn(i))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(i="If you still want to connect your <strong>"+on(i)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou()+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(t)}function Qu(e,t,n){var i=e.email;return t="",e=dn(e=""+yu(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(i="You’ve already used <strong>"+on(i)+"</strong>. Sign in with "+on(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+iu({label:dn("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(t)}function Xu(e,t,n){var i=(e=e||{}).kc;t=e.yb,e=e.Eb;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return r+=i?i="<strong>"+on(i)+"</strong> is not authorized to view the requested page.":"User is not authorized to view the requested page.",r+="</p>",t&&(r+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(t="Please contact <strong>"+on(t)+"</strong> for authorization.")+"</p>"),r+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',e&&(r+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),r+='</div><div class="firebaseui-form-actions">'+lu({label:dn("Back")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(r)}function Zu(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+on(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lu(null)+iu({label:dn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(t)}function ec(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+on(e.email)+"</strong></p>"+au(function(e){function t(){}var n={label:dn("New password")};for(var i in t.prototype=e,e=new t,n)e[i]=n[i];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+su()+"</div></div></form></div>",ln(t)}function tc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ou()+"</div>":"")+"</div></div>",ln(e)}function nc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ou()+"</div>":"")+"</div></div>",ln(e)}function ic(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+on(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+ou()+"</div>":"")+"</div></form></div>",ln(n)}function rc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ou()+"</div>":"")+"</div></div>",ln(e)}function sc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ou()+"</div>":"")+"</div></div>",ln(e)}function oc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ou()+"</div>":"")+"</div></div>",ln(e)}function ac(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="You can now sign in with your new email <strong>"+on(e.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+ou()+"</div>":"")+"</div></div>",ln(n)}function uc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ou()+"</div>":"")+"</div></div>",ln(e)}function cc(e){var t=e.factorId,n=e.phoneNumber;e=e.G;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return i+="phone"===t?t="The <strong>"+on(t)+" "+on(n)+"</strong> was removed as a second authentication step.":"The device or app was removed as a second authentication step.",i+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+ou()+"</div>":"")+"</div></form></div>",ln(i)}function lc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+ou()+"</div>":"")+"</div></div>",ln(e)}function hc(e){var t=e.zb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+on(e.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',t&&(e+=iu({label:dn("Retry")})),ln(e+"</div></div></div>")}function dc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+on(e.errorMessage)+"</p></div></div>",ln(e)}function fc(e,t,n){var i=e.Qb;return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+on(e.jc)+"?")+'</h2><p class="firebaseui-text">'+(i="You originally wanted to sign in with "+on(i))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lu(null)+iu({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form></div>",ln(t)}function pc(e,t,n){var i='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Sb).length;for(var r=0;r<t;r++){var s={ga:e[r]},o=n,a=(s=s||{}).ga,u=s,c="";switch((u=u||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}u=(u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+pn(cn(c))+' firebaseui-id-idp-button" data-provider-id="'+pn(a.providerId)+'" style="background-color:')+pn(gn(cn((c=(c=(c=s)||{}).ga).ta?c.ta:o.wa[c.providerId]?""+o.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+o.wa.saml:0==c.providerId.indexOf("oidc.")?""+o.wa.oidc:""+o.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=s;c=o,l=(l=l||{}).ga,c=hn(l.za?mn(l.za):c.xa[l.providerId]?mn(c.xa[l.providerId]):0==l.providerId.indexOf("saml.")?mn(c.xa.saml):0==l.providerId.indexOf("oidc.")?mn(c.xa.oidc):mn(c.xa.password)),u=u+pn(mn(c))+'"></span>',"password"==a.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?u+=on(a.V):a.S?u+=s="Sign in with "+on(yu(s,o)):u+="Sign in with email",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=a.S?u+on(a.S):u+"Email",u+="</span>"):"phone"==a.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?u+=on(a.V):a.S?u+=s="Sign in with "+on(yu(s,o)):u+="Sign in with phone",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=a.S?u+on(a.S):u+"Phone",u+="</span>"):"anonymous"==a.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?u+=on(a.V):a.S?u+=s="Sign in with "+on(yu(s,o)):u+="Continue as guest",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=a.S?u+on(a.S):u+"Guest",u+="</span>"):(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?u+=on(a.V):u+=c="Sign in with "+on(yu(s,o)),u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(a.S?on(a.S):on(yu(s,o)))+"</span>"),i+='<li class="firebaseui-list-item">'+(a=ln(u+"</button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+du(n)+"</div></div>",ln(i)}function mc(e,t,n){var i,r=(e=e||{}).Gb,s=e.Va;return t=e.ia,e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+pn(null!=(e=(e=e||{}).Aa)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',i=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ln(e))+(i=r?ln('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(s?lu(null):"")+iu({label:dn("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',t=n.F&&n.D?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=ln(t+"</p>")):n=ln('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+hu(n),ln(i+n+"</div></form></div>")}function gc(e,t,n){var i="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+on(t=(e=e||{}).phoneNumber)+"</a>",on(t),t=i,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(i=ln('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lu(null)+iu({label:dn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hu(n)+"</div></form>",e=ln('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ln(t+(n+e+"</div>"))}function vc(){return ln('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function yc(e,t,n){var i='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';t=(e=e.ec).length;for(var r=0;r<t;r++){var s=e[r],o="",a=on(s.displayName),u=s.tenantId?s.tenantId:"top-level-project";o+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+pn(u=dn(u))+' firebaseui-id-tenant-selection-button"'+(s.tenantId?'data-tenant-id="'+pn(s.tenantId)+'"':"")+'style="background-color:'+pn(gn(s.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+pn(mn(s.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?o+=on(s.V):o+=s="Sign in to "+on(s.displayName),i+='<li class="firebaseui-list-item">'+(o=ln(o+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+a+"</span></button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+du(n)+"</div></div>",ln(i)}function bc(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+nu(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+iu(null)+'</div></div><div class="firebaseui-card-footer">'+du(n)+"</div></form></div>",ln(e)}function wc(){return Wa(this,"firebaseui-id-submit")}function Ic(){return Wa(this,"firebaseui-id-secondary-link")}function _c(e,t){Xa(this,wc.call(this),(function(t){e(t)}));var n=Ic.call(this);n&&t&&Xa(this,n,(function(e){t(e)}))}function Ec(){return Wa(this,"firebaseui-id-password")}function Tc(){return Wa(this,"firebaseui-id-password-error")}function Sc(){var e=Ec.call(this),t=Tc.call(this);Ja(this,e,(function(){tu(t)&&(Ya(e,!0),Za(t))}))}function kc(){var e=Ec.call(this),t=Tc.call(this);return da(e)?(Ya(e,!0),Za(t),t=!0):(Ya(e,!1),eu(t,cn("Enter your password").toString()),t=!1),t?da(e):null}function Cc(e,t,n,i,r,s){Du.call(this,$u,{email:e},s,"passwordLinking",{F:i,D:r}),this.w=t,this.H=n}O(Nu,Hn),O(Du,Ga),(e=Du.prototype).kb=function(){var e=tn(this.fb,this.eb,this.Z,this.s);bu(e),this.g=e},e.v=function(){if(Du.K.v.call(this),yi(Ru(this),new Nu("pageEnter",Ru(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var e=this.Z.F;Xa(this,this.bb(),(function(){e()}))}if(this.ab()&&this.Z.D){var t=this.Z.D;Xa(this,this.ab(),(function(){t()}))}},e.ya=function(){yi(Ru(this),new Nu("pageExit",Ru(this),{pageId:this.Ga})),Du.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,wu(this.N()),Du.K.o.call(this)},e.I=function(e,t,n,i){function r(){if(s.T)return null;s.Fa=!1,window.clearTimeout(s.ca),s.ca=null,s.A&&(wu(s.A),Gt(s.A),s.A=null)}var s=this;return s.Fa?null:(function(e){e.Fa=!0;var t=ca(e.N(),"firebaseui-use-spinner");e.ca=window.setTimeout((function(){e.N()&&null===e.A&&(e.A=tn(vu,{tb:t},null,e.s),e.N().appendChild(e.A),bu(e.A))}),500)}(s),e.apply(null,t).then(n,i).then(r,r))},N(Du.prototype,{a:function(e){ku.call(this);var t=tn(fu,{message:e},null,this.s);this.N().appendChild(t),Xa(this,Au.call(this),(function(){Gt(t)}))},yc:ku,Ac:Cu,zc:Au,$:function(e,t){e=tn(mu,{Ma:e,message:t},null,this.s),Eu.call(this,e)},h:Tu,Cb:Su,Cc:function(){return Wa(this,"firebaseui-tos")},bb:function(){return Wa(this,"firebaseui-tos-link")},ab:function(){return Wa(this,"firebaseui-pp-link")},Dc:function(){return Wa(this,"firebaseui-tos-list")}}),Lu.a="firebaseui.auth.soy2.page.signIn",Mu.a="firebaseui.auth.soy2.page.passwordSignIn",Fu.a="firebaseui.auth.soy2.page.passwordSignUp",Uu.a="firebaseui.auth.soy2.page.passwordRecovery",ju.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Vu.a="firebaseui.auth.soy2.page.callback",Bu.a="firebaseui.auth.soy2.page.spinner",qu.a="firebaseui.auth.soy2.page.blank",Hu.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Ku.a="firebaseui.auth.soy2.page.emailNotReceived",Gu.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",Wu.a="firebaseui.auth.soy2.page.differentDeviceError",zu.a="firebaseui.auth.soy2.page.anonymousUserMismatch",$u.a="firebaseui.auth.soy2.page.passwordLinking",Yu.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Ju.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Qu.a="firebaseui.auth.soy2.page.federatedLinking",Xu.a="firebaseui.auth.soy2.page.unauthorizedUser",Zu.a="firebaseui.auth.soy2.page.unsupportedProvider",ec.a="firebaseui.auth.soy2.page.passwordReset",tc.a="firebaseui.auth.soy2.page.passwordResetSuccess",nc.a="firebaseui.auth.soy2.page.passwordResetFailure",ic.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",rc.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",sc.a="firebaseui.auth.soy2.page.emailVerificationSuccess",oc.a="firebaseui.auth.soy2.page.emailVerificationFailure",ac.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",uc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",cc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",lc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",hc.a="firebaseui.auth.soy2.page.recoverableError",dc.a="firebaseui.auth.soy2.page.unrecoverableError",fc.a="firebaseui.auth.soy2.page.emailMismatch",pc.a="firebaseui.auth.soy2.page.providerSignIn",mc.a="firebaseui.auth.soy2.page.phoneSignInStart",gc.a="firebaseui.auth.soy2.page.phoneSignInFinish",vc.a="firebaseui.auth.soy2.page.signOut",yc.a="firebaseui.auth.soy2.page.selectTenant",bc.a="firebaseui.auth.soy2.page.providerMatchByEmail",u(Cc,Du),Cc.prototype.v=function(){this.P(),this.M(this.w,this.H),Ou(this,this.i(),this.w),this.i().focus(),Du.prototype.v.call(this)},Cc.prototype.o=function(){this.w=null,Du.prototype.o.call(this)},Cc.prototype.j=function(){return da(Wa(this,"firebaseui-id-email"))},N(Cc.prototype,{i:Ec,B:Tc,P:Sc,u:kc,ea:wc,ba:Ic,M:_c});var Ac=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function xc(){return Wa(this,"firebaseui-id-email")}function Nc(){return Wa(this,"firebaseui-id-email-error")}function Dc(e){var t=xc.call(this),n=Nc.call(this);Ja(this,t,(function(){tu(n)&&(Ya(t,!0),Za(n))})),e&&Qa(this,t,(function(){e()}))}function Rc(){return Y(da(xc.call(this))||"")}function Pc(){var e=xc.call(this),t=Nc.call(this),n=da(e)||"";return n?Ac.test(n)?(Ya(e,!0),Za(t),t=!0):(Ya(e,!1),eu(t,cn("That email address isn't correct").toString()),t=!1):(Ya(e,!1),eu(t,cn("Enter your email address to continue").toString()),t=!1),t?Y(da(e)):null}function Oc(e,t,n,i,r,s,o){Du.call(this,Mu,{email:n,ia:!!s},o,"passwordSignIn",{F:i,D:r}),this.w=e,this.H=t}function Lc(e,t,n,i,r,s){Du.call(this,e,t,i,r||"notice",s),this.i=n||null}function Mc(e,t,n,i,r){Lc.call(this,ju,{email:e,G:!!t},t,r,"passwordRecoveryEmailSent",{F:n,D:i})}function Fc(e,t){Lc.call(this,sc,{G:!!e},e,t,"emailVerificationSuccess")}function Uc(e,t){Lc.call(this,oc,{G:!!e},e,t,"emailVerificationFailure")}function jc(e,t,n){Lc.call(this,ac,{email:e,G:!!t},t,n,"verifyAndChangeEmailSuccess")}function Vc(e,t){Lc.call(this,uc,{G:!!e},e,t,"verifyAndChangeEmailFailure")}function Bc(e,t){Lc.call(this,lc,{G:!!e},e,t,"revertSecondFactorAdditionFailure")}function qc(e){Lc.call(this,vc,void 0,void 0,e,"signOut")}function Hc(e,t){Lc.call(this,tc,{G:!!e},e,t,"passwordResetSuccess")}function Kc(e,t){Lc.call(this,nc,{G:!!e},e,t,"passwordResetFailure")}function Gc(e,t){Lc.call(this,rc,{G:!!e},e,t,"emailChangeRevokeFailure")}function Wc(e,t,n){Lc.call(this,hc,{errorMessage:e,zb:!!t},t,n,"recoverableError")}function zc(e,t){Lc.call(this,dc,{errorMessage:e},void 0,t,"unrecoverableError")}function $c(e){if("auth/invalid-credential"===e.code&&e.message&&-1!==e.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(e.message&&-1!==e.message.indexOf("HTTP Cloud Function returned an error:")){var t=JSON.parse(e.message.substring(e.message.indexOf("{"),e.message.lastIndexOf("}")+1));return{code:e.code,message:t&&t.error&&t.error.message||e.message}}return e}function Yc(e,t,n,i){function r(n){if(!n.name||"cancel"!=n.name){e:{var i=n.message;try{var r=((JSON.parse(i).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(r&&r.length){var s=!0;break e}}catch(e){}s=!1}if(s)n=Ru(t),t.m(),nl(e,n,void 0,cn("Your sign-in session has expired. Please try again.").toString());else{if(s=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;s=Xc(n)}t.a(s)}}}if(kh(e),i)return Jc(e,n),qi();if(!n.credential)throw Error("No credential found!");if(!gh(e).currentUser&&!n.user)throw Error("User not logged in.");try{var s=function(e,t){return xh(e),Eh(e,(function(n){if(e.j&&!e.j.isAnonymous&&So(Ah(e))&&!gh(e).currentUser)return Dh(e).then((function(){return"password"==t.credential.providerId&&(t.credential=null),t}));if(n)return Dh(e).then((function(){return n.linkWithCredential(t.credential)})).then((function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t.additionalUserInfo=e.additionalUserInfo,t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Rh(e,n,t.credential)}));if(!t.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Dh(e).then((function(){return vh(e).updateCurrentUser(t.user)})).then((function(){return t.user=vh(e).currentUser,t.operationType="signIn",t.credential&&t.credential.providerId&&"password"==t.credential.providerId&&(t.credential=null),t}))}))}(e,n)}catch(e){return Kr(e.code||e.message,e),t.a(e.code||e.message),qi()}return n=s.then((function(t){Jc(e,t)}),r).then(void 0,r),Sh(e,s),qi(n)}function Jc(e,t){if(!t.user)throw Error("No user found");var n=Go(Ah(e));if(Ko(Ah(e))&&n&&$r("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=Go(Ah(e));var i=Js(yh(e))||void 0;$s(Ks,yh(e));var r=!1;tr()?(n&&!n(t,i)||(r=!0,Mt(window.opener.location,Qc(e,i))),n||window.close()):n&&!n(t,i)||(r=!0,Mt(window.location,Qc(e,i))),r||e.reset()}else{n=t.user,t=t.credential,i=Ko(Ah(e)),r=Js(yh(e))||void 0,$s(Ks,yh(e));var s=!1;tr()?(i&&!i(n,t,r)||(s=!0,Mt(window.opener.location,Qc(e,r))),i||window.close()):i&&!i(n,t,r)||(s=!0,Mt(window.location,Qc(e,r))),s||e.reset()}}function Qc(e,t){if(!(e=t||Ah(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function Xc(e){var t={code:e.code},n="";switch((t=t||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":n+=cn("Please login again to perform this operation");break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=Cn();break;case"auth/invalid-verification-code":n+=cn("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=cn(n).toString())return t;try{return JSON.parse(e.message),Kr("Internal error: "+e.message,void 0),xn().toString()}catch(t){return e.message}}function Zc(e,t,n,r){function s(){!function(e,t){Ys(Hs,{tenantId:e.a},t)}(new is(e.h.tenantId||null),yh(e)),Sh(e,t.I(A(e.dc,e),[c],(function(){if("file:"===(window.location&&window.location.protocol))return Sh(e,fh(e).then((function(n){t.m(),$s(Hs,yh(e)),aa("callback",e,u,qi(n))}),o))}),a))}function o(i){if($s(Hs,yh(e)),!i.name||"cancel"!=i.name)switch(i=$c(i),i.code){case"auth/popup-blocked":s();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.a(Xc(i));break;case"auth/admin-restricted-operation":t.m(),Po(Ah(e))?aa("handleUnauthorizedUser",e,u,null,n):aa("callback",e,u,Hi(i));break;default:t.m(),aa("callback",e,u,Hi(i))}}function a(n){$s(Hs,yh(e)),n.name&&"cancel"==n.name||(Kr("signInWithRedirect: "+n.code,void 0),n=Xc(n),"blank"==t.Ga&&qo(Ah(e))?(t.m(),aa("providerSignIn",e,u,n)):t.a(n))}var u=Ru(t),c=function(e,t,n){var r=Eo[t]&&i.default.auth[Eo[t]]?new i.default.auth[Eo[t]]:0==t.indexOf("saml.")?new i.default.auth.SAMLAuthProvider(t):new i.default.auth.OAuthProvider(t);if(!r)throw Error("Invalid Firebase Auth provider!");var s=Oo(Ah(e),t);if(r.addScope)for(var o=0;o<s.length;o++)r.addScope(s[o]);return s=Lo(Ah(e),t)||{},n&&(e=t==i.default.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==i.default.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=xo(Ah(e),t))&&e.Ob)&&(s[e]=n),r.setCustomParameters&&r.setCustomParameters(s),r}(e,n,r);Ho(Ah(e))==ta?s():Sh(e,function(e,t){return xh(e),Eh(e,(function(n){return n&&!Qs(yh(e))?n.linkWithPopup(t).then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Rh(e,t)})):gh(e).signInWithPopup(t)}))}(e,c).then((function(n){t.m(),aa("callback",e,u,qi(n))}),o))}function el(e){return 1==(e=Ao(Ah(e))).length&&e[0]==i.default.auth.EmailAuthProvider.PROVIDER_ID}function tl(e){return 1==(e=Ao(Ah(e))).length&&e[0]==i.default.auth.PhoneAuthProvider.PROVIDER_ID}function nl(e,t,n,i){el(e)?i?aa("signIn",e,t,n,i):ol(e,t,n):e&&tl(e)&&!i?aa("phoneSignInStart",e,t):e&&qo(Ah(e))&&!i?aa("federatedRedirect",e,t,n):aa("providerSignIn",e,t,i,n)}function il(e,t,n,i){var r=Ru(t);Sh(e,t.I(A(gh(e).fetchSignInMethodsForEmail,gh(e)),[n],(function(s){t.m(),rl(e,r,s,n,i)}),(function(e){e=Xc(e),t.a(e)})))}function rl(e,t,n,r,s,o){n.length||Bo(Ah(e))&&!Bo(Ah(e))?H(n,i.default.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?aa("passwordSignIn",e,t,r,o):1==n.length&&n[0]===i.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Bo(Ah(e))?aa("sendEmailLinkForSignIn",e,t,r,(function(){aa("signIn",e,t)})):aa("unsupportedProvider",e,t,r):(n=Io(n,Ao(Ah(e))))?(Zs(new es(r),yh(e)),aa("federatedSignIn",e,t,r,n,s)):aa("unsupportedProvider",e,t,r):Ro(Ah(e))?aa("handleUnauthorizedUser",e,t,r,i.default.auth.EmailAuthProvider.PROVIDER_ID):Bo(Ah(e))?aa("sendEmailLinkForSignIn",e,t,r,(function(){aa("signIn",e,t)})):aa("passwordSignUp",e,t,r,void 0,void 0,o)}function sl(e,t,n,i,r,s){var o=Ru(t);Sh(e,t.I(A(e.Ib,e),[n,s],(function(){t.m(),aa("emailLinkSignInSent",e,o,n,i,s)}),r))}function ol(e,t,n){n?aa("prefilledEmailSignIn",e,t,n):aa("signIn",e,t)}function al(){return ye(rr(),"oobCode")}function ul(){var e=ye(rr(),"continueUrl");return e?function(){Mt(window.location,e)}:null}function cl(e,t){Du.call(this,zu,void 0,t,"anonymousUserMismatch"),this.i=e}function ll(e){Du.call(this,Vu,void 0,e,"callback")}function hl(e,t,n){if(n.user){var i={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},r=Qs(yh(e)),s=r&&r.g;if(s&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,s))!function(e,t,n){var i=Ru(t);Sh(e,Dh(e).then((function(){t.m(),aa("emailMismatch",e,i,n)}),(function(e){e.name&&"cancel"==e.name||(e=Xc(e.code),t.a(e))})))}(e,t,i);else{var o=r&&r.a;o?Sh(e,n.user.linkWithCredential(o).then((function(n){i={user:n.user,credential:o,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},dl(e,t,i)}),(function(n){fl(e,t,n)}))):dl(e,t,i)}}else n=Ru(t),t.m(),Xs(yh(e)),nl(e,n)}function dl(e,t,n){Xs(yh(e)),Yc(e,t,n)}function fl(e,t,n){var i=Ru(t);Xs(yh(e)),n=Xc(n),t.m(),nl(e,i,void 0,n)}function pl(e,t,n,r){var s=Ru(t);Sh(e,gh(e).fetchSignInMethodsForEmail(n).then((function(o){t.m(),o.length?H(o,i.default.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?aa("passwordLinking",e,s,n):1==o.length&&o[0]===i.default.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?aa("emailLinkSignInLinking",e,s,n):(o=Io(o,Ao(Ah(e))))?aa("federatedLinking",e,s,n,o,r):(Xs(yh(e)),aa("unsupportedProvider",e,s,n)):(Xs(yh(e)),aa("passwordRecovery",e,s,n,!1,Nn().toString()))}),(function(n){fl(e,t,n)})))}function ml(e,t){Du.call(this,Wu,void 0,t,"differentDeviceError"),this.i=e}function gl(e,t,n,i){Du.call(this,ic,{email:e,G:!!n},i,"emailChangeRevoke"),this.l=t,this.i=n||null}function vl(){return Wa(this,"firebaseui-id-new-password")}function yl(){return Wa(this,"firebaseui-id-password-toggle")}function bl(){this.Ra=!this.Ra;var e=yl.call(this),t=vl.call(this);this.Ra?(t.type="text",la(e,"firebaseui-input-toggle-off"),ha(e,"firebaseui-input-toggle-on")):(t.type="password",la(e,"firebaseui-input-toggle-on"),ha(e,"firebaseui-input-toggle-off")),t.focus()}function wl(){return Wa(this,"firebaseui-id-new-password-error")}function Il(){this.Ra=!1;var e=vl.call(this);e.type="password";var t=wl.call(this);Ja(this,e,(function(){tu(t)&&(Ya(e,!0),Za(t))}));var n=yl.call(this);la(n,"firebaseui-input-toggle-on"),ha(n,"firebaseui-input-toggle-off"),function(e,t,n){Fn(e,x(Un,t=new Ia(t))),ka(za(e),t,"focusin",n)}(this,e,(function(){la(n,"firebaseui-input-toggle-focus"),ha(n,"firebaseui-input-toggle-blur")})),function(e,t,n){Fn(e,x(Un,t=new Ia(t))),ka(za(e),t,"focusout",n)}(this,e,(function(){la(n,"firebaseui-input-toggle-blur"),ha(n,"firebaseui-input-toggle-focus")})),Xa(this,n,A(bl,this))}function _l(){var e=vl.call(this),t=wl.call(this);return da(e)?(Ya(e,!0),Za(t),t=!0):(Ya(e,!1),eu(t,cn("Enter your password").toString()),t=!1),t?da(e):null}function El(e,t,n){Du.call(this,ec,{email:e},n,"passwordReset"),this.l=t}function Tl(e,t,n,i,r){Du.call(this,cc,{factorId:e,phoneNumber:n||null,G:!!i},r,"revertSecondFactorAdditionSuccess"),this.l=t,this.i=i||null}function Sl(e,t,n,i){"auth/weak-password"==(i&&i.code)?(e=Xc(i),Ya(n.i(),!1),eu(n.w(),e),n.i().focus()):(n&&n.m(),(n=new Kc).render(t),ph(e,n))}function kl(e,t){try{var n="number"==typeof e.selectionStart}catch(e){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):Xe&&!ht("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function Cl(e,t,n,i,r,s){Du.call(this,Gu,{email:n},s,"emailLinkSignInConfirmation",{F:i,D:r}),this.l=e,this.u=t}function Al(e,t,n,i,r){Du.call(this,Ju,{ga:e},r,"emailLinkSignInLinkingDifferentDevice",{F:n,D:i}),this.i=t}function xl(e){Du.call(this,qu,void 0,e,"blank")}function Nl(e,t,n,r,s){var o=new xl,a=new je(n),u=a.a.a.get(He.$a)||"",c=a.a.a.get(He.Sa)||"",l="1"===a.a.a.get(He.Qa),h=Ve(a),d=a.a.a.get(He.PROVIDER_ID)||null;a=a.a.a.get(He.vb)||null,Ch(e,a);var f=!zs(Gs,yh(e)),p=r||function(e,t){var n=null;if(t=zs(Gs,t))try{var i=Ss(e,t),r=JSON.parse(i);n=r&&r.email||null}catch(e){}return n}(c,yh(e)),m=(r=function(e,t){var n=null;if(t=zs(Ws,t))try{var i=Ss(e,t);n=JSON.parse(i)}catch(e){}return ns(n||null)}(c,yh(e)))&&r.a;d&&m&&m.providerId!==d&&(m=null),o.render(t),ph(e,o),Sh(e,o.I((function(){var t=qi(null);t=h&&f||f&&l?Hi(Error("anonymous-user-not-found")):function(e,t){var n=Ve(new je(t));return n?(t=new Li((function(t,i){var r=vh(e).onAuthStateChanged((function(e){r(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?i(Error("anonymous-user-mismatch")):i(Error("anonymous-user-not-found"))}));Sh(e,r)})),Sh(e,t),t):qi(null)}(e,n).then((function(e){if(d&&!m)throw Error("pending-credential-not-found");return e}));var i=null;return t.then((function(t){return i=t,s?null:gh(e).checkActionCode(u)})).then((function(){return i}))}),[],(function(r){p?function(e,t,n,r,s,o){var a=Ru(t);t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",cn("Signing in...").toString());var u=null;s=(o?function(e,t,n,r,s){xh(e);var o=s||null,a=i.default.auth.EmailAuthProvider.credentialWithLink(n,r);return n=o?gh(e).signInWithEmailLink(n,r).then((function(e){return e.user.linkWithCredential(o)})).then((function(){return Dh(e)})).then((function(){return Rh(e,{code:"auth/email-already-in-use"},o)})):gh(e).fetchSignInMethodsForEmail(n).then((function(n){return n.length?Rh(e,{code:"auth/email-already-in-use"},a):t.linkWithCredential(a)})),Sh(e,n),n}(e,o,n,r,s):function(e,t,n,i){xh(e);var r,s=i||null;return t=gh(e).signInWithEmailLink(t,n).then((function(e){if(r={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},s)return e.user.linkWithCredential(s).then((function(e){r={user:e.user,credential:s,operationType:r.operationType,additionalUserInfo:e.additionalUserInfo}}))})).then((function(){Dh(e)})).then((function(){return vh(e).updateCurrentUser(r.user)})).then((function(){return r.user=vh(e).currentUser,r})),Sh(e,t),t}(e,n,r,s)).then((function(n){$s(Ws,yh(e)),$s(Gs,yh(e)),t.h(),t.$("firebaseui-icon-done",cn("Signed in!").toString()),u=setTimeout((function(){t.h(),Yc(e,t,n,!0)}),1e3),Sh(e,(function(){t&&(t.h(),t.m()),clearTimeout(u)}))}),(function(i){if(t.h(),t.m(),!i.name||"cancel"!=i.name){var s=Xc(i=$c(i));"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?($s(Ws,yh(e)),$s(Gs,yh(e))):"auth/invalid-email"==i.code?(s=cn("The email provided does not match the current sign-in session.").toString(),aa("emailLinkConfirmation",e,a,r,Dl,null,s)):nl(e,a,n,s)}})),Sh(e,s)}(e,o,p,n,m,r):l?(o.m(),aa("differentDeviceError",e,t)):(o.m(),aa("emailLinkConfirmation",e,t,n,Dl))}),(function(i){var r=void 0;if(!i||!i.name||"cancel"!=i.name)switch(o.m(),i&&i.message){case"anonymous-user-not-found":aa("differentDeviceError",e,t);break;case"anonymous-user-mismatch":aa("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":aa("emailLinkNewDeviceLinking",e,t,n,Rl);break;default:i&&(r=Xc(i)),nl(e,t,void 0,r)}})))}function Dl(e,t,n,i){Nl(e,t,i,n,!0)}function Rl(e,t,n){Nl(e,t,n)}function Pl(e,t,n,i,r,s){Du.call(this,Yu,{email:e,ga:t},s,"emailLinkSignInLinking",{F:i,D:r}),this.i=n}function Ol(e,t,n,i,r,s){Du.call(this,Hu,{email:e},s,"emailLinkSignInSent",{F:i,D:r}),this.u=t,this.i=n}function Ll(e,t,n,i,r,s,o){Du.call(this,fc,{jc:e,Qb:t},o,"emailMismatch",{F:r,D:s}),this.l=n,this.i=i}function Ml(e,t,n,i,r){Du.call(this,Ku,void 0,r,"emailNotReceived",{F:n,D:i}),this.l=e,this.i=t}function Fl(e,t,n,i,r,s){Du.call(this,Qu,{email:e,ga:t},s,"federatedLinking",{F:i,D:r}),this.i=n}function Ul(e,t,n,i,r,s){Du.call(this,Uu,{email:n,Ta:!!t},s,"passwordRecovery",{F:i,D:r}),this.l=e,this.u=t}function jl(){return Wa(this,"firebaseui-id-name")}function Vl(){return Wa(this,"firebaseui-id-name-error")}function Bl(e,t,n,i,r,s,o,a,u){Du.call(this,Fu,{email:i,Tb:e,name:r,Ta:!!n,ia:!!a},u,"passwordSignUp",{F:s,D:o}),this.w=t,this.H=n,this.B=e}function ql(){return Wa(this,"firebaseui-id-phone-confirmation-code")}function Hl(){return Wa(this,"firebaseui-id-phone-confirmation-code-error")}function Kl(){return Wa(this,"firebaseui-id-resend-countdown")}function Gl(e,t,n,i,r,s,o,a,u){Du.call(this,gc,{phoneNumber:r},u,"phoneSignInFinish",{F:o,D:a}),this.jb=s,this.i=new _a(1e3),this.B=s,this.P=e,this.l=t,this.H=n,this.M=i}u(Oc,Du),Oc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Pu(this,this.l(),this.i()),Ou(this,this.i(),this.w),da(this.l())?this.i().focus():this.l().focus(),Du.prototype.v.call(this)},Oc.prototype.o=function(){this.H=this.w=null,Du.prototype.o.call(this)},N(Oc.prototype,{l:xc,U:Nc,P:Dc,M:Rc,j:Pc,i:Ec,B:Tc,ea:Sc,u:kc,ua:wc,pa:Ic,ba:_c}),O(Lc,Du),Lc.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Lc.K.v.call(this)},Lc.prototype.o=function(){this.i=null,Lc.K.o.call(this)},N(Lc.prototype,{l:wc,w:Ic,u:_c}),O(Mc,Lc),O(Fc,Lc),O(Uc,Lc),O(jc,Lc),O(Vc,Lc),O(Bc,Lc),O(qc,Lc),O(Hc,Lc),O(Kc,Lc),O(Gc,Lc),O(Wc,Lc),O(zc,Lc),u(cl,Du),cl.prototype.v=function(){var e=this;Xa(this,this.l(),(function(){e.i()})),this.l().focus(),Du.prototype.v.call(this)},cl.prototype.o=function(){this.i=null,Du.prototype.o.call(this)},N(cl.prototype,{l:Ic}),oa.anonymousUserMismatch=function(e,t){var n=new cl((function(){n.m(),nl(e,t)}));n.render(t),ph(e,n)},u(ll,Du),ll.prototype.I=function(e,t,n,i){return e.apply(null,t).then(n,i)},oa.callback=function(e,t,n){var i=new ll;i.render(t),ph(e,i),n=n||fh(e),Sh(e,n.then((function(t){hl(e,i,t)}),(function(n){if((n=$c(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)Zs(new es(n.email,n.credential),yh(e)),pl(e,i,n.email);else if(n&&"auth/user-cancelled"==n.code){var r=Qs(yh(e)),s=Xc(n);r&&r.a?pl(e,i,r.g,s):r?il(e,i,r.g,s):fl(e,i,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&el(e)?hl(e,i,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&Po(Ah(e))?(i.m(),Xs(yh(e)),aa("handleUnauthorizedUser",e,t,null,null)):fl(e,i,n))})))},u(ml,Du),ml.prototype.v=function(){var e=this;Xa(this,this.l(),(function(){e.i()})),this.l().focus(),Du.prototype.v.call(this)},ml.prototype.o=function(){this.i=null,Du.prototype.o.call(this)},N(ml.prototype,{l:Ic}),oa.differentDeviceError=function(e,t){var n=new ml((function(){n.m(),nl(e,t)}));n.render(t),ph(e,n)},u(gl,Du),gl.prototype.v=function(){var e=this;Xa(this,Wa(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),Du.prototype.v.call(this)},gl.prototype.o=function(){this.l=this.i=null,Du.prototype.o.call(this)},N(gl.prototype,{u:wc,B:Ic,w:_c}),u(El,Du),El.prototype.v=function(){this.H(),this.B(this.l),Ou(this,this.i(),this.l),this.i().focus(),Du.prototype.v.call(this)},El.prototype.o=function(){this.l=null,Du.prototype.o.call(this)},N(El.prototype,{i:vl,w:wl,M:yl,H:Il,u:_l,U:wc,P:Ic,B:_c}),u(Tl,Du),Tl.prototype.v=function(){var e=this;Xa(this,Wa(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),Du.prototype.v.call(this)},Tl.prototype.o=function(){this.l=this.i=null,Du.prototype.o.call(this)},N(Tl.prototype,{u:wc,B:Ic,w:_c}),oa.passwordReset=function(e,t,n,i){Sh(e,gh(e).verifyPasswordResetCode(n).then((function(r){var s=new El(r,(function(){!function(e,t,n,i,r){var s=n.u();s&&Sh(e,n.I(A(gh(e).confirmPasswordReset,gh(e)),[i,s],(function(){n.m();var i=new Hc(r);i.render(t),ph(e,i)}),(function(i){Sl(e,t,n,i)})))}(e,t,s,n,i)}));s.render(t),ph(e,s)}),(function(){Sl(e,t)})))},oa.emailChangeRevocation=function(e,t,n){var i=null;Sh(e,gh(e).checkActionCode(n).then((function(t){return i=t.data.email,gh(e).applyActionCode(n)})).then((function(){!function(e,t,n){var i=new gl(n,(function(){Sh(e,i.I(A(gh(e).sendPasswordResetEmail,gh(e)),[n],(function(){i.m(),(i=new Mc(n,void 0,Uo(Ah(e)),jo(Ah(e)))).render(t),ph(e,i)}),(function(){i.a(An().toString())})))}));i.render(t),ph(e,i)}(e,t,i)}),(function(){var n=new Gc;n.render(t),ph(e,n)})))},oa.emailVerification=function(e,t,n,i){Sh(e,gh(e).applyActionCode(n).then((function(){var n=new Fc(i);n.render(t),ph(e,n)}),(function(){var n=new Uc;n.render(t),ph(e,n)})))},oa.revertSecondFactorAddition=function(e,t,n){var i=null,r=null;Sh(e,gh(e).checkActionCode(n).then((function(t){return i=t.data.email,r=t.data.multiFactorInfo,gh(e).applyActionCode(n)})).then((function(){!function(e,t,n,i){var r=new Tl(i.factorId,(function(){r.I(A(gh(e).sendPasswordResetEmail,gh(e)),[n],(function(){r.m(),(r=new Mc(n,void 0,Uo(Ah(e)),jo(Ah(e)))).render(t),ph(e,r)}),(function(){r.a(An().toString())}))}),i.phoneNumber);r.render(t),ph(e,r)}(e,t,i,r)}),(function(){var n=new Bc;n.render(t),ph(e,n)})))},oa.verifyAndChangeEmail=function(e,t,n,i){var r=null;Sh(e,gh(e).checkActionCode(n).then((function(t){return r=t.data.email,gh(e).applyActionCode(n)})).then((function(){var n=new jc(r,i);n.render(t),ph(e,n)}),(function(){var n=new Vc;n.render(t),ph(e,n)})))},u(Cl,Du),Cl.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),kl(this.i(),(this.i().value||"").length),Du.prototype.v.call(this)},Cl.prototype.o=function(){this.u=this.l=null,Du.prototype.o.call(this)},N(Cl.prototype,{i:xc,M:Nc,w:Dc,H:Rc,j:Pc,U:wc,P:Ic,B:_c}),oa.emailLinkConfirmation=function(e,t,n,i,r,s){var o=new Cl((function(){var r=o.j();r?(o.m(),i(e,t,r,n)):o.i().focus()}),(function(){o.m(),nl(e,t,r||void 0)}),r||void 0,Uo(Ah(e)),jo(Ah(e)));o.render(t),ph(e,o),s&&o.a(s)},u(Al,Du),Al.prototype.v=function(){this.u(this.i),this.l().focus(),Du.prototype.v.call(this)},Al.prototype.o=function(){this.i=null,Du.prototype.o.call(this)},N(Al.prototype,{l:wc,u:_c}),oa.emailLinkNewDeviceLinking=function(e,t,n,i){var r=new je(n);if(n=r.a.a.get(He.PROVIDER_ID)||null,Be(r,null),n){var s=new Al(xo(Ah(e),n),(function(){s.m(),i(e,t,r.toString())}),Uo(Ah(e)),jo(Ah(e)));s.render(t),ph(e,s)}else nl(e,t)},u(xl,Du),oa.emailLinkSignInCallback=Nl,u(Pl,Du),Pl.prototype.v=function(){this.u(this.i),this.l().focus(),Du.prototype.v.call(this)},Pl.prototype.o=function(){this.i=null,Du.prototype.o.call(this)},N(Pl.prototype,{l:wc,u:_c}),oa.emailLinkSignInLinking=function(e,t,n){var i=Qs(yh(e));if(Xs(yh(e)),i){var r=i.a.providerId,s=new Pl(n,xo(Ah(e),r),(function(){!function(e,t,n,i){var r=Ru(t);sl(e,t,n,(function(){nl(e,r,n)}),(function(i){if(!i.name||"cancel"!=i.name){var s=Xc(i);i&&"auth/network-request-failed"==i.code?t.a(s):(t.m(),nl(e,r,n,s))}}),i)}(e,s,n,i)}),Uo(Ah(e)),jo(Ah(e)));s.render(t),ph(e,s)}else nl(e,t)},u(Ol,Du),Ol.prototype.v=function(){var e=this;Xa(this,this.l(),(function(){e.i()})),Xa(this,Wa(this,"firebaseui-id-trouble-getting-email-link"),(function(){e.u()})),this.l().focus(),Du.prototype.v.call(this)},Ol.prototype.o=function(){this.i=this.u=null,Du.prototype.o.call(this)},N(Ol.prototype,{l:Ic}),oa.emailLinkSignInSent=function(e,t,n,i,r){var s=new Ol(n,(function(){s.m(),aa("emailNotReceived",e,t,n,i,r)}),(function(){s.m(),i()}),Uo(Ah(e)),jo(Ah(e)));s.render(t),ph(e,s)},u(Ll,Du),Ll.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Du.prototype.v.call(this)},Ll.prototype.o=function(){this.i=null,Du.prototype.o.call(this)},N(Ll.prototype,{u:wc,B:Ic,w:_c}),oa.emailMismatch=function(e,t,n){var i=Qs(yh(e));if(i){var r=new Ll(n.user.email,i.g,(function(){var t=r;Xs(yh(e)),Yc(e,t,n)}),(function(){var t=n.credential.providerId,s=Ru(r);r.m(),i.a?aa("federatedLinking",e,s,i.g,t):aa("federatedSignIn",e,s,i.g,t)}),Uo(Ah(e)),jo(Ah(e)));r.render(t),ph(e,r)}else nl(e,t)},u(Ml,Du),Ml.prototype.v=function(){var e=this;Xa(this,this.u(),(function(){e.i()})),Xa(this,this.Da(),(function(){e.l()})),this.u().focus(),Du.prototype.v.call(this)},Ml.prototype.Da=function(){return Wa(this,"firebaseui-id-resend-email-link")},Ml.prototype.o=function(){this.i=this.l=null,Du.prototype.o.call(this)},N(Ml.prototype,{u:Ic}),oa.emailNotReceived=function(e,t,n,i,r){var s=new Ml((function(){sl(e,s,n,i,(function(e){e=Xc(e),s.a(e)}),r)}),(function(){s.m(),nl(e,t,n)}),Uo(Ah(e)),jo(Ah(e)));s.render(t),ph(e,s)},u(Fl,Du),Fl.prototype.v=function(){this.u(this.i),this.l().focus(),Du.prototype.v.call(this)},Fl.prototype.o=function(){this.i=null,Du.prototype.o.call(this)},N(Fl.prototype,{l:wc,u:_c}),oa.federatedLinking=function(e,t,n,i,r){var s=Qs(yh(e));if(s&&s.a){var o=new Fl(n,xo(Ah(e),i),(function(){Zc(e,o,i,n)}),Uo(Ah(e)),jo(Ah(e)));o.render(t),ph(e,o),r&&o.a(r)}else nl(e,t)},oa.federatedRedirect=function(e,t,n){var i=new xl;i.render(t),ph(e,i),Zc(e,i,t=Ao(Ah(e))[0],n)},oa.federatedSignIn=function(e,t,n,i,r){var s=new Fl(n,xo(Ah(e),i),(function(){Zc(e,s,i,n)}),Uo(Ah(e)),jo(Ah(e)));s.render(t),ph(e,s),r&&s.a(r)},oa.passwordLinking=function(e,t,n){var i=Qs(yh(e));Xs(yh(e));var r=i&&i.a;if(r){var s=new Cc(n,(function(){!function(e,t,n,i){var r=t.u();r?Sh(e,t.I(A(e.Xb,e),[n,r],(function(n){return n=n.user.linkWithCredential(i).then((function(n){return Yc(e,t,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),Sh(e,n),n}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":Ya(t.i(),!1),eu(t.B(),Xc(e));break;case"auth/too-many-requests":t.a(Xc(e));break;default:Kr("signInWithEmailAndPassword: "+e.message,void 0),t.a(Xc(e))}}))):t.i().focus()}(e,s,n,r)}),(function(){s.m(),aa("passwordRecovery",e,t,n)}),Uo(Ah(e)),jo(Ah(e)));s.render(t),ph(e,s)}else nl(e,t)},u(Ul,Du),Ul.prototype.v=function(){this.B(),this.H(this.l,this.u),da(this.i())||this.i().focus(),Ou(this,this.i(),this.l),Du.prototype.v.call(this)},Ul.prototype.o=function(){this.u=this.l=null,Du.prototype.o.call(this)},N(Ul.prototype,{i:xc,w:Nc,B:Dc,M:Rc,j:Pc,U:wc,P:Ic,H:_c}),oa.passwordRecovery=function(e,t,n,i,r){var s=new Ul((function(){!function(e,t){var n=t.j();if(n){var i=Ru(t);Sh(e,t.I(A(gh(e).sendPasswordResetEmail,gh(e)),[n],(function(){t.m();var r=new Mc(n,(function(){r.m(),nl(e,i)}),Uo(Ah(e)),jo(Ah(e)));r.render(i),ph(e,r)}),(function(e){Ya(t.i(),!1),eu(t.w(),Xc(e))})))}else t.i().focus()}(e,s)}),i?void 0:function(){s.m(),nl(e,t)},n,Uo(Ah(e)),jo(Ah(e)));s.render(t),ph(e,s),r&&s.a(r)},oa.passwordSignIn=function(e,t,n,r){var s=new Oc((function(){!function(e,t){var n=t.j(),r=t.u();if(n)if(r){var s=i.default.auth.EmailAuthProvider.credential(n,r);Sh(e,t.I(A(e.bc,e),[n,r],(function(n){return Yc(e,t,{user:n.user,credential:s,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":Ya(t.l(),!1),eu(t.U(),Xc(e));break;case"auth/too-many-requests":case"auth/wrong-password":Ya(t.i(),!1),eu(t.B(),Xc(e));break;default:Kr("verifyPassword: "+e.message,void 0),t.a(Xc(e))}})))}else t.i().focus();else t.l().focus()}(e,s)}),(function(){var n=s.M();s.m(),aa("passwordRecovery",e,t,n)}),n,Uo(Ah(e)),jo(Ah(e)),r);s.render(t),ph(e,s)},u(Bl,Du),Bl.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Pu(this,this.i(),this.u()),Pu(this,this.u(),this.l())):Pu(this,this.i(),this.l()),this.w&&Ou(this,this.l(),this.w),da(this.i())?this.B&&!da(this.u())?this.u().focus():this.l().focus():this.i().focus(),Du.prototype.v.call(this)},Bl.prototype.o=function(){this.H=this.w=null,Du.prototype.o.call(this)},N(Bl.prototype,{i:xc,U:Nc,ea:Dc,jb:Rc,j:Pc,u:jl,Bc:Vl,Ja:function(){var e=jl.call(this),t=Vl.call(this);Ja(this,e,(function(){tu(t)&&(Ya(e,!0),Za(t))}))},M:function(){var e=jl.call(this),t=Vl.call(this),n=da(e);return Ya(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(Za(t),t=!0):(eu(t,cn("Enter your account name").toString()),t=!1),t?Y(da(e)):null},l:vl,ba:wl,lb:yl,ua:Il,P:_l,Nb:wc,Mb:Ic,pa:_c}),oa.passwordSignUp=function(e,t,n,r,s,o){var a=new Bl(Vo(Ah(e)),(function(){!function(e,t){var n=Vo(Ah(e)),r=t.j(),s=null;n&&(s=t.M());var o=t.P();if(r){if(n){if(!s)return void t.u().focus();s=re(s)}if(o){var a=i.default.auth.EmailAuthProvider.credential(r,o);Sh(e,t.I(A(e.Yb,e),[r,o],(function(i){var r={user:i.user,credential:a,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo};return n?(i=i.user.updateProfile({displayName:s}).then((function(){return Yc(e,t,r)})),Sh(e,i),i):Yc(e,t,r)}),(function(n){if(!n.name||"cancel"!=n.name){var s=$c(n);switch(n=Xc(s),s.code){case"auth/email-already-in-use":return function(e,t,n,i){function r(){var e=Xc(i);Ya(t.i(),!1),eu(t.U(),e),t.i().focus()}var s=gh(e).fetchSignInMethodsForEmail(n).then((function(i){i.length?r():(i=Ru(t),t.m(),aa("passwordRecovery",e,i,n,!1,Nn().toString()))}),(function(){r()}));return Sh(e,s),s}(e,t,r,s);case"auth/too-many-requests":n=cn("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Ya(t.l(),!1),eu(t.ba(),n);break;case"auth/admin-restricted-operation":Po(Ah(e))?(n=Ru(t),t.m(),aa("handleUnauthorizedUser",e,n,r,i.default.auth.EmailAuthProvider.PROVIDER_ID)):t.a(n);break;default:Kr(s="setAccountInfo: "+Cs(s),void 0),t.a(n)}}})))}else t.l().focus()}else t.i().focus()}(e,a)}),s?void 0:function(){a.m(),nl(e,t)},n,r,Uo(Ah(e)),jo(Ah(e)),o);a.render(t),ph(e,a)},u(Gl,Du),Gl.prototype.v=function(){var e=this;this.U(this.jb),ti(this.i,"tick",this.w,!1,this),this.i.start(),Xa(this,Wa(this,"firebaseui-id-change-phone-number-link"),(function(){e.P()})),Xa(this,this.Da(),(function(){e.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Du.prototype.v.call(this)},Gl.prototype.o=function(){this.M=this.H=this.l=this.P=null,Ea(this.i),ri(this.i,"tick",this.w),this.i=null,Du.prototype.o.call(this)},Gl.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Ea(this.i),ri(this.i,"tick",this.w),this.ua(),this.lb())},N(Gl.prototype,{u:ql,pa:Hl,Ja:function(e){var t=ql.call(this),n=Hl.call(this);Ja(this,t,(function(){tu(n)&&(Ya(t,!0),Za(n))})),e&&Qa(this,t,(function(){e()}))},ba:function(){var e=Y(da(ql.call(this))||"");return/^\d{6}$/.test(e)?e:null},Fb:Kl,U:function(e){zt(Kl.call(this),cn("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ua:function(){Za(this.Fb())},Da:function(){return Wa(this,"firebaseui-id-resend-link")},lb:function(){eu(this.Da())},Nb:wc,Mb:Ic,ea:_c}),oa.phoneSignInFinish=function(e,t,n,i,r,s){var o=new Gl((function(){o.m(),aa("phoneSignInStart",e,t,n)}),(function(){!function(e,t,n,i){function r(e){t.u().focus(),Ya(t.u(),!1),eu(t.pa(),e)}var s=t.ba();s?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",cn("Verifying...").toString()),Sh(e,t.I(A(i.confirm,i),[s],(function(n){t.h(),t.$("firebaseui-icon-done",cn("Verified!").toString());var i=setTimeout((function(){t.h(),t.m();var i={user:vh(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Yc(e,t,i,!0)}),1e3);Sh(e,(function(){t&&t.h(),clearTimeout(i)}))}),(function(i){if(i.name&&"cancel"==i.name)t.h();else{var s=$c(i);switch(i=Xc(s),s.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":s=Ru(t),t.h(),t.m(),aa("phoneSignInStart",e,s,n,i);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),r(i);break;default:t.h(),t.a(i)}}})))):r(cn("Wrong code. Try again.").toString())}(e,o,n,r)}),(function(){o.m(),nl(e,t)}),(function(){o.m(),aa("phoneSignInStart",e,t,n)}),wo(n),i,Uo(Ah(e)),jo(Ah(e)));o.render(t),ph(e,o),s&&o.a(s)};var Wl=!(Xe||We("Safari")&&!(ze()||We("Coast")||We("Opera")||We("Edge")||We("Firefox")||We("FxiOS")||We("Silk")||We("Android")));function zl(e,t){return/-[a-z]/.test(t)?null:Wl&&e.dataset?!We("Android")||ze()||We("Firefox")||We("FxiOS")||We("Opera")||We("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function $l(e,t,n){var i=this;e=tn(gu,{items:e},null,this.s),Eu.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if(zl(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||Kt(document))||Kt(document),i=Ba(e),r=Ba(n);if(!Xe||9<=Number(ct)){o=ja(n,"borderLeftWidth");var s=ja(n,"borderRightWidth");a=ja(n,"borderTopWidth"),u=ja(n,"borderBottomWidth"),s=new Ua(parseFloat(a),parseFloat(s),parseFloat(u),parseFloat(o))}else{var o=Ha(n,"borderLeft");s=Ha(n,"borderRight");var a=Ha(n,"borderTop"),u=Ha(n,"borderBottom");s=new Ua(a,s,u,o)}n==Kt(document)?(o=i.a-n.scrollLeft,i=i.g-n.scrollTop,!Xe||10<=Number(ct)||(o+=s.left,i+=s.top)):(o=i.a-r.a-s.left,i=i.g-r.g-s.top),r=e.offsetWidth,s=e.offsetHeight,a=nt&&!r&&!s,e=f(r)&&!a||!e.getBoundingClientRect?new Ut(r,s):new Ut((e=Va(e)).right-e.left,e.bottom-e.top),r=n.clientHeight-e.height,s=n.scrollLeft,a=n.scrollTop,n=new Ft(s+=Math.min(o,Math.max(o-(n.clientWidth-e.width),0)),a+=Math.min(i,Math.max(i-r,0))),t.scrollLeft=n.a,t.scrollTop=n.g}(n,e)),Xa(this,e,(function(e){(e=(e=$t(e.target,"firebaseui-id-list-box-dialog-button"))&&zl(e,"listboxid"))&&(Tu.call(i),t(e))}))}function Yl(){return Wa(this,"firebaseui-id-phone-number")}function Jl(){return Wa(this,"firebaseui-id-country-selector")}function Ql(){return Wa(this,"firebaseui-id-phone-number-error")}function Xl(e,t){var n,i=e.a,r=Zl("1-US-0",i);if(!(n=t&&Zl(t,i)?t:r?"1-US-0":0<i.length?i[0].c:null))throw Error("No available default country");nh.call(this,n,e)}function Zl(e,t){return!(!(e=ho(e))||!H(t,e))}function eh(e){return"firebaseui-flag-"+e.f}function th(e){var t=this;$l.call(this,function(e){return e.map((function(e){return{id:e.c,Ma:"firebaseui-flag "+eh(e),label:e.name+" ‎+"+e.b}}))}(e.a),(function(n){nh.call(t,n,e,!0),t.O().focus()}),this.Ba)}function nh(e,t,n){var i=ho(e);i&&(n&&(t=lo(t,n=Y(da(Yl.call(this))||""))).length&&t[0].b!=i.b&&(n="+"+i.b+n.substr(t[0].b.length+1),fa(Yl.call(this),n)),t=ho(this.Ba),this.Ba=e,e=Wa(this,"firebaseui-id-country-selector-flag"),t&&ha(e,eh(t)),la(e,eh(i)),zt(Wa(this,"firebaseui-id-country-selector-code"),"‎+"+i.b))}function ih(e,t,n,i,r,s,o,a,u,c){Du.call(this,mc,{Gb:t,Aa:u||null,Va:!!n,ia:!!s},c,"phoneSignInStart",{F:i,D:r}),this.H=a||null,this.M=t,this.l=e,this.w=n||null,this.pa=o||null}function rh(e,t,n,r){try{var s=t.U(Jo)}catch(e){return}s?$o?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",cn("Verifying...").toString()),Sh(e,t.I(A(e.cc,e),[wo(s),n],(function(n){var i=Ru(t);t.$("firebaseui-icon-done",cn("Code sent!").toString());var r=setTimeout((function(){t.h(),t.m(),aa("phoneSignInFinish",e,i,s,15,n)}),1e3);Sh(e,(function(){t&&t.h(),clearTimeout(r)}))}),(function(n){if(t.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(Qo),$o=null;var r=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":r=cn("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.O().focus(),void eu(t.B(),Cn().toString());case"auth/admin-restricted-operation":if(Po(Ah(e)))return n=Ru(t),t.m(),void aa("handleUnauthorizedUser",e,n,wo(s),i.default.auth.PhoneAuthProvider.PROVIDER_ID);r=Xc(n);break;default:r=Xc(n)}t.a(r)}})))):Yo?eu(t.u(),cn("Solve the reCAPTCHA").toString()):!Yo&&r&&t.i().click():(t.O().focus(),eu(t.B(),Cn().toString()))}function sh(e,t,n,i,r){Du.call(this,pc,{Sb:t},r,"providerSignIn",{F:n,D:i}),this.i=e}function oh(e,t,n,i,r,s,o){Du.call(this,Lu,{email:n,Va:!!t,ia:!!s},o,"signIn",{F:i,D:r}),this.i=e,this.u=t}function ah(e,t,n,i,r,s,o){Du.call(this,Xu,{kc:e,yb:n,Eb:!!i},o,"unauthorizedUser",{F:r,D:s}),this.l=t,this.i=i}function uh(e,t,n,i,r,s){Du.call(this,Zu,{email:e},s,"unsupportedProvider",{F:i,D:r}),this.l=t,this.i=n}function ch(e,t){this.$=!1;var n=dh(t);if(hh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');hh[n]=this,this.a=e,this.u=null,this.Y=!1,lh(this.a),this.h=i.default.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),(e=e.emulatorConfig)&&(n=e.port,this.h.useEmulator(e.protocol+"://"+e.host+(null===n?"":":"+n),e.options)),lh(this.h),this.h.setPersistence&&this.h.setPersistence(i.default.auth.Auth.Persistence.SESSION),this.oa=t,this.ca=new To,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Ir.Xa(),this.j=this.C=null,this.da=this.A=!1}function lh(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}u(ih,Du),ih.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Pu(this,this.O(),this.i()),Ou(this,this.i(),this.l),this.O().focus(),kl(this.O(),(this.O().value||"").length),Du.prototype.v.call(this)},ih.prototype.o=function(){this.w=this.l=null,Du.prototype.o.call(this)},N(ih.prototype,{Cb:Su,O:Yl,B:Ql,ea:function(e,t,n){var i=this,r=Yl.call(this),s=Jl.call(this),o=Ql.call(this),a=e||vo,u=a.a;if(0==u.length)throw Error("No available countries provided.");Xl.call(i,a,t),Xa(this,s,(function(){th.call(i,a)})),Ja(this,r,(function(){tu(o)&&(Ya(r,!0),Za(o));var e=Y(da(r)||""),t=ho(this.Ba),n=lo(a,e);e=Zl("1-US-0",u),n.length&&n[0].b!=t.b&&(t=n[0],nh.call(i,"1"==t.b&&e?"1-US-0":t.c,a))})),n&&Qa(this,r,(function(){n()}))},U:function(e){var t=Y(da(Yl.call(this))||""),n=(e=e||vo).a,i=lo(vo,t);if(i.length&&!H(n,i[0]))throw fa(Yl.call(this)),Yl.call(this).focus(),eu(Ql.call(this),cn("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=ho(this.Ba),i.length&&i[0].b!=n.b&&nh.call(this,i[0].c,e),i.length&&(t=t.substr(i[0].b.length+1)),t?new yo(this.Ba,t):null},Ja:Jl,ba:function(){return Wa(this,"firebaseui-recaptcha-container")},u:function(){return Wa(this,"firebaseui-id-recaptcha-error")},i:wc,ua:Ic,P:_c}),oa.phoneSignInStart=function(e,t,n,r){var s=function(e){var t=null;if(ko(e).forEach((function(e){e.provider==i.default.auth.PhoneAuthProvider.PROVIDER_ID&&E(e.recaptchaParameters)&&!Array.isArray(e.recaptchaParameters)&&(t=oe(e.recaptchaParameters))})),t){var n=[];sa.forEach((function(e){void 0!==t[e]&&(n.push(e),delete t[e])})),n.length&&$r('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(Ah(e))||{};$o=null,Yo=!(s&&"invisible"===s.size);var o=tl(e),a=function(e){var t=(e=Co(e,i.default.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;t=t&&fo(t);var n=null;return e&&"string"==typeof e.loginHint&&(n=bo(e.loginHint)),t&&t[0]||n&&ho(n.a)||null}(Ah(e)),u=o?function(e){var t=null;return(e=Co(e,i.default.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof e.loginHint&&(t=bo(e.loginHint)),e&&e.defaultNationalNumber||t&&t.Aa||null}(Ah(e)):null;a=n&&n.a||a&&a.c||null,n=n&&n.Aa||u,(u=Mo(Ah(e)))&&mo(u),Jo=u?new co(Mo(Ah(e))):vo;var c=new ih((function(t){rh(e,c,l,!(!t||!t.keyCode))}),Yo,o?null:function(){l.clear(),c.m(),nl(e,t)},Uo(Ah(e)),jo(Ah(e)),o,Jo,a,n);c.render(t),ph(e,c),r&&c.a(r),s.callback=function(t){c.u()&&Za(c.u()),$o=t,Yo||rh(e,c,l)},s["expired-callback"]=function(){$o=null};var l=new i.default.auth.RecaptchaVerifier(Yo?c.ba():c.i(),s,vh(e).app);Sh(e,c.I(A(l.render,l),[],(function(e){Qo=e}),(function(n){n.name&&"cancel"==n.name||(n=Xc(n),c.m(),nl(e,t,void 0,n))})))},oa.prefilledEmailSignIn=function(e,t,n){var i=new xl;i.render(t),ph(e,i),Sh(e,i.I(A(gh(e).fetchSignInMethodsForEmail,gh(e)),[n],(function(r){i.m();var s=!(!el(e)||!bh(e));rl(e,t,r,n,void 0,s)}),(function(r){r=Xc(r),i.m(),aa("signIn",e,t,n,r)})))},u(sh,Du),sh.prototype.v=function(){this.l(this.i),Du.prototype.v.call(this)},sh.prototype.o=function(){this.i=null,Du.prototype.o.call(this)},N(sh.prototype,{l:function(e){function t(t){e(t)}for(var n=this.g?Vt("firebaseui-id-idp-button",this.g||this.s.a):[],i=0;i<n.length;i++){var r=n[i];Xa(this,r,x(t,zl(r,"providerId")))}}}),oa.providerSignIn=function(e,t,n,r){var s=new sh((function(n){n==i.default.auth.EmailAuthProvider.PROVIDER_ID?(s.m(),ol(e,t,r)):n==i.default.auth.PhoneAuthProvider.PROVIDER_ID?(s.m(),aa("phoneSignInStart",e,t)):"anonymous"==n?function(e,t){Sh(e,t.I(A(e.$b,e),[],(function(n){return t.m(),Yc(e,t,n,!0)}),(function(e){e.name&&"cancel"==e.name||(Kr("ContinueAsGuest: "+e.code,void 0),e=Xc(e),t.a(e))})))}(e,s):Zc(e,s,n,r),xh(e),e.l.cancel()}),No(Ah(e)),Uo(Ah(e)),jo(Ah(e)));s.render(t),ph(e,s),n&&s.a(n),function(e){xh(e);try{_r(e.l,Do(Ah(e)),function(e){var t;return xh(e),(t=e.Z)||(t=!(!(e=Lo(e=Ah(e),i.default.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==e.prompt)),t}(e)).then((function(t){return!!e.g&&function(e,t,n){if(n&&n.credential&&n.clientId===Do(Ah(e))){if(Oo(Ah(e),i.default.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var r=JSON.parse(atob(n.credential.split(".")[1])).email}catch(s){}return Zc(e,t,i.default.auth.GoogleAuthProvider.PROVIDER_ID,r),qi(!0)}return s=i.default.auth.GoogleAuthProvider.credential(n.credential),o=!1,s=t.I(A(e.ac,e),[s],(function(n){var i=Ru(t);t.m(),aa("callback",e,i,qi(n)),o=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Ru(t);t.m(),aa("callback",e,r,Hi(n))}else n&&"auth/admin-restricted-operation"==n.code&&Po(Ah(e))?(n=Ru(t),t.m(),aa("handleUnauthorizedUser",e,n,null,i.default.auth.GoogleAuthProvider.PROVIDER_ID)):(n=Xc(n),t.a(n))})),Sh(e,s),s.then((function(){return o}),(function(){return!1}))}var s,o;return n&&t.a(cn("The selected credential for the authentication provider is not supported!").toString()),qi(!1)}(e,e.g,t)}))}catch(e){}}(e)},oa.sendEmailLinkForSignIn=function(e,t,n,r){var s=new ll;s.render(t),ph(e,s),sl(e,s,n,r,(function(r){s.m(),r&&"auth/admin-restricted-operation"==r.code&&Po(Ah(e))?aa("handleUnauthorizedUser",e,t,n,i.default.auth.EmailAuthProvider.PROVIDER_ID):(r=Xc(r),aa("signIn",e,t,n,r))}))},u(oh,Du),oh.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),kl(this.l(),(this.l().value||"").length),Du.prototype.v.call(this)},oh.prototype.o=function(){this.u=this.i=null,Du.prototype.o.call(this)},N(oh.prototype,{l:xc,M:Nc,w:Dc,H:Rc,j:Pc,U:wc,P:Ic,B:_c}),oa.signIn=function(e,t,n,i){var r=el(e),s=new oh((function(){var t=s,n=t.j()||"";n&&il(e,t,n)}),r?null:function(){s.m(),nl(e,t,n)},n,Uo(Ah(e)),jo(Ah(e)),r);s.render(t),ph(e,s),i&&s.a(i)},u(ah,Du),ah.prototype.v=function(){var e=this,t=Wa(this,"firebaseui-id-unauthorized-user-help-link");this.i&&t&&Xa(this,t,(function(){e.i()})),Xa(this,this.u(),(function(){e.l()})),this.u().focus(),Du.prototype.v.call(this)},ah.prototype.o=function(){this.i=this.l=null,Du.prototype.o.call(this)},N(ah.prototype,{u:Ic}),oa.handleUnauthorizedUser=function(e,t,n,r){function s(){nl(e,t)}r===i.default.auth.EmailAuthProvider.PROVIDER_ID?s=function(){ol(e,t)}:r===i.default.auth.PhoneAuthProvider.PROVIDER_ID&&(s=function(){aa("phoneSignInStart",e,t)});var o=null,a=null;r===i.default.auth.EmailAuthProvider.PROVIDER_ID&&Ro(Ah(e))?(o=function(e){return(e=Co(e,i.default.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.adminEmail||null}(Ah(e)),a=function(e){if((e=Co(e,i.default.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp){var t=e.disableSignUp.helpLink||null;if(t&&"string"==typeof t)return function(){nr(t)}}return null}(Ah(e))):Po(Ah(e))&&(o=function(e){return(e=e.a.get("adminRestrictedOperation"))&&e.adminEmail?e.adminEmail:null}(Ah(e)),a=function(e){if(e=e.a.get("adminRestrictedOperation")||null){var t=e.helpLink||null;if(t&&"string"==typeof t)return function(){nr(t)}}return null}(Ah(e)));var u=new ah(n,(function(){u.m(),s()}),o,a,Uo(Ah(e)),jo(Ah(e)));u.render(t),ph(e,u)},u(uh,Du),uh.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Du.prototype.v.call(this)},uh.prototype.o=function(){this.i=this.l=null,Du.prototype.o.call(this)},N(uh.prototype,{u:wc,B:Ic,w:_c}),oa.unsupportedProvider=function(e,t,n){var i=new uh(n,(function(){i.m(),aa("passwordRecovery",e,t,n)}),(function(){i.m(),nl(e,t,n)}),Uo(Ah(e)),jo(Ah(e)));i.render(t),ph(e,i)};var hh={};function dh(e){return e||"[DEFAULT]"}function fh(e){return xh(e),e.i||(e.i=Eh(e,(function(t){return t&&!Qs(yh(e))?qi(vh(e).getRedirectResult().then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return Rh(e,t)}))):qi(gh(e).getRedirectResult().then((function(t){return So(Ah(e))&&!t.user&&e.j&&!e.j.isAnonymous?vh(e).getRedirectResult():t})))}))),e.i}function ph(e,t){xh(e),e.g=t}var mh=null;function gh(e){return xh(e),e.h}function vh(e){return xh(e),e.a}function yh(e){return xh(e),e.oa}function bh(e){return xh(e),e.O?e.O.emailHint:void 0}function wh(e){return"signIn"===((e=new je(e)).a.a.get(He.ub)||null)&&!!e.a.a.get(He.$a)}function Ih(e,t,n,i){xh(e),void 0!==e.a.languageCode&&(e.u=e.a.languageCode);var r="en".replace(/_/g,"-");e.a.languageCode=r,e.h.languageCode=r,e.Y=!0,void 0!==e.a.tenantId&&(e.h.tenantId=e.a.tenantId),e.ib(n),e.O=i||null;var s=d.document;e.C?e.C.then((function(){"complete"==s.readyState?_h(e,t):ii(window,"load",(function(){_h(e,t)}))})):"complete"==s.readyState?_h(e,t):ii(window,"load",(function(){_h(e,t)}))}function _h(e,t){var n=ir(t,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),mh){var i=mh;xh(i),Qs(yh(i))&&$r("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),mh.reset()}if(mh=e,e.T=n,function(e,t){e.L=null,e.J=new wi(t),e.J.register(),ti(e.J,"pageEnter",(function(t){if(t=t&&t.pageId,e.L!=t){var n=Ah(e);(n=zo(n).uiChanged||null)&&n(e.L,t),e.L=t}}))}(e,n),Ms(new Fs)&&Ms(new Us)){t=ir(t,"Could not find the FirebaseUI widget element on the page."),n=(n=ye(n=rr(),i=ro(Ah(e).a,"queryParameterForSignInSuccessUrl")))?wt(_t(n)).toString():null;e:{i=rr();var r=Fo(Ah(e));for(s in i=ye(i,r)||"",ia)if(ia[s].toLowerCase()==i.toLowerCase()){var s=ia[s];break e}s="callback"}switch(s){case"callback":n&&(s=yh(e),Ys(Ks,n,s)),e.nb()?aa("callback",e,t):nl(e,t,bh(e));break;case"resetPassword":aa("passwordReset",e,t,al(),ul());break;case"recoverEmail":aa("emailChangeRevocation",e,t,al());break;case"revertSecondFactorAddition":aa("revertSecondFactorAddition",e,t,al());break;case"verifyEmail":aa("emailVerification",e,t,al(),ul());break;case"verifyAndChangeEmail":aa("verifyAndChangeEmail",e,t,al(),ul());break;case"signIn":aa("emailLinkSignInCallback",e,t,rr()),Nh();break;case"select":n&&(s=yh(e),Ys(Ks,n,s)),nl(e,t);break;default:throw Error("Unhandled widget operation.")}(t=zo(t=Ah(e)).uiShown||null)&&t()}else t=ir(t,"Could not find the FirebaseUI widget element on the page."),(s=new zc(cn("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),ph(e,s);t=e.g&&"blank"==e.g.Ga&&qo(Ah(e)),eo(yh(e))&&!t&&(Ch(e,(t=eo(yh(e))).a),$s(Hs,yh(e)))}function Eh(e,t){if(e.A)return t(Th(e));if(Sh(e,(function(){e.A=!1})),So(Ah(e))){var n=new Li((function(n){Sh(e,e.a.onAuthStateChanged((function(i){e.j=i,e.A||(e.A=!0,n(t(Th(e))))})))}));return Sh(e,n),n}return e.A=!0,t(null)}function Th(e){return xh(e),So(Ah(e))&&e.j&&e.j.isAnonymous?e.j:null}function Sh(e,t){if(xh(e),t){e.s.push(t);var n=function(){!function(e,t){!function(e,t){for(var n=p(e)?e.split(""):e,i=e.length-1;0<=i;--i)i in n&&t.call(void 0,n[i],i,e)}(e,(function(n,i){t.call(void 0,n,i,e)&&G(e,i)}))}(e.s,(function(e){return e==t}))};"function"!=typeof t&&t.then(n,n)}}function kh(e){void 0!==e.a.languageCode&&e.Y&&(e.Y=!1,e.a.languageCode=e.u)}function Ch(e,t){e.a.tenantId=t,e.h.tenantId=t}function Ah(e){return xh(e),e.ca}function xh(e){if(e.$)throw Error("AuthUI instance is deleted!")}function Nh(){var e=rr();if(wh(e)){for(var t in e=new je(e),He)He.hasOwnProperty(t)&&Le(e.a.a,He[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var n=d.document.title;d.history&&d.history.replaceState&&d.history.replaceState(t,n,e.toString())}}function Dh(e){return xh(e),gh(e).signOut()}function Rh(e,t,n){if(xh(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var i=Wo(Ah(e));return qi().then((function(){return i(new Rn("anonymous-upgrade-merge-conflict",null,n||t.credential))})).then((function(){throw e.g&&(e.g.m(),e.g=null),t}))}return Hi(t)}function Ph(e,t,n,i){Du.call(this,bc,void 0,i,"providerMatchByEmail",{F:t,D:n}),this.i=e}function Oh(e,t,n,i,r){Du.call(this,yc,{ec:t},r,"selectTenant",{F:n,D:i}),this.i=e}function Lh(e){Du.call(this,Bu,void 0,e,"spinner")}function Mh(e){for(var t in this.a=new to,no(this.a,"authDomain"),no(this.a,"displayMode",Hh),no(this.a,"tenants"),no(this.a,"callbacks"),no(this.a,"tosUrl"),no(this.a,"privacyPolicyUrl"),e)if(e.hasOwnProperty(t))try{io(this.a,t,e[t])}catch(e){Kr('Invalid config: "'+t+'"',void 0)}}function Fh(e){return e.a.get("callbacks")||{}}function Uh(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&$r("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"==typeof t)return t;if("string"==typeof t)return function(){nr(t)}}return null}function jh(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&$r("Terms of Service URL is missing, the link will not be displayed."),t&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){nr(n)}}return null}function Vh(e,t){if(!(e=e.a.get("tenants"))||!e.hasOwnProperty(t)&&!e.hasOwnProperty(Gh))throw Error("Invalid tenant configuration!")}function Bh(e,t,n){if(!(e=e.a.get("tenants")))throw Error("Invalid tenant configuration!");var i=[];if(!(e=e[t]||e[Gh]))return Kr("Invalid tenant configuration: "+t+" is not configured!",void 0),i;if(!(t=e.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return t.forEach((function(e){if("string"==typeof e)i.push(e);else if("string"==typeof e.provider){var t=e.hd;t&&n?(t instanceof RegExp?t:new RegExp("@"+t.replace(".","\\.")+"$")).test(n)&&i.push(e.provider):i.push(e.provider)}else Kr(e="Invalid tenant configuration: signInOption "+JSON.stringify(e)+" is invalid!",void 0)})),i}(e=ch.prototype).nb=function(){return xh(this),!!eo(yh(this))||wh(rr())},e.start=function(e,t){Ih(this,e,t)},e.Db=function(){xh(this),this.Z=!0},e.reset=function(){xh(this);var e=this;this.T&&this.T.removeAttribute("lang"),this.J&&function(e){var t=bi(e.N());gi[t]&&gi[t].length&&(function(e,t){e:{for(var n=e.length,i=p(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}0<=t&&G(e,t)}(gi[t],(function(t){return t==e})),gi[t].length||delete gi[t])}(this.J),kh(this),this.O=null,Nh(),$s(Hs,yh(this)),xh(this),this.l.cancel(),this.i=qi({user:null,credential:null}),mh==this&&(mh=null),this.T=null;for(var t=0;t<this.s.length;t++)"function"==typeof this.s[t]?this.s[t]():this.s[t].cancel&&this.s[t].cancel();this.s=[],Xs(yh(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Dh(this).then((function(){e.C=null}),(function(){e.C=null})))},e.ib=function(e){xh(this);var t,n=this.ca;for(t in e)try{io(n.a,t,e[t])}catch(e){Kr('Invalid config: "'+t+'"',void 0)}it&&io(n.a,"popupMode",!1),Mo(n),!this.da&&Ko(Ah(this))&&($r("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},e.Wb=function(){xh(this);var e=Ah(this),t=ro(e.a,"widgetUrl");e=Fo(e);for(var n,i=t.search(ve),r=0,s=[];0<=(n=ge(t,r,e,i));)s.push(t.substring(r,n)),r=Math.min(t.indexOf("&",n)+1||i,i);s.push(t.substr(r)),t=s.join("").replace(be,"$1"),(e+=i="="+encodeURIComponent("select"))?(0>(i=t.indexOf("#"))&&(i=t.length),0>(r=t.indexOf("?"))||r>i?(r=i,n=""):n=t.substring(r+1,i),i=(t=[t.substr(0,r),n,t.substr(i)])[1],t[1]=e?i?i+"&"+e:e:i,i=t[0]+(t[1]?"?"+t[1]:"")+t[2]):i=t,Ah(this).a.get("popupMode")?(i=i||"about:blank",(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||i.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=er(i,e))&&e.focus()):Mt(window.location,i)},e.Wa=function(){var e=this;return xh(this),this.h.app.delete().then((function(){var t=dh(yh(e));delete hh[t],e.reset(),e.$=!0}))},e.Ib=function(e,t){xh(this);var n=this,r=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!Bo(Ah(this)))return Hi(Error("Email link sign-in should be enabled to trigger email sending."));var s=function(e){if(Bo(e)){var t={url:rr(),handleCodeInApp:!0};(e=Co(e,i.default.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof e.emailLinkSignIn&&ue(t,e.emailLinkSignIn()),e=t.url;var n=rr();n instanceof we||(n=Te(n)),e instanceof we||(e=Te(e));var r=n;n=new we(r);var s=!!e.j;s?Ie(n,e.j):s=!!e.A,s?n.A=e.A:s=!!e.h,s?n.h=e.h:s=null!=e.C;var o=e.g;if(s)_e(n,e.C);else if(s=!!e.g)if("/"!=o.charAt(0)&&(r.h&&!r.g?o="/"+o:-1!=(r=n.g.lastIndexOf("/"))&&(o=n.g.substr(0,r+1)+o)),".."==o||"."==o)o="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var a=[],u=0;u<o.length;){var c=o[u++];"."==c?r&&u==o.length&&a.push(""):".."==c?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&u==o.length&&a.push("")):(a.push(c),r=!0)}o=a.join("/")}return s?n.g=o:s=""!==e.a.toString(),s?Ee(n,Fe(e.a)):s=!!e.s,s&&(n.s=e.s),t.url=n.toString(),t}return null}(Ah(this)),o=new je(s.url);return function(e,t){t?e.a.a.set(He.Sa,t):Le(e.a.a,He.Sa)}(o,r),t&&t.a&&(function(e,t,n){Ys(Ws,Ts(e,JSON.stringify(ts(t))),n)}(r,t,yh(this)),Be(o,t.a.providerId)),function(e,t){null!==t?e.a.a.set(He.Qa,t?"1":"0"):Le(e.a.a,He.Qa)}(o,function(e){return!(!(e=Co(e,i.default.auth.EmailAuthProvider.PROVIDER_ID))||!e.forceSameDevice)}(Ah(this))),Eh(this,(function(t){return t&&((t=t.uid)?o.a.a.set(He.Pa,t):Le(o.a.a,He.Pa)),s.url=o.toString(),gh(n).sendSignInLinkToEmail(e,s)})).then((function(){var t=yh(n),i={};i.email=e,Ys(Gs,Ts(r,JSON.stringify(i)),t)}),(function(e){throw $s(Ws,yh(n)),$s(Gs,yh(n)),e}))},e.bc=function(e,t){xh(this);var n=this;return gh(this).signInWithEmailAndPassword(e,t).then((function(r){return Eh(n,(function(s){return s?Dh(n).then((function(){return Rh(n,{code:"auth/email-already-in-use"},i.default.auth.EmailAuthProvider.credential(e,t))})):r}))}))},e.Yb=function(e,t){xh(this);var n=this;return Eh(this,(function(r){if(r){var s=i.default.auth.EmailAuthProvider.credential(e,t);return r.linkWithCredential(s)}return gh(n).createUserWithEmailAndPassword(e,t)}))},e.ac=function(e){xh(this);var t=this;return Eh(this,(function(n){return n?n.linkWithCredential(e).then((function(e){return e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Rh(t,n,e)})):gh(t).signInWithCredential(e)}))},e.dc=function(e){xh(this);var t=this,n=this.i;return this.i=null,Eh(this,(function(n){return n&&!Qs(yh(t))?n.linkWithRedirect(e):gh(t).signInWithRedirect(e)})).then((function(){}),(function(e){throw t.i=n,e}))},e.cc=function(e,t){xh(this);var n=this;return Eh(this,(function(i){return i?i.linkWithPhoneNumber(e,t).then((function(e){return new Sr(e,(function(e){if("auth/credential-already-in-use"==e.code)return Rh(n,e);throw e}))})):vh(n).signInWithPhoneNumber(e,t).then((function(e){return new Sr(e)}))}))},e.$b=function(){return xh(this),vh(this).signInAnonymously()},e.Xb=function(e,t){return xh(this),gh(this).signInWithEmailAndPassword(e,t)},u(Ph,Du),Ph.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),kl(this.l(),(this.l().value||"").length),Du.prototype.v.call(this)},Ph.prototype.o=function(){this.i=null,Du.prototype.o.call(this)},N(Ph.prototype,{l:xc,H:Nc,u:Dc,B:Rc,j:Pc,M:wc,w:_c}),u(Oh,Du),Oh.prototype.v=function(){!function(e,t){function n(e){t(e)}for(var i=e.g?Vt("firebaseui-id-tenant-selection-button",e.g||e.s.a):[],r=0;r<i.length;r++){var s=i[r];Xa(e,s,x(n,zl(s,"tenantId")))}}(this,this.i),Du.prototype.v.call(this)},Oh.prototype.o=function(){this.i=null,Du.prototype.o.call(this)},u(Lh,Du);var qh=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Hh="optionFirst",Kh={pc:Hh,oc:"identifierFirst"},Gh="*";function Wh(e,t){var n=this;this.s=ir(e),this.a={},Object.keys(t).forEach((function(e){n.a[e]=new Mh(t[e])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(e){this.ob=e||null},enumerable:!1})}function zh(e){e.j&&e.j.reset(),e.mb(),e.g&&e.g.m()}(e=Wh.prototype).Ub=function(e,t){var n=this;zh(this);var i=e.apiKey;return new Li((function(e,r){if(n.a.hasOwnProperty(i)){var s=Fh(n.a[i]).selectTenantUiHidden||null;if(function(e){for(var t in e=e.a.get("displayMode"),Kh)if(Kh[t]===e)return Kh[t];return Hh}(n.a[i])===Hh){var o=[];t.forEach((function(e){e=e||"_";var t=n.a[i].a.get("tenants");if(!t)throw Error("Invalid tenant configuration!");(t=t[e]||t[Gh])?e={tenantId:"_"!==e?e:null,V:t.fullLabel||null,displayName:t.displayName,za:t.iconUrl,ta:t.buttonColor}:(Kr("Invalid tenant configuration: "+e+" is not configured!",void 0),e=null),e&&o.push(e)}));var a=function(t){t={tenantId:t,providerIds:Bh(n.a[i],t||"_")},e(t)};if(1===o.length)return void a(o[0].tenantId);n.g=new Oh((function(e){zh(n),s&&s(),a(e)}),o,Uh(n.a[i]),jh(n.a[i]))}else n.g=new Ph((function(){var r=n.g.j();if(r){for(var o=0;o<t.length;o++){var a=Bh(n.a[i],t[o]||"_",r);if(0!==a.length)return r={tenantId:t[o],providerIds:a,email:r},zh(n),s&&s(),void e(r)}n.g.a(Dn({code:"no-matching-tenant-for-email"}).toString())}}),Uh(n.a[i]),jh(n.a[i]));n.g.render(n.s),(r=Fh(n.a[i]).selectTenantUiShown||null)&&r()}else{var u=Error("Invalid project configuration: API key is invalid!");u.code="invalid-configuration",n.pb(u),r(u)}}))},e.Pb=function(e,t){if(!this.a.hasOwnProperty(e))throw Error("Invalid project configuration: API key is invalid!");var n=t||void 0;Vh(this.a[e],t||"_");try{this.i=i.default.app(n).auth()}catch(s){var r=this.a[e].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(e=i.default.initializeApp({apiKey:e,authDomain:r},n)).auth().tenantId=t,this.i=e.auth()}return this.i},e.Zb=function(e,t){var n=this;return new Li((function(i,r){function s(t,i){n.j=new ch(e),Ih(n.j,n.s,t,i)}var o=e.app.options.apiKey;n.a.hasOwnProperty(o)||r(Error("Invalid project configuration: API key is invalid!"));var a=function(e,t,n){return e=function(e,t){var n=qh,i=void 0===i?{}:i;return Vh(e,t),function(e,t,n){return n=void 0===n?{}:n,Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),n)}((e=e.a.get("tenants"))[t]||e[Gh],n,i)}(e,t),(t=e.signInOptions)&&n&&(t=t.filter((function(e){return"string"==typeof e?n.includes(e):n.includes(e.provider)})),e.signInOptions=t),e}(n.a[o],e.tenantId||"_",t&&t.providerIds);zh(n),r={signInSuccessWithAuthResult:function(e){return i(e),!1}};var u,c=Fh(n.a[o]).signInUiShown||null,l=!1;r.uiChanged=function(t,i){null===t&&"callback"===i?((t=Bt("firebaseui-id-page-callback",n.s))&&Za(t),n.h=new Lh,n.h.render(n.s)):l||null===t&&"spinner"===i||"blank"===i||(n.h&&(n.h.m(),n.h=null),l=!0,c&&c(e.tenantId))},a.callbacks=r,a.credentialHelper="none",t&&t.email&&(u={emailHint:t.email}),n.j?n.j.Wa().then((function(){s(a,u)})):s(a,u)}))},e.reset=function(){var e=this;return qi().then((function(){e.j&&e.j.Wa()})).then((function(){e.j=null,zh(e)}))},e.Vb=function(){var e=this;this.h||this.A||(this.A=window.setTimeout((function(){zh(e),e.h=new Lh,e.g=e.h,e.h.render(e.s),e.A=null}),500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return zh(this),this.g=new qc,this.g.render(this.s),qi()},e.pb=function(e){var t,n=this,i=Dn({code:e.code}).toString()||e.message;zh(this),e.retry&&"function"==typeof e.retry&&(t=function(){n.reset(),e.retry()}),this.g=new Wc(i,t),this.g.render(this.s)},e.Rb=function(e){var t=this;return qi().then((function(){var n=t.i&&t.i.app.options.apiKey;if(!t.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Vh(t.a[n],e.tenantId||"_"),!t.i.currentUser||t.i.currentUser.uid!==e.uid)throw Error("The user being processed does not match the signed in user!");return(n=Fh(t.a[n]).beforeSignInSuccess||null)?n(e):e})).then((function(t){if(t.uid!==e.uid)throw Error("User with mismatching UID returned.");return t}))},P("firebaseui.auth.FirebaseUiHandler",Wh),P("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Wh.prototype.Ub),P("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Wh.prototype.Pb),P("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Wh.prototype.Zb),P("firebaseui.auth.FirebaseUiHandler.prototype.reset",Wh.prototype.reset),P("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Wh.prototype.Vb),P("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Wh.prototype.mb),P("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Wh.prototype.Bb),P("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Wh.prototype.pb),P("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Wh.prototype.Rb),P("firebaseui.auth.AuthUI",ch),P("firebaseui.auth.AuthUI.getInstance",(function(e){return e=dh(e),hh[e]?hh[e]:null})),P("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ch.prototype.Db),P("firebaseui.auth.AuthUI.prototype.start",ch.prototype.start),P("firebaseui.auth.AuthUI.prototype.setConfig",ch.prototype.ib),P("firebaseui.auth.AuthUI.prototype.signIn",ch.prototype.Wb),P("firebaseui.auth.AuthUI.prototype.reset",ch.prototype.reset),P("firebaseui.auth.AuthUI.prototype.delete",ch.prototype.Wa),P("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ch.prototype.nb),P("firebaseui.auth.AuthUIError",Rn),P("firebaseui.auth.AuthUIError.prototype.toJSON",Rn.prototype.toJSON),P("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Xo),P("firebaseui.auth.CredentialHelper.NONE",Zo),P("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Li.prototype.catch=Li.prototype.Ca,Li.prototype.finally=Li.prototype.fc}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:window)}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=s());var o=firebaseui.auth},755:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var s=[],o=Object.getPrototypeOf,a=s.slice,u=s.flat?function(e){return s.flat.call(e)}:function(e){return s.concat.apply([],e)},c=s.push,l=s.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,m=p.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},b=i.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function I(e,t,n){var i,r,s=(n=n||b).createElement("script");if(s.text=e,t)for(i in w)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&s.setAttribute(i,r);n.head.appendChild(s).parentNode.removeChild(s)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[d.call(e)]||"object":typeof e}var E="3.6.0",T=function(e,t){return new T.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}T.fn=T.prototype={jquery:E,constructor:T,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=T.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return T.each(this,e)},map:function(e){return this.pushStack(T.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:s.sort,splice:s.splice},T.extend=T.fn.extend=function(){var e,t,n,i,r,s,o=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||v(o)||(o={}),a===u&&(o=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&o!==i&&(c&&i&&(T.isPlainObject(i)||(r=Array.isArray(i)))?(n=o[t],s=r&&!Array.isArray(n)?[]:r||T.isPlainObject(n)?n:{},r=!1,o[t]=T.extend(c,s,i)):void 0!==i&&(o[t]=i));return o},T.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e)||(t=o(e))&&("function"!=typeof(n=f.call(t,"constructor")&&t.constructor)||p.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){I(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(S(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?T.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,s=e.length,o=!n;r<s;r++)!t(e[r],r)!==o&&i.push(e[r]);return i},map:function(e,t,n){var i,r,s=0,o=[];if(S(e))for(i=e.length;s<i;s++)null!=(r=t(e[s],s,n))&&o.push(r);else for(s in e)null!=(r=t(e[s],s,n))&&o.push(r);return u(o)},guid:1,support:g}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=s[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var k=function(e){var t,n,i,r,s,o,a,u,c,l,h,d,f,p,m,g,v,y,b,w="sizzle"+1*new Date,I=e.document,_=0,E=0,T=ue(),S=ue(),k=ue(),C=ue(),A=function(e,t){return e===t&&(h=!0),0},x={}.hasOwnProperty,N=[],D=N.pop,R=N.push,P=N.push,O=N.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",U="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\[[\\x20\\t\\r\\n\\f]*("+U+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+F+"*\\]",V=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",B=new RegExp(F+"+","g"),q=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),K=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),G=new RegExp(F+"|>"),W=new RegExp(V),z=new RegExp("^"+U+"$"),$={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},se=function(){d()},oe=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(N=O.call(I.childNodes),I.childNodes),N[I.childNodes.length].nodeType}catch(e){P={apply:N.length?function(e,t){R.apply(e,O.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(e,t,i,r){var s,a,c,l,h,p,v,y=t&&t.ownerDocument,I=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==I&&9!==I&&11!==I)return i;if(!r&&(d(t),t=t||f,m)){if(11!==I&&(h=Z.exec(e)))if(s=h[1]){if(9===I){if(!(c=t.getElementById(s)))return i;if(c.id===s)return i.push(c),i}else if(y&&(c=y.getElementById(s))&&b(t,c)&&c.id===s)return i.push(c),i}else{if(h[2])return P.apply(i,t.getElementsByTagName(e)),i;if((s=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(i,t.getElementsByClassName(s)),i}if(n.qsa&&!C[e+" "]&&(!g||!g.test(e))&&(1!==I||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===I&&(G.test(e)||K.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(ie,re):t.setAttribute("id",l=w)),a=(p=o(e)).length;a--;)p[a]=(l?"#"+l:":scope")+" "+be(p[a]);v=p.join(",")}try{return P.apply(i,y.querySelectorAll(v)),i}catch(t){C(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return u(e.replace(q,"$1"),t,i,r)}function ue(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[w]=!0,e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function de(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,i){for(var r,s=e([],n.length,t),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},s=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},d=ae.setDocument=function(e){var t,r,o=e?e.ownerDocument||e:I;return o!=f&&9===o.nodeType&&o.documentElement?(p=(f=o).documentElement,m=!s(f),I!=f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",se,!1):r.attachEvent&&r.attachEvent("onunload",se)),n.scope=le((function(e){return p.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(f.getElementsByClassName),n.getById=le((function(e){return p.appendChild(e).id=w,!f.getElementsByName||!f.getElementsByName(w).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,r,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(r=t.getElementsByName(e),i=0;s=r[i++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=X.test(f.querySelectorAll))&&(le((function(e){var t;p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+M+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=X.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",V)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=X.test(p.compareDocumentPosition),b=t||X.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==f||e.ownerDocument==I&&b(I,e)?-1:t==f||t.ownerDocument==I&&b(I,t)?1:l?L(l,e)-L(l,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,r=e.parentNode,s=t.parentNode,o=[e],a=[t];if(!r||!s)return e==f?-1:t==f?1:r?-1:s?1:l?L(l,e)-L(l,t):0;if(r===s)return de(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;o[i]===a[i];)i++;return i?de(o[i],a[i]):o[i]==I?-1:a[i]==I?1:0},f):f},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&m&&!C[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){C(t,!0)}return ae(t,f,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=f&&d(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=f&&d(e);var r=i.attrHandle[t.toLowerCase()],s=r&&x.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==s?s:n.attributes||!m?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ae.escape=function(e){return(e+"").replace(ie,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,i=[],r=0,s=0;if(h=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(A),h){for(;t=e[s++];)t===e[s]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return l=null,e},r=ae.getText=function(e){var t,n="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},i=ae.selectors={cacheLength:50,createPseudo:ce,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+F+"|$)"))&&T(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=ae.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var c,l,h,d,f,p,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a,b=!1;if(g){if(s){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&y){for(b=(f=(c=(l=(h=(d=g)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){l[e]=[_,f,b];break}}else if(y&&(b=f=(c=(l=(h=(d=t)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===b)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((l=(h=d[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[_,b]),d!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var i,s=r(e,t),o=s.length;o--;)e[i=L(e,s[o])]=!(n[i]=s[o])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ce((function(e){var t=[],n=[],i=a(e.replace(q,"$1"));return i[w]?ce((function(e,t,n,r){for(var s,o=i(e,null,r,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))})):function(e,r,s){return t[0]=e,i(t,null,s,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return ae(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:ce((function(e){return z.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ge((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function we(e,t,n){var i=t.dir,r=t.next,s=r||i,o=n&&"parentNode"===s,a=E++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r);return!1}:function(t,n,u){var c,l,h,d=[_,a];if(u){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,u))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(l=(h=t[w]||(t[w]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=l[s])&&c[0]===_&&c[1]===a)return d[2]=c[2];if(l[s]=d,d[2]=e(t,n,u))return!0}return!1}}function Ie(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function _e(e,t,n,i,r){for(var s,o=[],a=0,u=e.length,c=null!=t;a<u;a++)(s=e[a])&&(n&&!n(s,i,r)||(o.push(s),c&&t.push(a)));return o}function Ee(e,t,n,i,r,s){return i&&!i[w]&&(i=Ee(i)),r&&!r[w]&&(r=Ee(r,s)),ce((function(s,o,a,u){var c,l,h,d=[],f=[],p=o.length,m=s||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ae(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!s&&t?m:_e(m,d,e,a,u),v=n?r||(s?e:p||i)?[]:o:g;if(n&&n(g,v,a,u),i)for(c=_e(v,f),i(c,[],a,u),l=c.length;l--;)(h=c[l])&&(v[f[l]]=!(g[f[l]]=h));if(s){if(r||e){if(r){for(c=[],l=v.length;l--;)(h=v[l])&&c.push(g[l]=h);r(null,v=[],c,u)}for(l=v.length;l--;)(h=v[l])&&(c=r?L(s,h):d[l])>-1&&(s[c]=!(o[c]=h))}}else v=_e(v===o?v.splice(p,v.length):v),r?r(null,o,v,u):P.apply(o,v)}))}function Te(e){for(var t,n,r,s=e.length,o=i.relative[e[0].type],a=o||i.relative[" "],u=o?1:0,l=we((function(e){return e===t}),a,!0),h=we((function(e){return L(t,e)>-1}),a,!0),d=[function(e,n,i){var r=!o&&(i||n!==c)||((t=n).nodeType?l(e,n,i):h(e,n,i));return t=null,r}];u<s;u++)if(n=i.relative[e[u].type])d=[we(Ie(d),n)];else{if((n=i.filter[e[u].type].apply(null,e[u].matches))[w]){for(r=++u;r<s&&!i.relative[e[r].type];r++);return Ee(u>1&&Ie(d),u>1&&be(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(q,"$1"),n,u<r&&Te(e.slice(u,r)),r<s&&Te(e=e.slice(r)),r<s&&be(e))}d.push(n)}return Ie(d)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,o=ae.tokenize=function(e,t){var n,r,s,o,a,u,c,l=S[e+" "];if(l)return t?0:l.slice(0);for(a=e,u=[],c=i.preFilter;a;){for(o in n&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(s=[])),n=!1,(r=K.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(q," ")}),a=a.slice(n.length)),i.filter)!(r=$[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):S(e,u).slice(0)},a=ae.compile=function(e,t){var n,r=[],s=[],a=k[e+" "];if(!a){for(t||(t=o(e)),n=t.length;n--;)(a=Te(t[n]))[w]?r.push(a):s.push(a);a=k(e,function(e,t){var n=t.length>0,r=e.length>0,s=function(s,o,a,u,l){var h,p,g,v=0,y="0",b=s&&[],w=[],I=c,E=s||r&&i.find.TAG("*",l),T=_+=null==I?1:Math.random()||.1,S=E.length;for(l&&(c=o==f||o||l);y!==S&&null!=(h=E[y]);y++){if(r&&h){for(p=0,o||h.ownerDocument==f||(d(h),a=!m);g=e[p++];)if(g(h,o||f,a)){u.push(h);break}l&&(_=T)}n&&((h=!g&&h)&&v--,s&&b.push(h))}if(v+=y,n&&y!==v){for(p=0;g=t[p++];)g(b,w,o,a);if(s){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=D.call(u));w=_e(w)}P.apply(u,w),l&&!s&&w.length>0&&v+t.length>1&&ae.uniqueSort(u)}return l&&(_=T,c=I),b};return n?ce(s):s}(s,r)),a.selector=e}return a},u=ae.select=function(e,t,n,r){var s,u,c,l,h,d="function"==typeof e&&e,f=!r&&o(e=d.selector||e);if(n=n||[],1===f.length){if((u=f[0]=f[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===t.nodeType&&m&&i.relative[u[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(s=$.needsContext.test(e)?0:u.length;s--&&(c=u[s],!i.relative[l=c.type]);)if((h=i.find[l])&&(r=h(c.matches[0].replace(te,ne),ee.test(u[0].type)&&ve(t.parentNode)||t))){if(u.splice(s,1),!(e=r.length&&be(u)))return P.apply(n,r),n;break}}return(d||a(e,f))(r,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(A).join("")===w,n.detectDuplicates=!!h,d(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||he(M,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),ae}(i);T.find=k,T.expr=k.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=k.uniqueSort,T.text=k.getText,T.isXMLDoc=k.isXML,T.contains=k.contains,T.escapeSelector=k.escape;var C=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&T(e).is(n))break;i.push(e)}return i},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},x=T.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(e,t,n){return v(t)?T.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?T.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?T.grep(e,(function(e){return l.call(t,e)>-1!==n})):T.filter(t,e,n)}T.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?T.find.matchesSelector(i,e)?[i]:[]:T.find.matches(e,T.grep(t,(function(e){return 1===e.nodeType})))},T.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(T(e).filter((function(){for(t=0;t<i;t++)if(T.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)T.find(e,r[t],n);return i>1?T.uniqueSort(n):n},filter:function(e){return this.pushStack(R(this,e||[],!1))},not:function(e){return this.pushStack(R(this,e||[],!0))},is:function(e){return!!R(this,"string"==typeof e&&x.test(e)?T(e):e||[],!1).length}});var P,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||P,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof T?t[0]:t,T.merge(this,T.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),D.test(i[1])&&T.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=b.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(T):T.makeArray(e,this)}).prototype=T.fn,P=T(b);var L=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}T.fn.extend({has:function(e){var t=T(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(T.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,s=[],o="string"!=typeof e&&T(e);if(!x.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?T.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?l.call(T(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),T.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(N(e,"template")&&(e=e.content||e),T.merge([],e.childNodes))}},(function(e,t){T.fn[e]=function(n,i){var r=T.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=T.filter(i,r)),this.length>1&&(M[e]||T.uniqueSort(r),L.test(e)&&r.reverse()),this.pushStack(r)}}));var U=/[^\x20\t\r\n\f]+/g;function j(e){return e}function V(e){throw e}function B(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}T.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return T.each(e.match(U)||[],(function(e,n){t[n]=!0})),t}(e):T.extend({},e);var t,n,i,r,s=[],o=[],a=-1,u=function(){for(r=r||e.once,i=t=!0;o.length;a=-1)for(n=o.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=s.length,n=!1);e.memory||(n=!1),t=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!t&&(a=s.length-1,o.push(n)),function t(n){T.each(n,(function(n,i){v(i)?e.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==_(i)&&t(i)}))}(arguments),n&&!t&&u()),this},remove:function(){return T.each(arguments,(function(e,t){for(var n;(n=T.inArray(t,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(e){return e?T.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=o=[],n||t||(s=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},T.extend({Deferred:function(e){var t=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return T.Deferred((function(n){T.each(t,(function(t,i){var r=v(e[i[4]])&&e[i[4]];s[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var s=0;function o(e,t,n,r){return function(){var a=this,u=arguments,c=function(){var i,c;if(!(e<s)){if((i=n.apply(a,u))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(c)?r?c.call(i,o(s,t,j,r),o(s,t,V,r)):(s++,c.call(i,o(s,t,j,r),o(s,t,V,r),o(s,t,j,t.notifyWith))):(n!==j&&(a=void 0,u=[i]),(r||t.resolveWith)(a,u))}},l=r?c:function(){try{c()}catch(i){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(i,l.stackTrace),e+1>=s&&(n!==V&&(a=void 0,u=[i]),t.rejectWith(a,u))}};e?l():(T.Deferred.getStackHook&&(l.stackTrace=T.Deferred.getStackHook()),i.setTimeout(l))}}return T.Deferred((function(i){t[0][3].add(o(0,i,v(r)?r:j,i.notifyWith)),t[1][3].add(o(0,i,v(e)?e:j)),t[2][3].add(o(0,i,v(n)?n:V))})).promise()},promise:function(e){return null!=e?T.extend(e,r):r}},s={};return T.each(t,(function(e,i){var o=i[2],a=i[5];r[i[1]]=o.add,a&&o.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=o.fireWith})),r.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,n=t,i=Array(n),r=a.call(arguments),s=T.Deferred(),o=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?a.call(arguments):n,--t||s.resolveWith(i,r)}};if(t<=1&&(B(e,s.done(o(n)).resolve,s.reject,!t),"pending"===s.state()||v(r[n]&&r[n].then)))return s.then();for(;n--;)B(r[n],o(n),s.reject);return s.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&q.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},T.readyException=function(e){i.setTimeout((function(){throw e}))};var H=T.Deferred();function K(){b.removeEventListener("DOMContentLoaded",K),i.removeEventListener("load",K),T.ready()}T.fn.ready=function(e){return H.then(e).catch((function(e){T.readyException(e)})),this},T.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==e&&--T.readyWait>0||H.resolveWith(b,[T]))}}),T.ready.then=H.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?i.setTimeout(T.ready):(b.addEventListener("DOMContentLoaded",K),i.addEventListener("load",K));var G=function(e,t,n,i,r,s,o){var a=0,u=e.length,c=null==n;if("object"===_(n))for(a in r=!0,n)G(e,t,a,n[a],!0,s,o);else if(void 0!==i&&(r=!0,v(i)||(o=!0),c&&(o?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(T(e),n)})),t))for(;a<u;a++)t(e[a],n,o?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):u?t(e[0],n):s},W=/^-ms-/,z=/-([a-z])/g;function $(e,t){return t.toUpperCase()}function Y(e){return e.replace(W,"ms-").replace(z,$)}var J=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=T.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},J(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[Y(t)]=n;else for(i in t)r[Y(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in i?[t]:t.match(U)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||T.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!T.isEmptyObject(t)}};var X=new Q,Z=new Q,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}T.extend({hasData:function(e){return Z.hasData(e)||X.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),T.fn.extend({data:function(e,t){var n,i,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=Z.get(s),1===s.nodeType&&!X.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=Y(i.slice(5)),ne(s,i,r[i]));X.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){Z.set(this,e)})):G(this,(function(t){var n;if(s&&void 0===t)return void 0!==(n=Z.get(s,e))||void 0!==(n=ne(s,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),T.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=X.get(e,t),n&&(!i||Array.isArray(n)?i=X.access(e,t,T.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=T.queue(e,t),i=n.length,r=n.shift(),s=T._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,(function(){T.dequeue(e,t)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:T.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),T.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?T.queue(this[0],e):void 0===t?this:this.each((function(){var n=T.queue(this,e,t);T._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&T.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){T.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=T.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=X.get(s[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),se=["Top","Right","Bottom","Left"],oe=b.documentElement,ae=function(e){return T.contains(e.ownerDocument,e)},ue={composed:!0};oe.getRootNode&&(ae=function(e){return T.contains(e.ownerDocument,e)||e.getRootNode(ue)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===T.css(e,"display")};function le(e,t,n,i){var r,s,o=20,a=i?function(){return i.cur()}:function(){return T.css(e,t,"")},u=a(),c=n&&n[3]||(T.cssNumber[t]?"":"px"),l=e.nodeType&&(T.cssNumber[t]||"px"!==c&&+u)&&re.exec(T.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;o--;)T.style(e,t,l+c),(1-s)*(1-(s=a()/u||.5))<=0&&(o=0),l/=s;l*=2,T.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=l,i.end=r)),r}var he={};function de(e){var t,n=e.ownerDocument,i=e.nodeName,r=he[i];return r||(t=n.body.appendChild(n.createElement(i)),r=T.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),he[i]=r,r)}function fe(e,t){for(var n,i,r=[],s=0,o=e.length;s<o;s++)(i=e[s]).style&&(n=i.style.display,t?("none"===n&&(r[s]=X.get(i,"display")||null,r[s]||(i.style.display="")),""===i.style.display&&ce(i)&&(r[s]=de(i))):"none"!==n&&(r[s]="none",X.set(i,"display",n)));for(s=0;s<o;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}T.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?T(this).show():T(this).hide()}))}});var pe,me,ge=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;pe=b.createDocumentFragment().appendChild(b.createElement("div")),(me=b.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),pe.appendChild(me),g.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",g.option=!!pe.lastChild;var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?T.merge([e],n):n}function Ie(e,t){for(var n=0,i=e.length;n<i;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,g.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);var _e=/<|&#?\w+;/;function Ee(e,t,n,i,r){for(var s,o,a,u,c,l,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((s=e[f])||0===s)if("object"===_(s))T.merge(d,s.nodeType?[s]:s);else if(_e.test(s)){for(o=o||h.appendChild(t.createElement("div")),a=(ve.exec(s)||["",""])[1].toLowerCase(),u=be[a]||be._default,o.innerHTML=u[1]+T.htmlPrefilter(s)+u[2],l=u[0];l--;)o=o.lastChild;T.merge(d,o.childNodes),(o=h.firstChild).textContent=""}else d.push(t.createTextNode(s));for(h.textContent="",f=0;s=d[f++];)if(i&&T.inArray(s,i)>-1)r&&r.push(s);else if(c=ae(s),o=we(h.appendChild(s),"script"),c&&Ie(o),n)for(l=0;s=o[l++];)ye.test(s.type||"")&&n.push(s);return h}var Te=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function ke(){return!1}function Ce(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,i,r,s){var o,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Ae(e,a,n,i,t[a],s);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ke;else if(!r)return e;return 1===s&&(o=r,r=function(e){return T().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=T.guid++)),e.each((function(){T.event.add(this,t,r,i,n)}))}function xe(e,t,n){n?(X.set(e,t,!1),T.event.add(e,t,{namespace:!1,handler:function(e){var i,r,s=X.get(this,t);if(1&e.isTrigger&&this[t]){if(s.length)(T.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=a.call(arguments),X.set(this,t,s),i=n(this,t),this[t](),s!==(r=X.get(this,t))||i?X.set(this,t,!1):r={},s!==r)return e.stopImmediatePropagation(),e.preventDefault(),r&&r.value}else s.length&&(X.set(this,t,{value:T.event.trigger(T.extend(s[0],T.Event.prototype),s.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&T.event.add(e,t,Se)}T.event={global:{},add:function(e,t,n,i,r){var s,o,a,u,c,l,h,d,f,p,m,g=X.get(e);if(J(e))for(n.handler&&(n=(s=n).handler,r=s.selector),r&&T.find.matchesSelector(oe,r),n.guid||(n.guid=T.guid++),(u=g.events)||(u=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(t){return void 0!==T&&T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(U)||[""]).length;c--;)f=m=(a=Te.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=T.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=T.event.special[f]||{},l=T.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&T.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=u[f])||((d=u[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,o)||e.addEventListener&&e.addEventListener(f,o)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,l):d.push(l),T.event.global[f]=!0)},remove:function(e,t,n,i,r){var s,o,a,u,c,l,h,d,f,p,m,g=X.hasData(e)&&X.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(U)||[""]).length;c--;)if(f=m=(a=Te.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=T.event.special[f]||{},d=u[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)l=d[s],!r&&m!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(d.splice(s,1),l.selector&&d.delegateCount--,h.remove&&h.remove.call(e,l));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||T.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)T.event.remove(e,f+t[c],n,i,!0);T.isEmptyObject(u)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,s,o,a=new Array(arguments.length),u=T.event.fix(e),c=(X.get(this,"events")||Object.create(null))[u.type]||[],l=T.event.special[u.type]||{};for(a[0]=u,t=1;t<arguments.length;t++)a[t]=arguments[t];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(o=T.event.handlers.call(this,u,c),t=0;(r=o[t++])&&!u.isPropagationStopped();)for(u.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==s.namespace&&!u.rnamespace.test(s.namespace)||(u.handleObj=s,u.data=s.data,void 0!==(i=((T.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a))&&!1===(u.result=i)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,i,r,s,o,a=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],o={},n=0;n<u;n++)void 0===o[r=(i=t[n]).selector+" "]&&(o[r]=i.needsContext?T(r,this).index(c)>-1:T.find(r,this,null,[c]).length),o[r]&&s.push(i);s.length&&a.push({elem:c,handlers:s})}return c=this,u<t.length&&a.push({elem:c,handlers:t.slice(u)}),a},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[T.expando]?e:new T.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&N(t,"input")&&xe(t,"click",Se),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&N(t,"input")&&xe(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&N(t,"input")&&X.get(t,"click")||N(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},T.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},T.Event=function(e,t){if(!(this instanceof T.Event))return new T.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&T.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(e,t){T.event.special[e]={setup:function(){return xe(this,e,Ce),!1},trigger:function(){return xe(this,e),!0},_default:function(){return!0},delegateType:t}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){T.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,s=e.handleObj;return r&&(r===i||T.contains(i,r))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}})),T.fn.extend({on:function(e,t,n,i){return Ae(this,e,t,n,i)},one:function(e,t,n,i){return Ae(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,T(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each((function(){T.event.remove(this,e,n,t)}))}});var Ne=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pe(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&T(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,i,r,s,o,a;if(1===t.nodeType){if(X.hasData(e)&&(a=X.get(e).events))for(r in X.remove(t,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)T.event.add(t,r,a[r][n]);Z.hasData(e)&&(s=Z.access(e),o=T.extend({},s),Z.set(t,o))}}function Fe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ue(e,t,n,i){t=u(t);var r,s,o,a,c,l,h=0,d=e.length,f=d-1,p=t[0],m=v(p);if(m||d>1&&"string"==typeof p&&!g.checkClone&&De.test(p))return e.each((function(r){var s=e.eq(r);m&&(t[0]=p.call(this,r,s.html())),Ue(s,t,n,i)}));if(d&&(s=(r=Ee(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(a=(o=T.map(we(r,"script"),Oe)).length;h<d;h++)c=r,h!==f&&(c=T.clone(c,!0,!0),a&&T.merge(o,we(c,"script"))),n.call(e[h],c,h);if(a)for(l=o[o.length-1].ownerDocument,T.map(o,Le),h=0;h<a;h++)c=o[h],ye.test(c.type||"")&&!X.access(c,"globalEval")&&T.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):I(c.textContent.replace(Re,""),c,l))}return e}function je(e,t,n){for(var i,r=t?T.filter(t,e):e,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||T.cleanData(we(i)),i.parentNode&&(n&&ae(i)&&Ie(we(i,"script")),i.parentNode.removeChild(i));return e}T.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,s,o,a=e.cloneNode(!0),u=ae(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||T.isXMLDoc(e)))for(o=we(a),i=0,r=(s=we(e)).length;i<r;i++)Fe(s[i],o[i]);if(t)if(n)for(s=s||we(e),o=o||we(a),i=0,r=s.length;i<r;i++)Me(s[i],o[i]);else Me(e,a);return(o=we(a,"script")).length>0&&Ie(o,!u&&we(e,"script")),a},cleanData:function(e){for(var t,n,i,r=T.event.special,s=0;void 0!==(n=e[s]);s++)if(J(n)){if(t=n[X.expando]){if(t.events)for(i in t.events)r[i]?T.event.remove(n,i):T.removeEvent(n,i,t.handle);n[X.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),T.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return G(this,(function(e){return void 0===e?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ue(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pe(this,e).appendChild(e)}))},prepend:function(){return Ue(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Pe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(T.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return T.clone(this,e,t)}))},html:function(e){return G(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!be[(ve.exec(e)||["",""])[1].toLowerCase()]){e=T.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(T.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ue(this,arguments,(function(t){var n=this.parentNode;T.inArray(this,e)<0&&(T.cleanData(we(this)),n&&n.replaceChild(t,this))}),e)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){T.fn[e]=function(e){for(var n,i=[],r=T(e),s=r.length-1,o=0;o<=s;o++)n=o===s?this:this.clone(!0),T(r[o])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var Ve=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),Be=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},qe=function(e,t,n){var i,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=s[r];return i},He=new RegExp(se.join("|"),"i");function Ke(e,t,n){var i,r,s,o,a=e.style;return(n=n||Be(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||ae(e)||(o=T.style(e,t)),!g.pixelBoxStyles()&&Ve.test(o)&&He.test(t)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(c).appendChild(l);var e=i.getComputedStyle(l);n="1%"!==e.top,u=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",s=12===t(l.offsetWidth/3),oe.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,s,o,a,u,c=b.createElement("div"),l=b.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===l.style.backgroundClip,T.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",oe.appendChild(e).appendChild(t).appendChild(n),r=i.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,oe.removeChild(e)),a}}))}();var We=["Webkit","Moz","ms"],ze=b.createElement("div").style,$e={};function Ye(e){return T.cssProps[e]||$e[e]||(e in ze?e:$e[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in ze)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Xe={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var i=re.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function tt(e,t,n,i,r,s){var o="width"===t?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(u+=T.css(e,n+se[o],!0,r)),i?("content"===n&&(u-=T.css(e,"padding"+se[o],!0,r)),"margin"!==n&&(u-=T.css(e,"border"+se[o]+"Width",!0,r))):(u+=T.css(e,"padding"+se[o],!0,r),"padding"!==n?u+=T.css(e,"border"+se[o]+"Width",!0,r):a+=T.css(e,"border"+se[o]+"Width",!0,r));return!i&&s>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-u-a-.5))||0),u}function nt(e,t,n){var i=Be(e),r=(!g.boxSizingReliable()||n)&&"border-box"===T.css(e,"boxSizing",!1,i),s=r,o=Ke(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ve.test(o)){if(!n)return o;o="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&N(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===T.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===T.css(e,"boxSizing",!1,i),(s=a in e)&&(o=e[a])),(o=parseFloat(o)||0)+tt(e,t,n||(r?"border":"content"),s,i,o)+"px"}function it(e,t,n,i,r){return new it.prototype.init(e,t,n,i,r)}T.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ke(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=Y(t),u=Qe.test(t),c=e.style;if(u||(t=Ye(a)),o=T.cssHooks[t]||T.cssHooks[a],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:c[t];"string"==(s=typeof n)&&(r=re.exec(n))&&r[1]&&(n=le(e,t,r),s="number"),null!=n&&n==n&&("number"!==s||u||(n+=r&&r[3]||(T.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,s,o,a=Y(t);return Qe.test(t)||(t=Ye(a)),(o=T.cssHooks[t]||T.cssHooks[a])&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=Ke(e,t,i)),"normal"===r&&t in Ze&&(r=Ze[t]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),T.each(["height","width"],(function(e,t){T.cssHooks[t]={get:function(e,n,i){if(n)return!Je.test(T.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,i):qe(e,Xe,(function(){return nt(e,t,i)}))},set:function(e,n,i){var r,s=Be(e),o=!g.scrollboxSize()&&"absolute"===s.position,a=(o||i)&&"border-box"===T.css(e,"boxSizing",!1,s),u=i?tt(e,t,i,a,s):0;return a&&o&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-tt(e,t,"border",!1,s)-.5)),u&&(r=re.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=T.css(e,t)),et(0,n,u)}}})),T.cssHooks.marginLeft=Ge(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ke(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(e,t){T.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+se[i]+t]=s[i]||s[i-2]||s[0];return r}},"margin"!==e&&(T.cssHooks[e+t].set=et)})),T.fn.extend({css:function(e,t){return G(this,(function(e,t,n){var i,r,s={},o=0;if(Array.isArray(t)){for(i=Be(e),r=t.length;o<r;o++)s[t[o]]=T.css(e,t[o],!1,i);return s}return void 0!==n?T.style(e,t,n):T.css(e,t)}),e,t,arguments.length>1)}}),T.Tween=it,it.prototype={constructor:it,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||T.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(T.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.options.duration?this.pos=t=T.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=T.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){T.fx.step[e.prop]?T.fx.step[e.prop](e):1!==e.elem.nodeType||!T.cssHooks[e.prop]&&null==e.elem.style[Ye(e.prop)]?e.elem[e.prop]=e.now:T.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},T.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},T.fx=it.prototype.init,T.fx.step={};var rt,st,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function ut(){st&&(!1===b.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ut):i.setTimeout(ut,T.fx.interval),T.fx.tick())}function ct(){return i.setTimeout((function(){rt=void 0})),rt=Date.now()}function lt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=se[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ht(e,t,n){for(var i,r=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),s=0,o=r.length;s<o;s++)if(i=r[s].call(n,t,e))return i}function dt(e,t,n){var i,r,s=0,o=dt.prefilters.length,a=T.Deferred().always((function(){delete u.elem})),u=function(){if(r)return!1;for(var t=rt||ct(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),s=0,o=c.tweens.length;s<o;s++)c.tweens[s].run(i);return a.notifyWith(e,[c,i,n]),i<1&&o?n:(o||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var i=T.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),l=c.props;for(function(e,t){var n,i,r,s,o;for(n in e)if(r=t[i=Y(n)],s=e[n],Array.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(o=T.cssHooks[i])&&"expand"in o)for(n in s=o.expand(s),delete e[i],s)n in e||(e[n]=s[n],t[n]=r);else t[i]=r}(l,c.opts.specialEasing);s<o;s++)if(i=dt.prefilters[s].call(c,e,l,c.opts))return v(i.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return T.map(l,ht,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(U);for(var n,i=0,r=e.length;i<r;i++)n=e[i],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,s,o,a,u,c,l,h="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&ce(e),g=X.get(e,"fxshow");for(i in n.queue||(null==(o=T._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always((function(){d.always((function(){o.unqueued--,T.queue(e,"fx").length||o.empty.fire()}))}))),t)if(r=t[i],ot.test(r)){if(delete t[i],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||T.style(e,i)}if((u=!T.isEmptyObject(t))||!T.isEmptyObject(f))for(i in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=X.get(e,"display")),"none"===(l=T.css(e,"display"))&&(c?l=c:(fe([e],!0),c=e.style.display||c,l=T.css(e,"display"),fe([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===T.css(e,"float")&&(u||(d.done((function(){p.display=c})),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),u=!1,f)u||(g?"hidden"in g&&(m=g.hidden):g=X.access(e,"fxshow",{display:c}),s&&(g.hidden=!m),m&&fe([e],!0),d.done((function(){for(i in m||fe([e]),X.remove(e,"fxshow"),f)T.style(e,i,f[i])}))),u=ht(m?g[i]:0,i,d),i in g||(g[i]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),T.speed=function(e,t,n){var i=e&&"object"==typeof e?T.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return T.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in T.fx.speeds?i.duration=T.fx.speeds[i.duration]:i.duration=T.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&T.dequeue(this,i.queue)},i},T.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=T.isEmptyObject(e),s=T.speed(t,n,i),o=function(){var t=dt(this,T.extend({},e),s);(r||X.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",s=T.timers,o=X.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&at.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(n),t=!1,s.splice(r,1));!t&&n||T.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=T.timers,o=i?i.length:0;for(n.finish=!0,T.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),T.each(["toggle","show","hide"],(function(e,t){var n=T.fn[t];T.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,i,r)}})),T.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){T.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),T.timers=[],T.fx.tick=function(){var e,t=0,n=T.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||T.fx.stop(),rt=void 0},T.fx.timer=function(e){T.timers.push(e),T.fx.start()},T.fx.interval=13,T.fx.start=function(){st||(st=!0,ut())},T.fx.stop=function(){st=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(e,t){return e=T.fx&&T.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var ft,pt=T.expr.attrHandle;T.fn.extend({attr:function(e,t){return G(this,T.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){T.removeAttr(this,e)}))}}),T.extend({attr:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?T.prop(e,t,n):(1===s&&T.isXMLDoc(e)||(r=T.attrHooks[t.toLowerCase()]||(T.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void T.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=T.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(U);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?T.removeAttr(e,n):e.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||T.find.attr;pt[t]=function(e,t,i){var r,s,o=t.toLowerCase();return i||(s=pt[o],pt[o]=r,r=null!=n(e,t,i)?o:null,pt[o]=s),r}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(U)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(U)||[]}T.fn.extend({prop:function(e,t){return G(this,T.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[T.propFix[e]||e]}))}}),T.extend({prop:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&T.isXMLDoc(e)||(t=T.propFix[t]||t,r=T.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=T.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(T.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(e){var t,n,i,r,s,o,a,u=0;if(v(e))return this.each((function(t){T(this).addClass(e.call(this,t,yt(this)))}));if((t=bt(e)).length)for(;n=this[u++];)if(r=yt(n),i=1===n.nodeType&&" "+vt(r)+" "){for(o=0;s=t[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");r!==(a=vt(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,s,o,a,u=0;if(v(e))return this.each((function(t){T(this).removeClass(e.call(this,t,yt(this)))}));if(!arguments.length)return this.attr("class","");if((t=bt(e)).length)for(;n=this[u++];)if(r=yt(n),i=1===n.nodeType&&" "+vt(r)+" "){for(o=0;s=t[o++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");r!==(a=vt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):v(e)?this.each((function(n){T(this).toggleClass(e.call(this,n,yt(this),t),t)})):this.each((function(){var t,r,s,o;if(i)for(r=0,s=T(this),o=bt(e);t=o[r++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==n||((t=yt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+vt(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var wt=/\r/g;T.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=v(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,T(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=T.map(r,(function(e){return null==e?"":e+""}))),(t=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=T.valHooks[r.type]||T.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(wt,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(e){var t=T.find.attr(e,"value");return null!=t?t:vt(T.text(e))}},select:{get:function(e){var t,n,i,r=e.options,s=e.selectedIndex,o="select-one"===e.type,a=o?null:[],u=o?s+1:r.length;for(i=s<0?u:o?s:0;i<u;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=T(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,s=T.makeArray(t),o=r.length;o--;)((i=r[o]).selected=T.inArray(T.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=T.inArray(T(e).val(),t)>-1}},g.checkOn||(T.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in i;var It=/^(?:focusinfocus|focusoutblur)$/,_t=function(e){e.stopPropagation()};T.extend(T.event,{trigger:function(e,t,n,r){var s,o,a,u,c,l,h,d,p=[n||b],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(o=d=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!It.test(m+T.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[T.expando]?e:new T.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:T.makeArray(t,[e]),h=T.event.special[m]||{},r||!h.trigger||!1!==h.trigger.apply(n,t))){if(!r&&!h.noBubble&&!y(n)){for(u=h.delegateType||m,It.test(u+m)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||b)&&p.push(a.defaultView||a.parentWindow||i)}for(s=0;(o=p[s++])&&!e.isPropagationStopped();)d=o,e.type=s>1?u:h.bindType||m,(l=(X.get(o,"events")||Object.create(null))[e.type]&&X.get(o,"handle"))&&l.apply(o,t),(l=c&&o[c])&&l.apply&&J(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!J(n)||c&&v(n[m])&&!y(n)&&((a=n[c])&&(n[c]=null),T.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,_t),n[m](),e.isPropagationStopped()&&d.removeEventListener(m,_t),T.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var i=T.extend(new T.Event,n,{type:e,isSimulated:!0});T.event.trigger(i,null,t)}}),T.fn.extend({trigger:function(e,t){return this.each((function(){T.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return T.event.trigger(e,t,n,!0)}}),g.focusin||T.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){T.event.simulate(t,e.target,T.event.fix(e))};T.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,t);r||i.addEventListener(e,n,!0),X.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,t)-1;r?X.access(i,t,r):(i.removeEventListener(e,n,!0),X.remove(i,t))}}}));var Et=i.location,Tt={guid:Date.now()},St=/\?/;T.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||T.error("Invalid XML: "+(n?T.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var kt=/\[\]$/,Ct=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;function Nt(e,t,n,i){var r;if(Array.isArray(t))T.each(t,(function(t,r){n||kt.test(e)?i(e,r):Nt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==_(t))i(e,t);else for(r in t)Nt(e+"["+r+"]",t[r],n,i)}T.param=function(e,t){var n,i=[],r=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!T.isPlainObject(e))T.each(e,(function(){r(this.name,this.value)}));else for(n in e)Nt(n,e[n],t,r);return i.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=T.prop(this,"elements");return e?T.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!T(this).is(":disabled")&&xt.test(this.nodeName)&&!At.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,(function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}})):{name:t.name,value:n.replace(Ct,"\r\n")}})).get()}});var Dt=/%20/g,Rt=/#.*$/,Pt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Mt=/^\/\//,Ft={},Ut={},jt="*/".concat("*"),Vt=b.createElement("a");function Bt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(U)||[];if(v(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function qt(e,t,n,i){var r={},s=e===Ut;function o(a){var u;return r[a]=!0,T.each(e[a]||[],(function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||r[c]?s?!(u=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),u}return o(t.dataTypes[0])||!r["*"]&&o("*")}function Ht(e,t){var n,i,r=T.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&T.extend(!0,e,i),e}Vt.href=Et.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,T.ajaxSettings),t):Ht(T.ajaxSettings,e)},ajaxPrefilter:Bt(Ft),ajaxTransport:Bt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,s,o,a,u,c,l,h,d,f=T.ajaxSetup({},t),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?T(p):T.event,g=T.Deferred(),v=T.Callbacks("once memory"),y=f.statusCode||{},w={},I={},_="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=Ot.exec(s);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=I[e.toLowerCase()]=I[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||_;return n&&n.abort(t),S(0,t),this}};if(g.promise(E),f.url=((e||f.url||Et.href)+"").replace(Mt,Et.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(U)||[""],null==f.crossDomain){u=b.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Vt.protocol+"//"+Vt.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=T.param(f.data,f.traditional)),qt(Ft,f,t,E),c)return E;for(h in(l=T.event&&f.global)&&0==T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Lt.test(f.type),r=f.url.replace(Rt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(d=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(St.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Pt,"$1"),d=(St.test(r)?"&":"?")+"_="+Tt.guid+++d),f.url=r+d),f.ifModified&&(T.lastModified[r]&&E.setRequestHeader("If-Modified-Since",T.lastModified[r]),T.etag[r]&&E.setRequestHeader("If-None-Match",T.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&E.setRequestHeader("Content-Type",f.contentType),E.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+jt+"; q=0.01":""):f.accepts["*"]),f.headers)E.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,E,f)||c))return E.abort();if(_="abort",v.add(f.complete),E.done(f.success),E.fail(f.error),n=qt(Ut,f,t,E)){if(E.readyState=1,l&&m.trigger("ajaxSend",[E,f]),c)return E;f.async&&f.timeout>0&&(a=i.setTimeout((function(){E.abort("timeout")}),f.timeout));try{c=!1,n.send(w,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,o,u){var h,d,b,w,I,_=t;c||(c=!0,a&&i.clearTimeout(a),n=void 0,s=u||"",E.readyState=e>0?4:0,h=e>=200&&e<300||304===e,o&&(w=function(e,t,n){for(var i,r,s,o,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)s=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==u[0]&&u.unshift(s),n[s]}(f,E,o)),!h&&T.inArray("script",f.dataTypes)>-1&&T.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),w=function(e,t,n,i){var r,s,o,a,u,c={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(s=l.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=s,s=l.shift())if("*"===s)s=u;else if("*"!==u&&u!==s){if(!(o=c[u+" "+s]||c["* "+s]))for(r in c)if((a=r.split(" "))[1]===s&&(o=c[u+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[r]:!0!==c[r]&&(s=a[0],l.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+u+" to "+s}}}return{state:"success",data:t}}(f,w,E,h),h?(f.ifModified&&((I=E.getResponseHeader("Last-Modified"))&&(T.lastModified[r]=I),(I=E.getResponseHeader("etag"))&&(T.etag[r]=I)),204===e||"HEAD"===f.type?_="nocontent":304===e?_="notmodified":(_=w.state,d=w.data,h=!(b=w.error))):(b=_,!e&&_||(_="error",e<0&&(e=0))),E.status=e,E.statusText=(t||_)+"",h?g.resolveWith(p,[d,_,E]):g.rejectWith(p,[E,_,b]),E.statusCode(y),y=void 0,l&&m.trigger(h?"ajaxSuccess":"ajaxError",[E,f,h?d:b]),v.fireWith(p,[E,_]),l&&(m.trigger("ajaxComplete",[E,f]),--T.active||T.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return T.get(e,t,n,"json")},getScript:function(e,t){return T.get(e,void 0,t,"script")}}),T.each(["get","post"],(function(e,t){T[t]=function(e,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),T.ajax(T.extend({url:e,type:t,dataType:r,data:n,success:i},T.isPlainObject(e)&&e))}})),T.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),T._evalUrl=function(e,t,n){return T.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){T.globalEval(e,t,n)}})},T.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=T(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){T(this).wrapInner(e.call(this,t))})):this.each((function(){var t=T(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){T(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(e){return!T.expr.pseudos.visible(e)},T.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Gt=T.ajaxSettings.xhr();g.cors=!!Gt&&"withCredentials"in Gt,g.ajax=Gt=!!Gt,T.ajaxTransport((function(e){var t,n;if(g.cors||Gt&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Kt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),T.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return T.globalEval(e),e}}}),T.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),T.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=T("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Wt,zt=[],$t=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||T.expando+"_"+Tt.guid++;return this[e]=!0,e}}),T.ajaxPrefilter("json jsonp",(function(e,t,n){var r,s,o,a=!1!==e.jsonp&&($t.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace($t,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||T.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=i[r],i[r]=function(){o=arguments},n.always((function(){void 0===s?T(i).removeProp(r):i[r]=s,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&v(s)&&s(o[0]),o=s=void 0})),"script"})),g.createHTMLDocument=((Wt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),T.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(i)):t=b),s=!n&&[],(r=D.exec(e))?[t.createElement(r[1])]:(r=Ee([e],t,s),s&&s.length&&T(s).remove(),T.merge([],r.childNodes)));var i,r,s},T.fn.load=function(e,t,n){var i,r,s,o=this,a=e.indexOf(" ");return a>-1&&(i=vt(e.slice(a)),e=e.slice(0,a)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&T.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){s=arguments,o.html(i?T("<div>").append(T.parseHTML(e)).find(i):e)})).always(n&&function(e,t){o.each((function(){n.apply(this,s||[e.responseText,t,e])}))}),this},T.expr.pseudos.animated=function(e){return T.grep(T.timers,(function(t){return e===t.elem})).length},T.offset={setOffset:function(e,t,n){var i,r,s,o,a,u,c=T.css(e,"position"),l=T(e),h={};"static"===c&&(e.style.position="relative"),a=l.offset(),s=T.css(e,"top"),u=T.css(e,"left"),("absolute"===c||"fixed"===c)&&(s+u).indexOf("auto")>-1?(o=(i=l.position()).top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(u)||0),v(t)&&(t=t.call(e,n,T.extend({},a))),null!=t.top&&(h.top=t.top-a.top+o),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):l.css(h)}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){T.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===T.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===T.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=T(e).offset()).top+=T.css(e,"borderTopWidth",!0),r.left+=T.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-T.css(i,"marginTop",!0),left:t.left-r.left-T.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===T.css(e,"position");)e=e.offsetParent;return e||oe}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;T.fn[e]=function(i){return G(this,(function(e,i,r){var s;if(y(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===r)return s?s[t]:e[i];s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):e[i]=r}),e,i,arguments.length)}})),T.each(["top","left"],(function(e,t){T.cssHooks[t]=Ge(g.pixelPosition,(function(e,n){if(n)return n=Ke(e,t),Ve.test(n)?T(e).position()[t]+"px":n}))})),T.each({Height:"height",Width:"width"},(function(e,t){T.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){T.fn[i]=function(r,s){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===s?"margin":"border");return G(this,(function(t,n,r){var s;return y(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?T.css(t,n,a):T.style(t,n,r,a)}),t,o?r:void 0,o)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){T.fn[t]=function(e){return this.on(t,e)}})),T.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){T.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;T.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=a.call(arguments,2),r=function(){return e.apply(t||this,i.concat(a.call(arguments)))},r.guid=e.guid=e.guid||T.guid++,r},T.holdReady=function(e){e?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=N,T.isFunction=v,T.isWindow=y,T.camelCase=Y,T.type=_,T.now=Date.now,T.isNumeric=function(e){var t=T.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},T.trim=function(e){return null==e?"":(e+"").replace(Yt,"")},void 0===(n=function(){return T}.apply(t,[]))||(e.exports=n);var Jt=i.jQuery,Qt=i.$;return T.noConflict=function(e){return i.$===T&&(i.$=Qt),e&&i.jQuery===T&&(i.jQuery=Jt),T},void 0===r&&(i.jQuery=i.$=T),T}))},997:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(e){e&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},544:()=>{var e={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(e=function(){"use strict";var e=[],t=[],n="mdlComponentConfigInternal_";function i(t,n){for(var i=0;i<e.length;i++)if(e[i].className===t)return void 0!==n&&(e[i]=n),e[i];return!1}function r(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,t){return-1!==r(e).indexOf(t)}function o(e,t,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var i=document.createEvent("Events");return i.initEvent(e,t,n),i}function a(t,n){if(void 0===t&&void 0===n)for(var r=0;r<e.length;r++)a(e[r].className,e[r].cssClass);else{var s=t;if(void 0===n){var o=i(s);o&&(n=o.cssClass)}for(var c=document.querySelectorAll("."+n),l=0;l<c.length;l++)u(c[l],s)}}function u(a,u){if(!("object"==typeof a&&a instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=o("mdl-componentupgrading",!0,!0);if(a.dispatchEvent(c),!c.defaultPrevented){var l=r(a),h=[];if(u)s(a,u)||h.push(i(u));else{var d=a.classList;e.forEach((function(e){d.contains(e.cssClass)&&-1===h.indexOf(e)&&!s(a,e.className)&&h.push(e)}))}for(var f,p=0,m=h.length;p<m;p++){if(!(f=h[p]))throw new Error("Unable to find a registered component for the given class.");l.push(f.className),a.setAttribute("data-upgraded",l.join(","));var g=new f.classConstructor(a);g[n]=f,t.push(g);for(var v=0,y=f.callbacks.length;v<y;v++)f.callbacks[v](a);f.widget&&(a[f.className]=g);var b=o("mdl-componentupgraded",!0,!1);a.dispatchEvent(b)}}}function c(e){if(e){var i=t.indexOf(e);t.splice(i,1);var r=e.element_.getAttribute("data-upgraded").split(","),s=r.indexOf(e[n].classAsString);r.splice(s,1),e.element_.setAttribute("data-upgraded",r.join(","));var a=o("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(a)}}return{upgradeDom:a,upgradeElement:u,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,i=0,r=t.length;i<r;i++)(n=t[i])instanceof HTMLElement&&(u(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)a(e[t].className)},registerUpgradedCallback:function(e,t){var n=i(e);n&&n.callbacks.push(t)},register:function(t){var r=!0;void 0===t.widget&&void 0===t.widget||(r=t.widget||t.widget);var s={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:r,callbacks:[]};if(e.forEach((function(e){if(e.cssClass===s.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===s.className)throw new Error("The provided className has already been registered")})),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");i(t.classAsString,s)||e.push(s)},downgradeElements:function(e){var n=function(e){t.filter((function(t){return t.element_===e})).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var i=0;i<e.length;i++)n(e[i]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}()).ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})}))},210:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},634:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[n,i,r],o=0;o<s.length;o++){var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[o].appendChild(a)}t.appendChild(n),t.appendChild(i),t.appendChild(r),this.element_.appendChild(t)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},573:()=>{!function(){"use strict";var e=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},e.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(e){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},393:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(755)),s=n(99),o=n(935),a=function(e,t,n){e&&e.linkWithPopup(t).then((function(e){(0,o.toast)("アカウントの紐づけを完了しました！"),(0,r.default)(n).next("p.status").addClass("linked")})).catch((function(e){console.error(e),(0,o.toast)("アカウントの紐づけに失敗しました...")}))},u=function(e,t){var n,i=s.firebase.auth.EmailAuthProvider.credential(e,t);null===(n=s.auth.currentUser)||void 0===n||n.linkWithCredential(i).then((function(e){var t;e.user&&(null===(t=s.auth.currentUser)||void 0===t||t.sendEmailVerification().then((function(){(0,o.toast)("確認メールを送信しました"),(0,r.default)(".container.setting .btnC button#mail").next("p.status").addClass("linked"),(0,r.default)(".modal").fadeOut()})).catch((function(e){console.error(e),(0,o.toast)("エラーが発生しました")})))})).catch((function(e){console.error(e),(0,o.toast)("メールアドレスの紐づけに失敗しました")}))},c=function(){var e;null===(e=s.auth.currentUser)||void 0===e||e.delete().then((function(){alert("アカウントを削除しました。ご利用ありがとうございました。"),location.href="/login"})).catch((function(e){console.error(e),(0,o.toast)("エラーが発生しました")}))};window.addEventListener("DOMContentLoaded",(function(){(0,r.default)("button#mail").on("click",(function(){var e,t=this;if((0,r.default)(this).next("p.status").hasClass("linked"))confirm("メールアドレスを紐づけ解除しますか？")&&(null===(e=s.auth.currentUser)||void 0===e||e.unlink("password").then((function(){(0,o.toast)("紐づけを解除しました"),(0,r.default)(t).next("p.status").removeClass("linked")})).catch((function(e){console.error(e),(0,o.toast)("紐づけ解除に失敗しました")})));else if(confirm("メールアドレスを紐づけしますか？")){var n='\n          <form action="#" id="emailLinkForm">\n            <input type="email" id="mail" required placeholder="メールアドレス">\n            <input type="password" id="pass" required placeholder="パスワード">\n            <select id="reauth" required>\n              <option selected value="">再認証に利用するサービスを選択してください</option>\n              <option value="google" '.concat(s.userData.google||"disabled",'>Google</option>\n              <option value="facebook" ').concat(s.userData.facebook||"disabled",'>Facebook</option>\n              <option value="twitter" ').concat(s.userData.twitter||"disabled",'>Twitter</option>\n            </select>\n            <input type="submit" value="確認メール送信">\n          </form>\n        ');(0,o.modal)({ttl:"",detail:""}),(0,r.default)(".modal .modalContainer").append(n),(0,o.modal)({ttl:"必要情報入力",detail:"メールアドレスとパスワードを入力してください。\n確認メールが届きます。利用できるメールアドレスを登録してください。"},!0,!0),(0,r.default)(".modal .modalContainer form#emailLinkForm").on("submit",(function(e){e.preventDefault();var t=(0,r.default)(".modal .modalContainer input#mail").val(),n=(0,r.default)(".modal .modalContainer input#pass").val(),i=(0,r.default)(".modal .modalContainer select").val();t&&n&&i&&function(e,t,n){var i,r,a;"google"===n&&(null===(i=s.auth.currentUser)||void 0===i||i.reauthenticateWithPopup(new s.firebase.auth.GoogleAuthProvider).then((function(){return u(e,t)})).catch((function(e){console.error(e),(0,o.toast)("再認証に失敗しました")}))),"facebook"===n&&(null===(r=s.auth.currentUser)||void 0===r||r.reauthenticateWithPopup(new s.firebase.auth.FacebookAuthProvider).then((function(){return u(e,t)})).catch((function(e){console.error(e),(0,o.toast)("再認証に失敗しました")}))),"twitter"===n&&(null===(a=s.auth.currentUser)||void 0===a||a.reauthenticateWithPopup(new s.firebase.auth.TwitterAuthProvider).then((function(){return u(e,t)})).catch((function(e){console.error(e),(0,o.toast)("再認証に失敗しました")})))}(String(t),String(n),String(i))}))}})),(0,r.default)("button#google").on("click",(function(){var e,t=this;(0,r.default)(this).next("p.status").hasClass("linked")?confirm("Googleアカウントを紐づけ解除しますか？")&&(null===(e=s.auth.currentUser)||void 0===e||e.unlink("google.com").then((function(){(0,o.toast)("紐づけを解除しました"),(0,r.default)(t).next("p.status").removeClass("linked")})).catch((function(e){console.error(e),(0,o.toast)("紐づけ解除に失敗しました")}))):confirm("Googleアカウントを紐づけしますか？")&&a(s.firebase.auth().currentUser,new s.firebase.auth.GoogleAuthProvider,this)})),(0,r.default)("button#facebook").on("click",(function(){var e,t=this;(0,r.default)(this).next("p.status").hasClass("linked")?confirm("Facebookアカウントを紐づけ解除しますか？")&&(null===(e=s.auth.currentUser)||void 0===e||e.unlink("facebook.com").then((function(){(0,o.toast)("紐づけを解除しました"),(0,r.default)(t).next("p.status").removeClass("linked")})).catch((function(e){console.error(e),(0,o.toast)("紐づけ解除に失敗しました")}))):confirm("Facebookアカウントを紐づけしますか？")&&a(s.firebase.auth().currentUser,new s.firebase.auth.FacebookAuthProvider,this)})),(0,r.default)("button#twitter").on("click",(function(){var e,t=this;(0,r.default)(this).next("p.status").hasClass("linked")?confirm("Twitterアカウントを紐づけ解除しますか？")&&(null===(e=s.auth.currentUser)||void 0===e||e.unlink("twitter.com").then((function(){(0,o.toast)("紐づけを解除しました"),(0,r.default)(t).next("p.status").removeClass("linked")})).catch((function(e){console.error(e),(0,o.toast)("紐づけ解除に失敗しました")}))):confirm("Twitterアカウントを紐づけしますか？")&&a(s.firebase.auth().currentUser,new s.firebase.auth.TwitterAuthProvider,this)})),(0,r.default)(".change p#changeMail").on("click",(function(){(0,o.modal)({ttl:"",detail:""}),(0,r.default)(".modal .modalContainer").append('\n      <form action="#" id="emailLinkForm">\n        <input type="email" id="oldMail" required placeholder="古いメールアドレス">\n        <input type="password" id="pass" required placeholder="パスワード">\n        <input type="email" id="newMail" required placeholder="新しいメールアドレス">\n        <input type="submit" value="更新">\n      </form>\n    '),(0,o.modal)({ttl:"必要情報入力",detail:"メールアドレスとパスワードを入力してください。\n確認メールが届きます。利用できるメールアドレスを登録してください。"},!0,!0),(0,r.default)(".modal .modalContainer form#emailLinkForm").on("submit",(function(e){e.preventDefault();var t=(0,r.default)(".modal .modalContainer input#oldMail").val(),n=(0,r.default)(".modal .modalContainer input#newMail").val(),i=(0,r.default)(".modal .modalContainer input#pass").val();t&&i&&n&&function(e,t,n){var i,a=s.firebase.auth.EmailAuthProvider.credential(e,t);null===(i=s.auth.currentUser)||void 0===i||i.reauthenticateWithCredential(a).then((function(){var e;null===(e=s.auth.currentUser)||void 0===e||e.updateEmail(n).then((function(){var e;null===(e=s.auth.currentUser)||void 0===e||e.sendEmailVerification().then((function(){(0,r.default)(".modal").fadeOut(),(0,o.toast)("確認メールを送信しました"),s.userData.mail=n})).catch((function(e){console.error(e),(0,o.toast)("確認メールを送信できませんでした")}))})).catch((function(e){console.error(e),(0,o.toast)("エラーが発生しました")}))})).catch((function(e){console.error(e),(0,o.toast)("再認証に失敗しました")}))}(String(t),String(i),String(n))}))})),(0,r.default)(".change p#changePass").on("click",(function(){s.userData.mail?s.auth.sendPasswordResetEmail(s.userData.mail).then((function(){(0,o.toast)("パスワード再設定メールを送信しました")})).catch((function(e){console.error(e),(0,o.toast)("メールを送信できませんでした")})):(0,o.toast)("メールアドレスを取得できませんでした")})),(0,r.default)(".dl p.ttl#delete").on("click",(function(){var e='\n      <form action="#" id="emailLinkForm">\n        <select id="reauth" required>\n          <option selected value="">再認証に利用するサービスを選択してください</option>\n          <option value="mail" '.concat(s.userData.mail||"disabled",'>メールアドレス</option>\n          <option value="google" ').concat(s.userData.google||"disabled",'>Google</option>\n          <option value="facebook" ').concat(s.userData.facebook||"disabled",'>Facebook</option>\n          <option value="twitter" ').concat(s.userData.twitter||"disabled",'>Twitter</option>\n        </select>\n        <div id="input" style="display:none">\n          <input type="email" id="mail" placeholder="メールアドレス">\n          <input type="password" id="pass" placeholder="パスワード">\n        </div>\n        <input type="submit" value="再認証してアカウント削除">\n      </form>\n    ');(0,o.modal)({ttl:"",detail:""}),(0,r.default)(".modal .modalContainer").append(e),(0,r.default)(".modal .modalContainer select").on("change",(function(){var e=(0,r.default)(this).next("div#input");"mail"===(0,r.default)(this).val()?(e.show(),e.find("input").attr("required","required")):(e.hide(),e.find("input").removeAttr("required"))})),(0,o.modal)({ttl:"アカウントを削除しますか？",detail:"アカウントに残高が残っている場合、お金は戻ってきません。残高が0円であることを確認して進んでください。\nまた、これまでの購入履歴やアカウントの紐づけが削除されます。\n\nアカウントを削除するには、再認証が必要です。以下選択肢からサービスを選択してください。"},!0,!0),(0,r.default)(".modal .modalContainer form#emailLinkForm").on("submit",(function(e){var t,n,i,a;e.preventDefault();var u=(0,r.default)(".modal .modalContainer input#mail").val(),l=(0,r.default)(".modal .modalContainer input#pass").val(),h=(0,r.default)(".modal .modalContainer select").val();if("mail"===h&&u&&l){var d=s.firebase.auth.EmailAuthProvider.credential(String(u),String(l));null===(t=s.auth.currentUser)||void 0===t||t.reauthenticateWithCredential(d).then(c).catch((function(e){console.error(e),(0,o.toast)("再認証に失敗しました")}))}else h&&("google"===h&&(null===(n=s.auth.currentUser)||void 0===n||n.reauthenticateWithPopup(new s.firebase.auth.GoogleAuthProvider).then(c).catch((function(e){console.error(e),(0,o.toast)("再認証に失敗しました")}))),"facebook"===h&&(null===(i=s.auth.currentUser)||void 0===i||i.reauthenticateWithPopup(new s.firebase.auth.FacebookAuthProvider).then(c).catch((function(e){console.error(e),(0,o.toast)("再認証に失敗しました")}))),"twitter"===h&&(null===(a=s.auth.currentUser)||void 0===a||a.reauthenticateWithPopup(new s.firebase.auth.TwitterAuthProvider).then(c).catch((function(e){console.error(e),(0,o.toast)("再認証に失敗しました")}))))}))}))}))},868:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.barcodeRegenerate=void 0;var s=n(99);t.barcodeRegenerate=function(){return i(void 0,void 0,void 0,(function(){var e,t,n,i;return r(this,(function(r){switch(r.label){case 0:return e=s.firebase.firestore(),t=s.userData.uid,[4,(n=e.collection("users").doc(t||void 0)).get()];case 1:if(!r.sent().exists)return[2,!1];r.label=2;case 2:return(i=function(){var e=Array.from(String(Math.round(1e12*Math.random()))).map((function(e){return Number(e)}));if(12!==e.length)return"";for(var t=0,n=0;n<12;n++)t+=n%2==0?e[n]:3*e[n];return t=(10-t%10)%10,e.join("")+String(t)}())?[4,n.set({barcode:i},{merge:!0})]:[3,2];case 3:return r.sent(),[3,4];case 4:return[2,!0]}}))}))}},434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadingBarcode=t.generateBarcode=void 0;var i=n(311),r="canvas#barcode";function s(e,t,n){n.fillStyle="#000",n.fillRect(2*e,10,2*t,110)}function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0;i<t.length;i++)s(t[i],1,e)}t.loadingBarcode=function(){var e=document.querySelector(r),t=e.getContext("2d");e&&t?(t.clearRect(0,0,e.width,e.height),t.font='24px "Product Sans", sans-serif',t.textAlign="center",t.textBaseline="middle",t.fillText("Loading...",118,74)):console.error("指定されたセレクタに該当するcanvasが存在しません")},t.generateBarcode=function(e){var t=document.querySelector(r),n=t.getContext("2d");if(t&&n){n.clearRect(0,0,t.width,t.height);var s=String(e),a=s.length;if(!(a>0&&a<=13))return 0===a?void console.error("バーコードの値が指定されていません"):void console.error("バーコードの値は13桁以内で指定してください");for(var u=Array.from(s),c=0;c<13;c++)u[c]||(u[c]="0");s=u.join("");var l=[];for(c=0;c<13;c++)l[c]=Number(s[c]);var h=l[12],d=0;for(c=0;c<12;c++)d+=c%2==0?l[c]:3*l[c];h!==(d=(10-d%10)%10)&&(console.warn("チェックディジットが異なります","正しいチェックディジットで描画します"),l[12]=d);var f=l;o(n,12,14);var p=i.digit1[f[0]];for(c=0;c<6;c++){var m=f[c+1],g=p[c],v=[];if(0===g)v=i.left[m];else{if(1!==g)return void console.error("設定にエラーがあります","data.tsを確認してください");v=(0,i.generateDigit1)((0,i.generateRight)(i.left[m]))}for(var y=0;y<7;y++)1===v[y]&&o(n,15+7*c+y)}for(o(n,58,60),c=6;c<12;c++)for(m=f[c+1],v=(0,i.generateRight)(i.left[m]),y=0;y<7;y++)1===v[y]&&o(n,62+7*(c-6)+y);o(n,105,107),n.font='16px "Product Sans", sans-serif',n.textAlign="center",n.textBaseline="top",n.fillText(f.join(""),118,131)}else console.error("指定されたセレクタに該当するcanvasが存在しません")}},311:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRight=t.generateDigit1=t.digit1=t.left=void 0,t.generateRight=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=Number(!e[n]);return t},t.generateDigit1=function(e){return e.reverse()},t.digit1=[[0,0,0,0,0,0],[0,0,1,0,1,1],[0,0,1,1,0,1],[0,0,1,1,1,0],[0,1,0,0,1,1],[0,1,1,0,0,1],[0,1,1,1,0,0],[0,1,0,1,0,1],[0,1,0,1,1,0],[0,1,1,0,1,0]],t.left=[[0,0,0,1,1,0,1],[0,0,1,1,0,0,1],[0,0,1,0,0,1,1],[0,1,1,1,1,0,1],[0,1,0,0,0,1,1],[0,1,1,0,0,0,1],[0,1,0,1,1,1,1],[0,1,1,1,0,1,1],[0,1,1,0,1,1,1],[0,0,0,1,0,1,1]]},104:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(745),r=n(299),s=n(497);window.addEventListener("DOMContentLoaded",(function(){fetch("/_header.html").then((function(e){return e.text()})).then((function(e){var t=document.querySelector("header");t&&(t.innerHTML=e)})).then(r.mdiIcon).then(i.headerOnClick).then(s.settingMenuClose).catch(console.error),fetch("/_common.html").then((function(e){return e.text()})).then((function(e){var t=document.querySelector("head");t&&(t.innerHTML+=e)})).catch(console.error)}))},99:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.auth=t.userData=t.firebase=void 0;var r=i(n(902));t.firebase=r.default,n(423);var s=n(645),o=n(519),a={name:"",uid:"",mail:"",google:"",twitter:"",facebook:"",mailVerified:!1};t.userData=a,r.default.initializeApp(s.firebaseConfig);var u=r.default.auth();t.auth=u,u.onAuthStateChanged((function(e){var n,i,r,s;if(e){if("/login"===location.pathname)return void(location.pathname="/");t.userData=a={name:e.displayName,uid:e.uid,mail:null===(n=e.providerData.filter((function(e){return"password"===(null==e?void 0:e.providerId)}))[0])||void 0===n?void 0:n.uid,google:null===(i=e.providerData.filter((function(e){return"google.com"===(null==e?void 0:e.providerId)}))[0])||void 0===i?void 0:i.photoURL,twitter:null===(r=e.providerData.filter((function(e){return"twitter.com"===(null==e?void 0:e.providerId)}))[0])||void 0===r?void 0:r.photoURL,facebook:null===(s=e.providerData.filter((function(e){return"facebook.com"===(null==e?void 0:e.providerId)}))[0])||void 0===s?void 0:s.photoURL,mailVerified:e.emailVerified},(0,o.firebaseUserDataLoaded)()}else"/login"!==location.pathname&&(location.pathname="/login")})),u.languageCode="ja",u.setPersistence(r.default.auth.Auth.Persistence.LOCAL).catch(console.error)},645:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firebaseConfig=void 0,t.firebaseConfig={apiKey:"AIzaSyDL9XGWSENz1_7P3KoFFT3rKHv4aBuQGGs",authDomain:"pay.kss-pc.club",databaseURL:"https://kss-pay-f0a57.firebaseio.com",projectId:"kss-pay-f0a57",storageBucket:"kss-pay-f0a57.appspot.com",messagingSenderId:"204708930204",appId:"1:204708930204:web:8b7421c5d3f7d32ecf8359"}},970:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(755)),a=n(935),u=!1;window.addEventListener("DOMContentLoaded",(function(){(0,o.default)("footer div").on("click",(function(){return i(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return u?[3,2]:(u=!0,e=(0,o.default)(this).attr("class"),(0,o.default)("main div.container.showing").removeClass("showing"),(0,o.default)("footer div.showing").removeClass("showing"),[4,(0,a.sleep)(700)]);case 1:t.sent(),(0,o.default)("main div.container.show").removeClass("show"),e?(0,o.default)("main div.container.".concat(e)).addClass("show").addClass("showing"):console.error('Variable "cls" is undefined'),(0,o.default)(this).addClass("showing"),u=!1,t.label=2;case 2:return[2]}}))}))}))}))},935:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toast=t.modal=t.sleep=void 0;var o=s(n(755)),a=function(e){return new Promise((function(t){return setTimeout(t,e)}))};t.sleep=a,t.modal=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),n||(0,o.default)(".modal .modalContainer form#emailLinkForm").remove(),(0,o.default)(".modal p.ttl").text(e.ttl),(0,o.default)(".modal p.detail").text(e.detail),e.link?((0,o.default)(".modal p a").text(e.link.ttl),(0,o.default)(".modal p a").attr("href",e.link.url)):(0,o.default)(".modal p a").hide(),(0,o.default)(".modal").fadeIn().css("display","grid"),t?((0,o.default)(".modal p.close").show(),(0,o.default)(".modal, .modal p.close i").on("click",(function(e){e.target===e.currentTarget&&(0,o.default)(".modal").fadeOut()}))):((0,o.default)(".modal p.close").hide(),(0,o.default)(".modal, .modal p.close i").off("click"))},t.toast=function(e){return i(void 0,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return(0,o.default)(".toast p").text(e),(0,o.default)(".toast").fadeIn().css("display","grid"),[4,a(3e3)];case 1:return t.sent(),(0,o.default)(".toast").fadeOut(),[2]}}))}))}},745:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.headerOnClick=void 0;var o=s(n(755)),a=n(99),u=n(935),c=n(541);t.headerOnClick=function(){"/login"===location.pathname&&(0,o.default)("header div").remove(),(0,o.default)("header i.open").on("click",(function(){return i(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return(0,o.default)(this).next("ul").fadeIn().addClass("showing"),[4,(0,u.sleep)(700)];case 1:return e.sent(),(0,o.default)(this).next("ul").attr("data-showing","true"),[2]}}))}))})),(0,o.default)("header ul li").on("click",(function(){return i(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return(0,o.default)(this).parent().fadeOut().removeClass("showing"),[4,(0,u.sleep)(700)];case 1:return e.sent(),(0,o.default)(this).parent().removeAttr("data-showing"),[2]}}))}))})),(0,o.default)("header ul li#sync").on("click",c.sync),(0,o.default)("header ul li#settings").on("click",(function(){(0,o.default)("div.setting_container").show().animate({top:20},700)})),(0,o.default)("li#logout").on("click",(function(){confirm("ログアウトしますか？")&&a.firebase.auth().signOut().catch(console.error)}))}},778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(811),r=n(99);window.addEventListener("DOMContentLoaded",(function(){"/login"===location.pathname&&new i.auth.AuthUI(r.firebase.auth()).start("#firebaseui-auth-container",{signInOptions:[r.firebase.auth.EmailAuthProvider.PROVIDER_ID,r.firebase.auth.GoogleAuthProvider.PROVIDER_ID,r.firebase.auth.FacebookAuthProvider.PROVIDER_ID,r.firebase.auth.TwitterAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!0},signInFailure:function(e){console.error(e)},uiShown:function(){document.getElementById("loading").style.display="none"}},signInSuccessUrl:"/",privacyPolicyUrl:"/policy"})}))},519:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.firebaseUserDataLoaded=void 0,n(393),n(104),n(970),n(778),n(455),n(813);var o=s(n(755)),a=n(99),u=n(935),c=n(541);window.addEventListener("offline",(function(){location.href="./onlineCheck"})),window.addEventListener("DOMContentLoaded",(function(){var e=(0,o.default)("header").outerHeight(),t=(0,o.default)("footer").outerHeight();e&&t&&(0,o.default)("main").css("margin-top",e).css("height",window.innerHeight-e-t).css("margin-bottom",t),(0,o.default)("div.container.barcode").on("click",(function(){(0,o.default)(this).toggleClass("rotate")})),(0,o.default)("p#logout").on("click",(function(){confirm("ログアウトしますか？")&&a.firebase.auth().signOut().catch(console.error)})),(0,o.default)("p#help").on("click",(function(){(0,u.modal)({ttl:"決済するには？",detail:"決済するために、上にあるカードをタップして、バーコードを表示しましょう。\nバーコードが表示されたら、店員に表示して読み取ってもらうだけで、決済が完了します。\nただし、事前にチャージをする必要があります。チャージ専用ブースへご来店ください。"})}))})),window.addEventListener("load",(function(){return i(void 0,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return(0,o.default)("header,main,footer").fadeIn(700),(0,o.default)("div.loader_container").fadeOut(700),[4,(0,u.sleep)(700)];case 1:return e.sent(),(0,o.default)("div.loader_container").remove(),console.log("%cSTOP!!%c\nあなたが現在開いているのは、開発者向けのブラウザツールです。ユーザーが開くべきものではありません。\nここに何かをコピー・貼り付けするように言われた場合、第三者があなたのアカウントへのアクセスを得るための%c詐欺・不正行為%cです。\n\n心当たりのない方は、特別棟2F奥にあるパソコン室までお訪ねください。\n心当たりがある方も、パソコン室に来なさい（#^ω^）","color: #f00; font-size: 64px;","font-size: 24px;","color: #f00; font-size: 24px","font-size: 24px"),[2]}}))}))})),t.firebaseUserDataLoaded=function(){["facebook","google","twitter","mail"].forEach((function(e){a.userData[e]?(0,o.default)(".container.setting .column.sns .btnC button#".concat(e)).next("p.status").addClass("linked"):(0,o.default)(".container.setting .column.sns .btnC button#".concat(e)).next("p.status").removeClass("linked")})),(0,o.default)("p.userId.ttl").text(a.userData.uid||"ID取得時にエラーが発生しました"),a.userData&&a.userData.name&&(0,u.toast)("ようこそ、".concat(a.userData.name,"さん！")),a.userData.mail&&!a.userData.mailVerified&&((0,o.default)(".modal p a").on("click",(function(){var e;null===(e=a.auth.currentUser)||void 0===e||e.sendEmailVerification().then((function(){(0,u.toast)("確認メールを送信しました")})).catch((function(e){console.error(e),(0,u.toast)("エラーが発生しました")})),(0,o.default)(this).off("click")})),(0,u.modal)({ttl:"メールアドレスが確認されていません",detail:"このアカウントのメールアドレスが認証されていません。メールを確認し、認証を行ってください。\n利用するのが初めての方はまだメールが送信されていないことがあります。\n以下リンクをクリックして、メールを送信してください。",link:{show:!0,url:"#",ttl:"認証メールを送信"}},!1)),(0,c.sync)()}},299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mdiIcon=void 0,t.mdiIcon=function(){document.querySelectorAll("mdi-icon").forEach((function(e){var t,n=document.createElement("i");n.className=e.className;var i=e.getAttribute("icon");i&&(t=n.classList).add.apply(t,["mdi","mdi-".concat(i)]),e.insertAdjacentElement("afterend",n),e.remove()}))}},455:()=>{"use strict";"serviceWorker"in navigator&&"/login"!==location.pathname&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./serviceWorker.js").then((function(e){console.log("[Service Worker] Service Worker Registered.",e)})).catch((function(e){return console.error("[Service Worker] Something went wrong.",e)}))}))},497:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.settingMenuClose=void 0;var o=s(n(755)),a=n(935);t.settingMenuClose=function(){(0,o.default)("div.setting_container div.top i").on("click",(function(){return i(void 0,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return(e=(0,o.default)("div.setting_container")).animate({top:"120vh"},700),[4,(0,a.sleep)(700)];case 1:return t.sent(),e.hide(),[2]}}))}))}))}},813:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.historyItemClicked=void 0;var o=s(n(755)),a=n(935);t.historyItemClicked=function(){return i(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return(0,o.default)(this).hasClass("showing")?((0,o.default)(this).animate({height:87},500),[4,(0,a.sleep)(300)]):[3,3];case 1:return t.sent(),(0,o.default)(this).find("p.cost").fadeIn(200),(0,o.default)(this).removeClass("showing"),[4,(0,a.sleep)(210)];case 2:return t.sent(),(0,o.default)(this).removeAttr("style"),[3,6];case 3:return e=(0,o.default)(this).addClass("showing").outerHeight(),(0,o.default)(this).removeClass("showing"),(0,o.default)(this).find("p.cost").fadeOut(200),[4,(0,a.sleep)(200)];case 4:return t.sent(),(0,o.default)(this).animate({height:e},500),(0,o.default)(this).addClass("showing"),[4,(0,a.sleep)(50)];case 5:t.sent(),(0,o.default)(this).removeAttr("style"),(0,o.default)(this).find("p.cost").fadeIn(500),t.label=6;case 6:return[2]}}))}))}},541:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sync=void 0,n(507);var o=s(n(755)),a=n(434),u=n(868),c=n(99),l=n(935),h=n(813),d=n(716);t.sync=function(){return i(void 0,void 0,void 0,(function(){var e,t;return r(this,(function(n){switch(n.label){case 0:return(0,o.default)("div.container.barcode p.money").html('<span class="placeholder"><span class="placeholder-bg"></span></span>'),(0,o.default)("div.container.barcode p.unit").hide(),(0,a.loadingBarcode)(),(0,o.default)("div.container.history ul").children().remove(),(0,o.default)("div.container.history ul").append('<li><p class="when">Loading...</p></li>'),(e=null===(t=c.firebase.auth().currentUser)||void 0===t?void 0:t.uid)?[4,(0,u.barcodeRegenerate)()]:((0,l.toast)("更新に失敗しました。"),[2]);case 1:return n.sent()?[3,4]:[4,(0,d.userInitialize)()];case 2:return n.sent(),[4,(0,u.barcodeRegenerate)()];case 3:n.sent(),n.label=4;case 4:return c.firebase.firestore().collection("users").doc(e).get({}).then((function(e){var t=e.data();t?((0,o.default)("div.container.barcode p.money").text(t.money.toLocaleString()),(0,o.default)("div.container.barcode p.unit").show(),(0,a.generateBarcode)(Number(t.barcode)),(0,o.default)("div.container.history ul").children().remove(),0===t.history.length?(0,o.default)("div.container.history ul").append('\n          <li>\n            <p class="when">購入履歴がありません</p>\n            <p class="details" data-where="KSS Payで決済してみましょう！"></p>\n          </li>'):(t.history.sort((function(e,t){return t.time.toMillis()-e.time.toMillis()})),t.history.forEach((function(e){var t=e.time.toDate();(0,o.default)("div.container.history ul").append('\n            <li>\n              <p class="when">'.concat(t.getFullYear(),".").concat(String(t.getMonth()+1).padStart(2,"0"),".").concat(String(t.getDate()).padStart(2,"0")," ").concat(String(t.getHours()).padStart(2,"0"),":").concat(String(t.getMinutes()).padStart(2,"0"),'</p>\n              <p class="details" data-where="').concat(e.place,'" data-what="').concat(e.item,'" data-amount="').concat(e.amount,'"></p>\n              <p class="cost">').concat(e.cost,"</p>\n            </li>"))})),(0,o.default)("div.container.history ul li").on("click",h.historyItemClicked))):(0,l.toast)("ユーザーデータを発見できませんでした...")})).catch(console.error),[2]}}))}))}},716:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.userInitialize=void 0;var s=n(99);t.userInitialize=function(){return i(void 0,void 0,void 0,(function(){var e,t,n;return r(this,(function(i){switch(i.label){case 0:return e=s.firebase.firestore(),t=s.userData.uid,[4,(n=e.collection("users").doc(t||void 0)).get()];case 1:return i.sent().exists?[2,!1]:[4,n.set({barcode:"0000000000000",money:0,history:[]})];case 2:return i.sent(),[2,!0]}}))}))}},180:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(444),r=n(463),s=n(238),o=n(333);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new r.wA("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate))))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const u=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r,o={}){const a=s.initializeApp(r,o);if((0,i.r3)(t,a.name))return t[a.name];const u=new e(a,n);return t[a.name]=u,u},app:r,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=r())=>{if("function"!=typeof e[a])throw u.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,i.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function r(e){if(e=e||s._DEFAULT_ENTRY_NAME,!(0,i.r3)(t,e))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),r.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,i.ZB)(t,e)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.12",undefined)},238:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>s.ZR,SDK_VERSION:()=>_,_DEFAULT_ENTRY_NAME:()=>l,_addComponent:()=>p,_addOrOverwriteComponent:()=>m,_apps:()=>d,_clearComponents:()=>b,_components:()=>f,_getProvider:()=>v,_registerComponent:()=>g,_removeServiceInstance:()=>y,deleteApp:()=>k,getApp:()=>T,getApps:()=>S,initializeApp:()=>E,onLog:()=>A,registerVersion:()=>C,setLogLevel:()=>x});var i=n(463),r=n(333),s=n(444);class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const a="@firebase/app",u="0.7.11",c=new r.Yd("@firebase/app"),l="[DEFAULT]",h={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function m(e,t){e.container.addOrOverwriteComponent(t)}function g(e){const t=e.name;if(f.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const t of d.values())p(t,e);return!0}function v(e,t){return e.container.getProvider(t)}function y(e,t,n=l){v(e,t).clearInstance(n)}function b(){f.clear()}const w=new s.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class I{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const _="9.6.1";function E(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const o=d.get(r);if(o){if((0,s.vZ)(e,o.options)&&(0,s.vZ)(n,o.config))return o;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const e of f.values())a.addComponent(e);const u=new I(e,n,a);return d.set(r,u),u}function T(e=l){const t=d.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function S(){return Array.from(d.values())}async function k(e){const t=e.name;d.has(t)&&(d.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function C(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}g(new i.wA(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}function A(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,r.Am)(e,t)}function x(e){(0,r.Ub)(e)}g(new i.wA("platform-logger",(e=>new o(e)),"PRIVATE")),C(a,u,""),C(a,u,"esm2017"),C("fire-js","")},463:(e,t,n)=>{"use strict";n.d(t,{wA:()=>r,H0:()=>a});var i=n(444);class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(i)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(i);return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===s?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var i;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},333:(e,t,n)=>{"use strict";n.d(t,{in:()=>r,Yd:()=>c,Ub:()=>l,Am:()=>h});const i=[];var r;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},o=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=a[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=u,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}function l(e){i.forEach((t=>{t.setLogLevel(e)}))}function h(e,t){for(const n of i){let i=null;t&&t.level&&(i=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=i?i:t.logLevel)&&e({level:r[n].toLowerCase(),message:o,args:s,type:t.name})}}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(519)})();